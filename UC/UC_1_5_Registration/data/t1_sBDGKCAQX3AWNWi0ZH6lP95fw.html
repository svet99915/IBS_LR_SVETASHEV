home.loadManager.subscribe('jquery', function(){if(window.Ya&&Ya.Rum&&Ya.Rum.time){Ya.Rum.time("2095");}window.home=window.home||{},home.bundles=home.bundles||{},home.bundles.staticURL=home.bundles.staticURL||{},home.bundles.staticURL["user-points"]={js:"//yastatic.net/s3/home-static/_/c/7/TTvDlYi7fb8TYnWSe4qGFs9TY.js",css:"//yastatic.net/s3/home-static/_/P/j/YXBsO8xiK9yo5Qfw1pxNQn0IU.css","js.gen":"//yastatic.net/s3/home-static/_/c/7/TTvDlYi7fb8TYnWSe4qGFs9TY.js","css.gen":"//yastatic.net/s3/home-static/_/P/j/YXBsO8xiK9yo5Qfw1pxNQn0IU.css"},home.bundles.staticURL.keyboard={js:"//yastatic.net/s3/home-static/_/C/p/oSDzSW_Qs2iV7iiXVWk9GgwTo.js",css:"//yastatic.net/s3/home-static/_/y/S/jS_Y8zqDYp9wQyGifr8o1_Or4.css","js.gen":"//yastatic.net/s3/home-static/_/C/p/oSDzSW_Qs2iV7iiXVWk9GgwTo.js","css.gen":"//yastatic.net/s3/home-static/_/y/S/jS_Y8zqDYp9wQyGifr8o1_Or4.css"},home.bundles.staticURL["direct-new-design"]={js:"//yastatic.net/s3/home-static/_/C/e/3FEk6IQapV44D6Fv8LucAXwWg.js",css:"//yastatic.net/s3/home-static/_/0/m/QaR1POk2jMRyVgIRpLTejVo20.css","js.gen":"//yastatic.net/s3/home-static/_/C/e/3FEk6IQapV44D6Fv8LucAXwWg.js","css.gen":"//yastatic.net/s3/home-static/_/o/j/5KT_dgBP99_mjI7Km_dQgxcnc.css"},home.bundles.staticURL["media-event"]={js:"//yastatic.net/s3/home-static/_/w/0/jK3Xf4XWDCq2nzozjQWYWq9Xg.js",css:"//yastatic.net/s3/home-static/_/b/j/_qnpwvUnFJwMBcPQGRPE8H0ig.css","js.gen":"//yastatic.net/s3/home-static/_/w/0/jK3Xf4XWDCq2nzozjQWYWq9Xg.js","css.gen":"//yastatic.net/s3/home-static/_/b/j/_qnpwvUnFJwMBcPQGRPE8H0ig.css"},home.bundles.staticURL["media-event-promo"]={js:"//yastatic.net/s3/home-static/_/7/Y/zZnejSAaZxA1kGZ_2rVL9Oa3o.js",css:"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css","js.gen":"//yastatic.net/s3/home-static/_/7/Y/zZnejSAaZxA1kGZ_2rVL9Oa3o.js","css.gen":"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css"},home.bundles.staticURL["win10-stripe"]={js:"//yastatic.net/s3/home-static/_/Q/8/MiM9GahcgDwyObKXJ5is-VYKg.js",css:"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css","js.gen":"//yastatic.net/s3/home-static/_/Q/8/MiM9GahcgDwyObKXJ5is-VYKg.js","css.gen":"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css"},home.bundles.staticURL.streamnow={js:"//yastatic.net/s3/home-static/_/G/G/rXA3k9sIWRyW2NFV5GNZ8mLLA.js",css:"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css","js.gen":"//yastatic.net/s3/home-static/_/G/G/rXA3k9sIWRyW2NFV5GNZ8mLLA.js","css.gen":"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css"},home.bundles.staticURL["stream-promo-popup"]={js:"//yastatic.net/s3/home-static/_/E/a/fOrXLetVF-LIre-IrkkD3tmx0.js",css:"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css","js.gen":"//yastatic.net/s3/home-static/_/E/a/fOrXLetVF-LIre-IrkkD3tmx0.js","css.gen":"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css"},home.bundles.staticURL["mobile-balloon"]={js:"//yastatic.net/s3/home-static/_/y/n/HlqYs_7LTjexaY6EPDKqSDyUc.js",css:"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css","js.gen":"//yastatic.net/s3/home-static/_/y/n/HlqYs_7LTjexaY6EPDKqSDyUc.js","css.gen":"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css"},home.bundles.staticURL["b-errormsg"]={js:"//yastatic.net/s3/home-static/_/1/T/7dvGKwOhW0GGigAtIDIPAvGRc.js",css:"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css","js.gen":"//yastatic.net/s3/home-static/_/1/T/7dvGKwOhW0GGigAtIDIPAvGRc.js","css.gen":"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css"},home.bundles.staticURL["b-time-banner"]={js:"//yastatic.net/s3/home-static/_/Q/z/4xoPb16i63nxz3fSiO0nhAzYE.js",css:"//yastatic.net/s3/home-static/_/c/T/F1LmBb5BObTgPnc7CgizJggXU.css","js.gen":"//yastatic.net/s3/home-static/_/Q/z/4xoPb16i63nxz3fSiO0nhAzYE.js","css.gen":"//yastatic.net/s3/home-static/_/c/T/F1LmBb5BObTgPnc7CgizJggXU.css"},home.bundles.staticURL["media-broadcast"]={js:"//yastatic.net/s3/home-static/_/A/B/kODFP6xqHFRo5TBzu0Mz16vMI.js",css:"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css","js.gen":"//yastatic.net/s3/home-static/_/A/B/kODFP6xqHFRo5TBzu0Mz16vMI.js","css.gen":"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css"},function(t){function e(e){for(var i,o,s=e[0],r=e[1],a=0,l=[];a<s.length;a++)o=s[a],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&l.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);for(c&&c(e);l.length;)l.shift()()}var i={},n={"null":0};function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,o){i=n[t]=[e,o]}));e.push(i[2]=s);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(t){return o.p+""+{1:"a0"}[t]+"/"+{1:"a013ce0bc672e5cb9fb8066682af2f17"}[t]+".js"}(t),0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous");var c=new Error;r=function(e){a.onerror=a.onload=null,clearTimeout(l);var i=n[t];if(0!==i){if(i){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,i[1](c)}n[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="//yastatic.net/s3/home-static/_/",o.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var a=0;a<s.length;a++)e(s[a]);var c=r;o(o.s="q6V1")}({"+1uM":function(t,e){!function(){var t="__uniqMBEM"+Math.random().toString().substr(2,5),e=MBEM.blocks={};MBEM.prototype=Object.create(MBEM.Observable.prototype),MBEM.prototype.getDefaultParams=function(){return{}};var i=MBEM._propListeners="__uniqMBEMListeners"+Math.random().toString().substr(2,5);MBEM.prototype.bindTo=function(t,e,n){return"function"==typeof e&&(n=e,e=t,t=this.domElem),"string"==typeof t?t=this.elem(t):Array.isArray(t)||(t=[t]),e.split(" ").forEach((function(e){t.forEach((function(t){var o=n.bind(this);o.origHandler=n,t[i]||(t[i]={}),t[i][e]||(t[i][e]=[]),t[i][e].push(o),t.addEventListener(e,o)}),this)}),this),this},MBEM.prototype.elem=function(t,e,i){var n=[],o=t.split(" ").map((function(t){var o=this.__self.className(t,e,i);return MBEM.cls.contains(this.domElem,o)&&n.push(this.domElem),"."+o}),this).join(",");return n.concat(MBEM.arrayFrom(this.domElem.querySelectorAll(o)))};var n=function(){};MBEM.override=function(t,e){return"function"==typeof e&&e.toString().indexOf("__base")>-1?(t=t||n,function(){var i=this.__base;this.__base=t;var n=e.apply(this,arguments);return this.__base=i,n}):e},MBEM.staticProto={},MBEM.staticProto.className=function(t,e,i){var n=this._name;return t&&(n+="__"+t),void 0!==e&&!1!==i&&(n+="_"+e+(!0!==i&&void 0!==i?"_"+i:"")),n},MBEM.decl=function(t,i,n){i=i||{};var o,s,r,a,c,l=!1;for(var h in"object"==typeof t&&t.baseBlock?(l=!0,c=t.baseBlock,t=t.block):c=t,c in e?(s=e[c].prototype,o=r=e[c]):(l=!0,s=MBEM.prototype,r=MBEM.staticProto),l&&(s=Object.create(s),(o=function(t){this.__internalConstructor(t),this.__constructor(t),this.__afterConstructor(t)}).prototype=s,o.prototype.constructor=o,o.prototype.__self=o,o._name=t,e[t]=o),i)i.hasOwnProperty(h)&&(s[h]=MBEM.override(s[h],i[h]));for(a in r)n&&n.hasOwnProperty(a)||o[a]||(o[a]=r[a]);if(n)for(a in n)n.hasOwnProperty(a)&&(o[a]=MBEM.override(r[a],n[a]));return o},MBEM.getBlock=function(e,i){return e[t]&&e[t][i]},MBEM.consoleError=function(){if(window.console&&window.console.error)try{window.console.error.apply(window.console,arguments)}catch(t){}},MBEM.prototype.__internalConstructor=function(e){e=e||{},this.domElem=e.node,this.params=MBEM.extend(this.getDefaultParams(),e.params||{}),e.node&&((e.node[t]||(e.node[t]={}))[this.__self._name]=this)},MBEM.prototype.__constructor=function(){},MBEM.prototype.__afterConstructor=function(){},MBEM.initBlockFromNode=function(t,e,i){var n;return(n=MBEM.getBlock(t,e))?n:(i||(i=MBEM.getNodeParams(t)[e]),MBEM._createBlockFromNode({node:t,block:e,params:i}))},MBEM.createBlock=function(t){if(e[t.block])return new e[t.block](t);MBEM.consoleError("Block is not declared",t.block)},MBEM._createBlockFromNode=MBEM.createBlock,MBEM.getNodeParams=function(t){var e;try{e=JSON.parse(t.getAttribute("data-bem"))||{}}catch(i){return void MBEM.consoleError("Incorrect params",t)}return e}}()},"+6Tr":function(t,e){var i;i={},BEM.DOM.decl({block:"popup",modName:"body-scroll",modVal:"no"},{onSetMod:{visibility:function(){return this.afterCurrentEvent((function(){this.domElem&&this.hasMod("visibility","visible")?i[this.params.uniqId]=!0:delete i[this.params.uniqId],this._manageScopeOverflow()})),this.__base()}},destruct:function(){var t=this.params.uniqId;i[t]&&(delete i[t],this._manageScopeOverflow()),this.__base.apply(this,arguments)},_enableScroll:function(){return this._scope.css({overflow:""}),this},_disableScroll:function(){return this._scope.css({overflow:"hidden"}),this},_manageScopeOverflow:function(){var t=Object.keys(i).length;0===t?this._enableScroll():1===t&&this._disableScroll()}})},"+BsJ":function(t,e){home.htmlFilter=function(t){var e=String(t);return e.indexOf("&")>-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")>-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")>-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf('"')>-1&&(e=e.replace(/"/g,"&quot;")),e},home.getBEMParams=function(t){return home.htmlFilter(JSON.stringify(t))},home.getBEMClassname=function(t,e){var i=e.mods,n=t,o=i?home.getBEMMods(t,i):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),n+=" "+e.mix.map((function(e){var i=e.block||t,n=e.mods;return"string"==typeof e?e:(e.elem&&(i+="__"+e.elem,n=e.elemMods),n&&(i+=" "+home.getBEMMods(i,n)),i)})).join(" ")):n+=" "+e.mix),o&&(n+=" "+o),n},home.getBEMMods=function(t,e){var i,n=[];for(i in e)e.hasOwnProperty(i)&&(e[i]||0===e[i])&&n.push(t+"_"+i+"_"+e[i]);return n.join(" ")},home.emptyAttr={},home.getAttributes=function(t){if(!t)return"";var e,i="";for(e in t)if(t.hasOwnProperty(e)){var n=t[e];(n||0===n)&&(n===home.emptyAttr?i+=" "+e:((n=n.toString()).indexOf('"')>-1&&(n=n.replace(/"/g,"&quot;")),i+=" "+e+'="'+n+'"'))}return i}},"+IdE":function(t,e){!function(t,e,i){var n=e(window),o=e(document),s={},r={},a={},c={},l={},h=t.blocks,d=t.INTERNAL,u=d.NAME_PATTERN,m=d.MOD_DELIM,p=d.ELEM_DELIM,f=RegExp("[^"+m+"]"+m+"("+u+")(?:"+m+"("+u+"))?$"),_=d.buildModPostfix,g=d.buildClass,v=Array.prototype.slice,b=Array.prototype.reverse;function y(t,i,n,o,a){"boolean"==typeof n&&(a=o,o=n,n=void 0);var c=i[0];if(void 0===c.dataset||"react"!==c.dataset.lego){var l=(n=w(n||E(c)[t],c,t)).uniqId;if(r[l])return r[l]._init();s[l]=s[l]?s[l].add(i):i;var d=c.parentNode;d&&11!==d.nodeType||e.unique(s[l]);var u=h[t]||C.decl(t,{},{live:!0});if(!(u._liveInitable=Boolean(u._processLive()))||o||!1===n.live){o&&i.addClass("i-bem");var m=new u(s[l],n,Boolean(o));return delete s[l],a&&a.apply(m,v.call(arguments,4)),m}}}function w(t,i,n,o){(t||(t={})).uniqId||(t.uniqId=(t.id?n+"-id-"+t.id:e.identify())+(o||e.identify()));var s=e.identify(i),r=a[s]||(a[s]={});return r[n]||(r[n]=t),t}function k(t,e,i){var n=t.find(e);return i?n:n.add(t.filter(e))}function E(t){var i=e.identify(t);return a[i]||(a[i]=M(t))}function M(t){var e=t.getAttribute("data-bem");return e?JSON.parse(e):{}}function x(t){delete a[e.identify(t)]}function T(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var C=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,i,n){this.domElem=t,this._eventNameCache={},this._elemCache={},this._blockInsideCache={},r[this._uniqId=i.uniqId||e.identify(this)]=this,this._needSpecialUnbind=!1,this.__base(null,i,n)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var i=this._buildBlockCacheKey(t,e),n=this._findBlocks("find",t,e,!0);return this._blockInsideCache[i]=n,n},blockInside:function(t,e){var i=this._buildBlockCacheKey(t,e),n=this._blockInsideCache[i];return n||(n=this.findBlockInside(t,e)),n},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var i="string"==typeof e?e:g(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+i},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,n,o){if(!this.domElem)return o?null:[];n||(n=i,i=void 0);var s=i?"string"==typeof i?this.findElem(i):i:this.domElem,r="string"==typeof n,a=r?n:n.block||n.blockName,c="."+(r?a:g(a,n.modName,n.modVal))+(o?":first":""),l=s.filter(c);if(t&&(l=l.add(s[t](c))),o)return l[0]?y(a,l.eq(0),!0):null;var h=[],d={};return e.each(l,(function(t,i){var n=y(a,e(i),!0);d[n._uniqId]||(d[n._uniqId]=!0,h.push(n))})),h},bindToDomElem:function(t,i,n,o){e.isFunction(n)&&(o=n,n=void 0);var s=this,r=function(t){return(t.data||(t.data={})).domElem=e(this),o.apply(s,arguments)};return o?t.bind(s._buildEventName(i),n,(r.guid=o.guid=o.guid||e.guid++,r)):e.each(i,(function(e,i){s.bindToDomElem(t,e,n,i)})),s},bindToDoc:function(t,e,i){return this._needSpecialUnbind=!0,this.bindToDomElem(o,t,e,i)},bindToWin:function(t,i,o){return e.isFunction(i)&&(o=i,i=void 0),this._needSpecialUnbind=!0,this.bindToDomElem(n,t,i,o)},bindTo:function(t,i,n,o){var s=arguments.length;switch(s){case 3:e.isFunction(n)&&(o=n,"object"==typeof i&&(n=i,i=t,t=this.domElem));break;case 2:e.isFunction(i)?(o=i,i=t,t=this.domElem):"string"==typeof t||t instanceof e||(n=i,i=t,t=this.domElem);break;case 1:i=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,i,n,o)},unbindFromDomElem:function(t,e,i){return t.unbind(this._buildEventName(e),i),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(o,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(n,t,e)},unbindFrom:function(t,i,n){var o=arguments.length;return 1===o?(i=t,t=this.domElem):2===o&&e.isFunction(i)?(n=i,i=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,i,n)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map((function(t){return e._buildOneEventName(t)})).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var i="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+i,e[t];var n=".bem_"+this.__self._name;return e[t]=t.split(".").map((function(t,e){return 0===e?t+n:n+"_"+t})).join("")+i,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,i){var n=this,o=c[n.__self._buildCtxEventName(t.type)],s={};o&&n.domElem.each((function(){for(var r=this,a=o.counter;r&&a;){var c=e.identify(r,!0);if(c){if(s[c])break;var l=o.ctxs[c];l&&(e.each(l,(function(e,o){o.fn.call(o.ctx||n,t,i)})),a--),s[c]=!0}r=r.parentNode}}))},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0),o=this._extractMods(n,e?t:void 0);return e||(n.length?n.forEach((function(t){i[t]=o[t]})):i=o),o},setMod:function(t,i,n){if(t&&void 0!==n&&t.length>1){var o=this;return t.each((function(){var s=e(this);s.__bemElemName=t.__bemElemName,o.setMod(s,i,n)})),o}return this.__base(t,i,n)},_extractModVal:function(t,e,i){var n,o=(e||this.domElem)[0];return o&&(n=o.getAttribute("class").match(this.__self._buildModValRE(t,i||e))),n?n[2]||!0:""},_extractMods:function(t,e){var i={},n=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(n?u:t.join("|"))+")",e,"g"))||[]).forEach((function(t){var e=t.match(f);i[e[1]]=e[2]||!0,++o})),o<t.length&&t.forEach((function(t){t in i||(i[t]="")})),i},_afterSetMod:function(t,i,n,o,s){if(this._isDestructing)return this.__base.apply(this,arguments);var r=this.__self,a=r._buildModClassPrefix(t,s),c=r._buildModValRE(t,s,"g"),l=""===i||!1===i;(o||this.domElem).each((function(){var t=e(this),o=t.attr("class"),s=a;!0!==i&&(s+=m+i),(!0===n?c.test(o):(" "+o).indexOf(" "+a+m)>-1)?t.attr("class",o.replace(c,l?"":"$1"+s)):l||t.addClass(s)})),s&&this.dropElemCache(s,t,n).dropElemCache(s,t,i),this.__base.apply(this,arguments)},findElem:function(t,e,i,n){arguments.length%2?(n=i,i=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var o=this.__self.getName(),s=_(i,n),r=[],a=e.map((function(t){return r.push("."+g(o,t,i,n)),t+s})),c=1===a.length,l=k(t,r.join(","));return t===this.domElem&&r.forEach((function(t,i){(this._elemCache[a[i]]=c?l:l.filter(t)).__bemElemName=e[i]}),this),l},_elem:function(t,e,i){return this._elemCache[t+_(e,i)]||this.findElem(t,e,i)},elem:function(t,i,n){if(2===arguments.length&&(n=!0),i&&"string"!=typeof i)return i.__bemElemName=t,i;if(t.indexOf(" ")<0)return this._elem(t,i,n);var o=e([]);return t.split(" ").forEach((function(t){o=o.add(this._elem(t,i,n))}),this),o},dropElemCache:function(t,e,i){if(t){var n=_(e,i);t.indexOf(" ")<0?delete this._elemCache[t+n]:t.split(" ").forEach((function(t){delete this._elemCache[t+n]}),this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),M(t[0])[g(this.__self.getName(),e)]||{}},elemify:function(t,i){return(t=e(t)).__bemElemName=i,t},containsDomElem:function(t){var e=!1;return this.domElem.each((function(){return!(e=t.parents().andSelf().index(this)>-1)})),e},buildSelector:function(t,e,i){return this.__self.buildSelector(t,e,i)},destruct:function(t){var i=this.__self;this._isDestructing||(this._isDestructing=!0,this._needSpecialUnbind&&i.doc.add(i.win).unbind("."+this._uniqId),this.dropElemCache().domElem.each((function(t,i){var n=E(i);e.each(n,(function(t,e){var n=r[e.uniqId];n?n._isDestructing||T(n,i):delete s[e.uniqId]})),x(i)})),t||this.domElem.remove(),this.__base(),delete r[this.un()._uniqId],delete this.domElem,delete this._elemCache)}},{scope:null,doc:o,win:n,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var i=this.getName(),n=this.live;this.live=function(){return this.getName()===i?e:n.apply(this,arguments)}}return e},init:function(t,i,n){!t||e.isFunction(t)?(n=i,i=t,t=o):"string"==typeof t&&(t=e(t));var s=e.identify();return k(t,".i-bem").each((function(){!function(t,i){var n=t[0];e.each(E(n),(function(o,s){w(s,n,o,i);var a=r[s.uniqId];a?a.domElem.index(n)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,s)):y(o,t,s)}))}(e(this),s)})),i&&this.afterCurrentEvent((function(){i.call(n||this,t)})),this._runAfterCurrentEventFns(),t},destruct:function(t,i,n){"boolean"!=typeof t&&(n=i,i=t,t=void 0),i&&(b.call(k(i,".i-bem",n)).each((function(t,i){var n=E(this);e.each(n,(function(t,e){if(e.uniqId){var n=r[e.uniqId];n?T(n,i):delete s[e.uniqId]}})),x(this)})),t||(n?i.empty():i.remove()))},update:function(t,e,i,n){return this.destruct(t,!0),this.init(t.html(e),i,n)},replace:function(t,i){return this.destruct(!0,t),this.init(e(i).replaceAll(t))},append:function(t,i){return this.init(e(i).appendTo(t))},prepend:function(t,i){return this.init(e(i).prependTo(t))},before:function(t,i){return this.init(e(i).insertBefore(t))},after:function(t,i){return this.init(e(i).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,i,n,s){var r=this;if(i.indexOf(" ")>-1)i.split(" ").forEach((function(e){r._liveClassBind(t,e,n,s)}));else{var a=l[i],c=e.identify(n);a||(a=l[i]={},o.bind(i,r._liveClassTrigger.bind(r))),c in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:c,fn:r._buildLiveEventFn(n,s)}),a.uniqIds[c]=a.fns.length-1)}return this},_liveClassUnbind:function(t,i,n){var o=l[i];if(o)if(n){if(o=o[t]){var s=e.identify(n);if(s in o.uniqIds){var r=o.uniqIds[s],a=o.fns.length-1;for(o.fns.splice(r,1);r<a;)o.uniqIds[o.fns[r++].uniqId]=r-1;delete o.uniqIds[s]}}}else delete o[t];return this},_liveClassTrigger:function(t){var i=l[t.type];if(i){var n=t.target,o=Object.keys(i);do{for(var s,r=" "+n.className+" ",a=0;s=o[a++];)if(-1!==r.indexOf(" "+s+" ")){for(var c=!1,h=i[s].fns,d=0;d<h.length;d++)!1===h[d].fn.apply(e(n),arguments)&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;o.splice(--a,1)}}while(o.length&&(n=n.parentNode))}},_buildLiveEventFn:function(t,i){var n=this;return function(o){var s=[n._name,((o.data||(o.data={})).domElem=e(this)).closest(n.buildSelector()),!0],r=y.apply(null,i?s.concat([t,o]):s);if(r&&!i&&t)return t.apply(r,arguments)}},liveInitOnEvent:function(t,e,i){return this.liveBindTo(t,e,i,!0)},liveBindTo:function(t,i,n,o){i&&!e.isFunction(i)||(n=i,i=t,t=void 0),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var s=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach((function(e){s._liveClassBind(g(s._name,e,t.modName,t.modVal),i,n,o)})),s):s._liveClassBind(g(s._name,t.elem,t.modName,t.modVal),i,n,o)},liveUnbindFrom:function(t,i,n){i&&!e.isFunction(i)||(n=i,i=t,t=void 0);var o=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach((function(t){o._liveClassUnbind(g(o._name,t),i,n)})),o):o._liveClassUnbind(g(o._name,t),i,n)},_liveInitOnBlockEvent:function(t,e,i,n){var o=this._name;return h[e].on(t,(function(t){if(t.block.domElem){var e=arguments,s=t.block[n](o);i&&s.forEach((function(t){i.apply(t,e)}))}})),this},liveInitOnBlockEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOutside")},on:function(t,e,i,n,o){return t.jquery?this._liveCtxBind(t,e,i,n,o):this.__base(t,e,i,n,o)},un:function(t,e,i,n){return t.jquery?this._liveCtxUnbind(t,e,i,n):this.__base(t,e,i)},liveCtxBind:function(t,e,i,n,o){return this._liveCtxBind(t,e,i,n,o)},_liveCtxBind:function(t,i,n,o,s){var r=this;if("object"==typeof i&&(e.isFunction(n)||e.isFunction(o))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(n)&&(s=o,o=n,n=void 0),i.indexOf(" ")>-1)i.split(" ").forEach((function(e){r._liveCtxBind(t,e,n,o,s)}));else{var a=r._buildCtxEventName(i),l=c[a]||(c[a]={counter:0,ctxs:{}});t.each((function(){var t=e.identify(this),i=l.ctxs[t];i||(i=l.ctxs[t]={},++l.counter),i[e.identify(o)+(s?e.identify(s):"")]={fn:o,data:n,ctx:s}}))}else e.each(i,(function(e,i){r._liveCtxBind(t,e,i,n)}));return r},liveCtxUnbind:function(t,e,i,n){return this._liveCtxUnbind(t,e,i,n)},_liveCtxUnbind:function(t,i,n,o){"object"==typeof i&&e.isFunction(n)&&(i=this._buildModEventName(i));var s=c[i=this._buildCtxEventName(i)];return s&&(t.each((function(){var t,i=e.identify(this,!0);i&&(t=s.ctxs[i])&&(n&&delete t[e.identify(n)+(o?e.identify(o):"")],n&&!e.isEmptyObject(t)||(s.counter--,delete s.ctxs[i]))})),s.counter||delete c[i]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:void 0},extractParams:M,_buildModClassPrefix:function(t,e){return this._name+(e?p+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+m+t},_buildModValRE:function(t,e,i){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+m+"("+u+"))?(?=\\s|$)",i)},_buildElemNameRE:function(){return new RegExp(this._name+p+"("+u+")(?:\\s|$)")},buildSelector:function(t,e,i){return"."+g(this._name,t,e,i)},getBlockByUniqId:function(t){return r[t]},getWindowSize:function(){return{width:n.width(),height:n.height()}}});e((function(){t.DOM.scope=e("body")}))}(BEM,jQuery)},"+U/J":function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_empty_yes"},_shouldShowPopup:function(){return this._empty&&!this._isShown||this.__base.apply(this,arguments)},_renderItemsFilled:function(t){this._popupContent.innerHTML=this._getItemsHTML(t),this.trigger("popup-update",{items:t}),this._empty&&(MBEM.cls.remove(this._popup,"mini-suggest__popup_empty_yes"),this._empty=!1),this._focused&&this._checkAndShowPopup()},_renderItemsEmpty:function(){this._popupContent.innerHTML="",this.trigger("popup-clear"),this._empty||(MBEM.cls.add(this._popup,"mini-suggest__popup_empty_yes"),this._empty=!0)}})},"+fQv":function(t,e){!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(i){}BEM.DOM.decl("i-ua",{},{passiveEvents:t})}()},"+glO":function(t,e){MBEM.extend=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n instanceof Array||n instanceof Date||"object"!=typeof n||null===n?t[i]=n:(t[i]=t[i]||{},MBEM.extend(t[i],n))}return t}},"+iT6":function(t,e){BEM.DOM.decl("select",{onElemSetMod:{item:{hovered:function(){BEM.blocks["i-ua"].opera<13&&this._popup.domElem.css("display","inline").css("display","")}}}},{live:function(){return this.liveInitOnBlockInsideEvent("press","button",(function(){this._onButtonPress()})),this.__base.apply(this,arguments)}})},"+zBT":function(t,e){BEM.DOM.decl("popup2",{attachToScope:function(t){return t&&(this._scope=t),this._scope.append(this.domElem),this._isAttachedToScope=!0,this}})},"/4SB":function(t,e){BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(t,e){var i=$(e),n=this.__self._getRadioByElem(i);i.isFocused()&&this.setMod(n,"focused","yes"),i.prop("checked")&&this.setMod(n,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");e.isFocused()||e.focus(),this.afterCurrentEvent((function(){this.domElem&&this.trigger("focus",{current:t})}))},"":function(t){this.afterCurrentEvent((function(){this.domElem&&this.trigger("blur",{prev:t})}))}},checked:{yes:function(t){var e=this.elem("radio","checked","yes"),i=this.findElem(t,"control"),n=this._val;this._willSwitch=!0,this.delMod(e,"checked"),this._willSwitch=!1,i.prop("checked",!0),this._val=i.val(),this.trigger("change",{current:t,currentVal:this._val,prev:e,prevVal:n})},"":function(t){var e=this.findElem(t,"control"),i=this._val;e.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:t,prevVal:i})}},hovered:function(t){return!this.isDisabled(t)},pressed:function(t){return!this.isDisabled(t)},disabled:function(t,e,i){t.find(this.buildSelector("control")).prop("disabled",i),i&&this.delMod(t,"hovered").delMod(t,"pressed")}}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(t){if(void 0===t)return this._val;var e=this;return this.elem("control").each((function(i,n){if(n.value===t)return e.setMod(e.__self._getRadioByElem($(n)),"checked","yes"),!1})),e},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(t){this.setMod(t.data.domElem,"hovered","yes")},_onRadioLeave:function(t){this.delMod(t.data.domElem,"hovered")},_onRadioClick:function(t,e){this.isDisabled(t)||this.setMod(t,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")},_onPointerpress:function(t){var e=t.data.domElem;this.setMod(e,"pressed","yes").bindToDoc("pointerrelease",(function(){this.delMod(e,"pressed").unbindFromDoc("pointerrelease")}))}},{live:function(){this.liveBindTo("radio","pointerclick",(function(t){this._onRadioClick(t.data.domElem,t)})).liveBindTo("control","change",(function(t){this._onChange(t)})).liveBindTo("radio","pointerover pointerout",(function(t){t.data.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onRadioEnter(t):this._onRadioLeave(t))})).liveBindTo("control","focusin focusout",(function(t){var e=this.__self._getRadioByElem(t.data.domElem);this.setMod(e,"focused","focusin"===t.type?"yes":""),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&t.preventDefault()})).liveBindTo("radio","pointerpress",(function(t){this.hasMod(t.data.domElem,"disabled")||this._onPointerpress(t)}))},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}})},"0EGh":function(t,e){BEM.DOM.decl("scrollbar",{onSetMod:{js:{inited:function(){this._scrollable=this.elem("scrollable"),this._inner=this.elem("inner"),this._thumb=this.elem("thumb"),this._onScroll=this._onScroll.bind(this),this._onDragStart=this._onDragStart.bind(this),this._onDrag=this._onDrag.bind(this),this._onDragEnd=this._onDragEnd.bind(this),this._scrollable.on("scroll",this._onScroll),this._thumb.on("pointerdown",this._onDragStart),this.__base.apply(this,arguments),this._onScroll(),void 0===window.IntersectionObserver||"THROTTLE_TIMEOUT"in IntersectionObserver.prototype?this._checker=setInterval(this._onScroll,1e3):(this._observer=new IntersectionObserver(this._onScroll,{root:this._scrollable[0],rootMargin:"0px 50px 0px 0px",threshold:[1]}),this._observer.observe(this._inner[0]))}},"":function(){this._observer?this._observer.unobserve(this._scrollable):clearInterval(this._checker),this._onDragEnd(),this._scrollable.off("scroll",this._onScroll),this._thumb.off("pointerdown",this._onDragStart)}},_onScroll:function(){var t=this._scrollable.prop("scrollHeight"),e=this._scrollable.height(),i=this._scrollable.scrollTop(),n=e<t,o=n?e/t:0,s=0;o===this._scrollHeightRatio&&this._scroll===i||(this._scroll=i,this._scrollHeightRatio=o,n&&(o=Math.max(o,.1),s=100*(1-o)/(t-e)),requestAnimationFrame(function(){this._thumb.css({height:(100*o).toFixed(2)+"%",top:(s*i).toFixed(2)+"%"})}.bind(this)))},_onDragStart:function(t){var e=window;this._onScroll(),this._startScrollValue=this._scrollable.scrollTop(),this._startValue=t.screenY,$("body").addClass("scrollbar__body-styles"),this.setMod(this._thumb,"active","yes"),e.addEventListener("pointermove",this._onDrag,{passive:!0}),e.addEventListener("pointerup",this._onDragEnd)},_onDrag:function(t){var e=t.screenY-this._startValue;this._scrollable.scrollTop(this._startScrollValue+e/this._scrollHeightRatio)},_onDragEnd:function(){var t=window;t.removeEventListener("pointermove",this._onDrag),t.removeEventListener("pointerup",this._onDragEnd),this.delMod(this._thumb,"active"),$("body").removeClass("scrollbar__body-styles")}},{live:!1})},"0F46":function(t,e){BEM.decl("i-yabs-sender",{},{_init:function(){this._pixelBase=home.getData("yabs.pixelBase"),this._pixelBase&&(this._linksNext="",this._inited=!0,this._sendPixelDebounced=home.debounce(this._sendPixel.bind(this),1e3))},_sendPixel:function(){if(!this._sending){var t=this._linksNext;this._linksNext="",this._sending=!0,$.ajax({url:this._pixelBase+t,xhrFields:{withCredentials:!0},timeout:15e3}).asPromise().then(function(){this._onRequestEnd()}.bind(this),function(e){this._onRequestEnd(),this._linksNext+=t,home.error.logError({block:"i-yabs-sender"},e)}.bind(this))}},_onRequestEnd:function(){this._sending=!1,this._linksNext&&this._sendPixelDebounced()},_pixelBaseCheck:function(){return!!this._pixelBase||(home.error.logError({block:"i-yabs-sender",message:"pixelBase is not defined"}),!1)},sendClose:function(t,e,i){if(!e)return!1;function n(){location.href=i}function o(){return new Promise((function(t,i){var n=new Image;n.onload=t,n.onerror=function(t){var n=new Error("send to bk failed:"+t.type);n.meta={url:e},i(n)},n.src=e}))}return i?(t.preventDefault(),Promise.race([o(),new Promise((function(t){setTimeout(t,300)}))]).then(n,n)):o()},sendShow:function(t){this._inited||this._init(),t&&this._pixelBaseCheck()&&(this._linksNext+=t,this._sendPixelDebounced())}})},"0RKT":function(t,e){BEM.DOM.decl({block:"popup",modName:"behaviour",modVal:"scrollable"},{getDefaultParams:function(){var t=this.__base();return t.top=20,t}})},"0SjY":function(t,e){BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,i,n){this._number++,this._requestNumber++,this._retryCount=n.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,i,n){var o=this;if(o._number>o._preventNumber){var s=arguments,r={data:n.data?$.extend({},n.data,t):t},a=o._wrapCallback((function(i,s,r){o._onSuccess(o._buildCacheKey(t,n),t,i[0],n),o._allowCallback(s,r)&&e.apply(n.callbackCtx,i)})),c=o._wrapCallback((function(t,e,r){o._allowCallback(e,r)&&(o._retryCount-- >0?setTimeout((function(){o._do.apply(o,s)}),n.retryInterval):i&&i.apply(n.callbackCtx,t))}));$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(n.paramsToSettings||[]),(function(t,e){r[e]=n[e]})),$.ajax(r).done(a).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,i=this._number;return function(n){null!==n&&t(arguments,e,i)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})},"0bai":function(t,e){BEM.KEYS={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,HOME:36,END:35},function(){var t={};for(var e in BEM.KEYS)BEM.KEYS.hasOwnProperty(e)&&(t[BEM.KEYS[e]]=e);var i={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"},n=function(e){var n=t[e.which]||"";for(var o in i)i.hasOwnProperty(o)&&e[i[o]]&&(n=o+"+"+n);return n},o=function(t){var e={};return t.split(" ").forEach((function(t){t.split("+").forEach((function(e){var n=e.toUpperCase();if(!(n in i)&&!(n in BEM.KEYS))throw"i-keys.js: Unknown key "+t})),e[t.toUpperCase()]=!0})),e};BEM.DOM.liveBindKey=function(t,e,i){var s;return $.isFunction(e)&&(i=e,e=t,t=void 0),s=o(e),this.liveBindTo(t,"keydown",(function(t){n(t)in s&&!1===i.call(this,t)&&t.preventDefault()}))},BEM.DOM.prototype.bindKeyTo=function(t,e,i){var s;return $.isFunction(e)&&(i=e,e=t,t=void 0),s=o(e),i.keydownHandler=r,t===document?this.bindToDoc("keydown",r):t===window?this.bindToWin("keydown",r):this.bindTo(t,"keydown",r);function r(t){n(t)in s&&!1===i.call(this,t)&&t.preventDefault()}},BEM.DOM.prototype.unbindKeyFrom=function(t,e,i){if($.isFunction(e)&&(i=e,e=t,t=void 0),!i||!i.keydownHandler)return this;var n=i.keydownHandler;return i.keydownHandler=null,t===document?this.unbindFromDoc("keydown",n):t===window?this.unbindFromWin("keydown",n):this.unbindFrom(t,"keydown",n)}}()},"0laM":function(t,e){$((function(){"use strict";var t=home.getData("i-bannerid.csl");BEM.decl("i-bannerid",{},{save:function(e){if(!t)throw new Error("i-bannerid: Cookie set link wasn't passed");if(!e)throw new Error("i-bannerid: Bannerid wasn't passed");var i=$(".i-bannerid"),n=home.stringf(t,e);i.length||(i=$('<iframe class="i-bannerid" name="i-bannerid" style="display:none"/>'),$(document.body).append(i)),i.attr("src")!==n&&i.attr("src",n)}})}))},"1/IC":function(t,e,i){window.Ya&&Ya.Rum&&(i("aPu7"),i("Tv0U"),i("pt8I"),i("mbKu")),window.Ya&&Ya.Rum&&Ya.Rum.enabled&&(i("uifs"),Ya.Rum.debug&&Ya.Rum.debug())},"1PLx":function(t,e){BEM.DOM.decl("dist-overlay",{onSetMod:{js:{inited:function(){var t=this;BEM.blocks["i-message-locker"].acquireLock("dist-overlay",this._hide.bind(this)).then((function(){var e;t._modal=t.findBlockInside("modal"),t._bindEvents(),null===(e=t._modal)||void 0===e||e.setMod("visible","yes")}))}}},_bindEvents:function(){var t,e;this.bindKeyTo("link","space enter",this._onLinkClick),this.bindTo("link","pointerclick",this._onLinkClick),null===(t=this._modal)||void 0===t||t.on("beforeOpen",this._beforeOpen,this),null===(e=this._modal)||void 0===e||e.on("beforeClose",this._beforeClose,this)},_hide:function(){this._modal&&this._modal.delMod("visible")},_beforeOpen:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.linknext;home.stat.logPath("show","dist_overlay.realshow"),e&&BEM.blocks["i-yabs-sender"].sendShow(e)},_beforeClose:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.closeUrl;home.stat.logPath("click","dist_overlay.cancel"),e&&((new Image).src=e)},_onLinkClick:function(){var t,e;null===(t=this._modal)||void 0===t||t.un("beforeClose",this._beforeClose,this),null===(e=this._modal)||void 0===e||e.destruct()}})},"1cYz":function(t,e){BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this._items=[],this._curItemIndex=-1,this._scrollableElemOutsidePopup=null,this._rowHeight=22,this.on("change",this._redrawParentPopup);var t=this._getSelectedText();t&&t!==this._getButtonText()&&this.elem("control").trigger("change")}},disabled:function(t,e){this.elem("control").prop("disabled",e),this._getButton().setMod(t,e),e&&this.delMod("opened").delMod("focused")},focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._useNativeControl()||this.bindTo("keydown",this._onKeyDown),this.afterCurrentEvent((function(){this.domElem&&this.trigger("focus")}))},"":function(){this._useNativeControl()||this.delMod("opened").unbindFrom("keydown"),this.afterCurrentEvent((function(){this.domElem&&this.trigger("blur")}))}},opened:function(t,e){this._getButton()&&this._getButton().domElem&&this._getButton().toggleMod("arrow","up","down",Boolean(e))}},isDisabled:function(){return this.hasMod("disabled","yes")},isOpened:function(){return this.hasMod("opened","yes")},open:function(){return this.setMod("opened","yes")},close:function(){return this.delMod("opened")},val:function(t,e){if(void 0===t)return this.elem("control").val();var i,n=-1;return this.findElem("option").each((function(e){this.value===t&&!this.disabled&&(!(i=$(this).parent("optgroup")[0])||!i.disabled)&&(n=e)})),n>-1&&this._selectedIndex(n,e),this},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_selectedIndex:function(t,e){var i=this._getSelectedIndex();return void 0===t||t===i?i:(this.elem("control").prop("selectedIndex",t),this._useNativeControl()||(this._setButtonText(this._getSelectedText()),this._items[0]&&this.delMod(this._items,"selected").setMod(this._items.eq(t),"selected","yes")),this.trigger("change",$.extend({index:t,prev:i},e)),t)},setOptions:function(t){return t?(BEM.DOM.update(this.elem("control"),BEMHTML.apply($.map(t,this.__self._buildOption))),this.redraw()):this},redraw:function(){return this._popup&&this._redrawList(),this.elem("control").trigger("change"),this},_useNativeControl:function(){return null!==this.__self.useNativeControl?this.__self.useNativeControl:this.__self.useNativeControl="none"!==this.elem("control").css("display")},_redrawParentPopup:function(){var t;return this._isParentPopup()&&((t=this._popup._parent).repaint||t.redraw).call(t),this},_isParentPopup:function(){return this._popup&&this._popup._parent&&!this.hasMod("layout","fixed")},_onSelectChange:function(){this._setButtonText(this._getSelectedText()),this.trigger("change",{index:this._getSelectedIndex(),prev:-1})},_onControlFocusInOut:function(t){this._useNativeControl()&&this.toggleMod("focused","yes","","focusin"===t.type)},_onMouseDown:function(t){this._isControlFocused()&&t.preventDefault()},_onKeyDown:function(t){var e=BEM.blocks.keycodes,i=t.keyCode===e.UP,n=t.keyCode===e.DOWN,o=t.keyCode===e.ENTER,s=t.keyCode===e.SPACE;if(i||n){if(t.preventDefault(),!this.isOpened())return this.open();var r=this._items.length,a=this._curItemIndex;if(i&&0===a||n&&a>r-2)return;if(r){var c,l=n?1:-1;for(c=a;c>=0&&c<=r;)if(c+=l,this._isSelectableItem(this._items.eq(c))){a=c;break}this._onEnterItem(this._items.eq(a),!0)}}(o||s)&&this._onEnterItem(this._items.eq(this._curItemIndex),!0,!0)},_onEnterItem:function(t,e,i){this.elem("button").attr("aria-activedescendant",t.attr("id"));var n=this._curItemIndex,o=this._getItemIndex(t),s=this._items;n>-1&&this.delMod(s.eq(n),"hovered"),o>-1&&(this._curItemIndex=o,this.setMod(s.eq(o),"hovered","yes")),i&&this._selectedIndex(this._curItemIndex),e&&this._scrollToCurrent()},_onLeaveItem:function(t){var e=this._curItemIndex;e>-1&&e===this._getItemIndex(t)&&(this.delMod(this._items.eq(e),"hovered")._curItemIndex=-1)},_onSelectItem:function(t){return this._isSelectableItem(t)&&this._selectedIndex(this._curItemIndex),this.close()},_onButtonFocus:function(){this.setMod("focused","yes")},_findScrollableElemOutsidePopup:function(){if(null===this._scrollableElemOutsidePopup){var t,e=this._getPopup().domElem;do{t=(e=e.parent()).css("overflow-y")}while("scroll"!==t&&"auto"!==t&&"HTML"!==e.prop("tagName"));this._scrollableElemOutsidePopup=e}return this._scrollableElemOutsidePopup},_onButtonBlur:function(){if(this.isOpened()&&this._isPopupFocused())if(8===BEM.blocks["i-ua"].ie){var t=this._findScrollableElemOutsidePopup(),e=t.scrollTop();this._focusButton(),t.scrollTop(e)}else this._focusButton();else this.delMod("focused")},_onButtonPress:function(){this.toggleMod("opened","yes","")},_focusButton:function(){return this._getButton().setMod("focused","yes"),this},_blurButton:function(){return this._getButton().delMod("focused"),this},_isPopupFocused:function(){try{return this._getPopup().containsDomElem($(document.activeElement))}catch(t){return!1}},_getButtonText:function(){return this._getButton().elem("text").text()},_setButtonText:function(t){t.length&&(this._getButton().elem("text").text(t),BEM.blocks["i-ua"].ie<10&&this.domElem.parent().css("outline",""))},_isOutsideClicked:function(t,e){return this.containsDomElem($(e.target))},_getItemIndex:function(t){return $.inArray(t.get(0),this._items)},_getSelectedText:function(){return this.elem("control").find(":selected").text()},_getSelectedIndex:function(){return this.elem("control").prop("selectedIndex")},_isSelectableItem:function(t){return!this.hasMod(t,"disabled","yes")&&!this.hasMod(t,"label","yes")},_getButton:function(){return this._button||(this._button=this.findBlockOn("button","button"))},_getRowHeight:function(){return this.findElem(this._getPopup().domElem,"item").outerHeight()},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},destruct:function(){this._outPopup&&this._outPopup.un("outside-click"),this.delMod("opened"),this._popup&&this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{rows:15,popupMods:{direction:"down"}}}},{live:function(){this.liveBindTo("control","change",(function(t){this._onSelectChange()})),this.liveBindTo("control","focusin focusout",(function(t){this._onControlFocusInOut(t)})),this.liveBindTo("mousedown",(function(t){this._onMouseDown(t)})),this.liveInitOnBlockInsideEvent("focus","button",(function(){this._onButtonFocus()})).liveInitOnBlockInsideEvent("blur","button",(function(){this._onButtonBlur()}))},useNativeControl:null,_buildOption:function i(t,e,n){var o={};return"option"===t.item?(o={block:"select",elem:"option",tag:"option",attrs:{value:t.value},content:t.content},t.disabled&&(o.attrs.disabled="disabled"),t.selected&&(o.attrs.selected="selected")):"optgroup"===t.item&&(o={elem:"option-group",tag:"optgroup",attrs:{label:t.label}},t.disabled&&(o.attrs.disabled="disabled"),o.content=Array.isArray(t.content)?t.content.map(i):t.content),o.block="select",o}})},"1lKq":function(t,e){BEM.DOM.decl("search2",{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=this;this.input=this.findBlockInside("input"),this.button=this.findBlockInside("button"),this.arrow=this.findBlockOutside("home-arrow"),this.arrow&&this.arrow.on("sample-click",(function(){var e=t.domElem.find("input[name='nl']");t.params.nl&&!e.length&&$('<input type="hidden" name="nl" value="1"/>').insertAfter(t.input.domElem);var i=t.domElem.find("input[name='example_source']");t.params.serpArg&&!i.length&&$('<input type="hidden" name="example_source" value="'+t.params.serpArg+'"/>').insertAfter(t.input.domElem),setTimeout((function(){t.domElem.submit(),t.arrow.reEnable()}),500)}))}}}),setTimeout((function(){var t=$(".mini-suggest"),e=t[0];e&&MBEM.createBlock({node:e,block:"mini-suggest",params:t.data("mini-bem")["mini-suggest"]})}),0)},"21dl":function(t,e){BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent((function(){this.domElem&&this.bindToWin("resize",this.onResize)})),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}})},"24+b":function(t,e){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]}))},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(window,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var o=n.element,s=r(o),a=this._rootContainsTarget(o),c=n.entry,l=t&&a&&this._computeTargetAndRootIntersection(o,e),h=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:e,intersectionRect:l});c?t&&a?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(e,i){if("none"!=window.getComputedStyle(e).display){for(var n,o,s,a,l,h,d,u,m=r(e),p=c(e),f=!1;!f;){var _=null,g=1==p.nodeType?window.getComputedStyle(p):{};if("none"==g.display)return;if(p==this.root||p==t?(f=!0,_=i):p!=t.body&&p!=t.documentElement&&"visible"!=g.overflow&&(_=r(p)),_&&(n=_,o=m,void 0,void 0,void 0,void 0,void 0,void 0,s=Math.max(n.top,o.top),a=Math.min(n.bottom,o.bottom),l=Math.max(n.left,o.left),u=a-s,!(m=(d=(h=Math.min(n.right,o.right))-l)>=0&&u>=0&&{top:s,bottom:a,left:l,right:h,width:d,height:u})))break;p=c(p)}return m}},n.prototype._getRootRect=function(){var e;if(this.root)e=r(this.root);else{var i=t.documentElement,n=t.body;e={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100})),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==i||s==n||s<i!=s<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||a(t,this.root)},n.prototype._rootContainsTarget=function(e){return a(this.root||t,e)},n.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},n.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?Number((o/i).toFixed(4)):this.isIntersecting?1:0}function n(t,e){var i,n,o,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){i(),o=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function s(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function r(t){var e;try{e=t.getBoundingClientRect()}catch(i){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var i=e;i;){if(i==t)return!0;i=c(i)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},"2A6R":function(t,e){BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{addChild:function(t){this.__base.apply(this,arguments),t.setMod("watch-scroll","no")},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocusable.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._firstFocusable.focus())}})},"2LTt":function(t,e){!function(){"use strict";var t="#hs"===window.location.hash;t&&(window.history&&history.replaceState?history.replaceState(history.state,"",location.pathname+location.search):location.hash="");var e=home.localStorage,i=!home.disabledLS&&e,n=$(window);function o(t){return t?new Date(t).getTime():(new Date).getTime()}i&&BEM.DOM.decl("b-hs-balloon",{onSetMod:{js:function(){var e=this;if(t)e._setDoNotShowFlag();else if(!e._getDoNotShowFlag()&&90!==Math.abs(window.orientation)){var i=e._getData();i.length<3&&BEM.blocks["i-message-locker"].acquireLock("b-hs-balloon").then((function(){e.show(),e._updateShownDates(i),e.adjustBalloonPosition(),e._bindScroll(),e.elem("close").on("click",(function(){e.forceHideBalloon()}))}))}}},adjustBalloonPosition:function(){var t=n.scrollTop();this.domElem.css("top",t)},_bindScroll:function(){n.on("scroll.balloon",this.changeThis(this.adjustBalloonPosition))},_unbindScroll:function(){n.off("scroll.balloon")},show:function(){var t=this;window.setTimeout((function(){t.setMod("display","yes"),t.adjustBalloonPosition(),t.setMod("opacity","visible"),home.stat.logDOMShow(t.domElem)}),0),window.setTimeout((function(){t.hide()}),15e3),window.location.hash="hs"},hide:function(){var t=this;this.setMod("opacity","hidden"),setTimeout((function(){t._unbindScroll(),t.setMod("display","no"),BEM.blocks["i-message-locker"].releaseLock("b-hs-balloon")}),500)},immediateHide:function(){this._unbindScroll(),this.setMod("display","no"),this.setMod("opacity","hidden"),BEM.blocks["i-message-locker"].releaseLock("b-hs-balloon")},forceHideBalloon:function(){this._setDoNotShowFlag(),this.hide()},_getData:function(){var t;try{t=JSON.parse(e.getItem("balloonShownDates")).filter((function(t){return!isNaN(o(t))&&o()-o(t)<12096e5}))}catch(i){t=[]}return t},_updateShownDates:function(t){t.push(o());var i=(3,t.reverse().splice(0,3).reverse());e.setItem("balloonShownDates",JSON.stringify(i))},_setDoNotShowFlag:function(){e.setItem("doNotShowHSBalloon",1)},_getDoNotShowFlag:function(){return e.getItem("doNotShowHSBalloon")}})}()},"2cTF":function(t,e){BEM.DOM.decl({block:"popup",modName:"scrollbar-hider",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on({show:this._toggleScrollbar.bind(this,!1),hide:this._toggleScrollbar.bind(this,!0)})}}},_toggleScrollbar:function(t){var e;e=t?0:this._getCurrentScrollWidth(),BEM.DOM.scope.css("margin-right",e),$("html").toggleClass("document_modal_yes",!t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:0,top:0,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}})},"2yRt":function(t,e){
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,i){if(void 0===e){var n=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var r=jQuery.trim(o[s]);if(r.substring(0,t.length+1)==t+"="){n=decodeURIComponent(r.substring(t.length+1));break}}return n}i=i||{},null===e&&(e="",i.expires=-1);var a,c="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(a=new Date).setTime(a.getTime()+24*i.expires*60*60*1e3):a=i.expires,c="; expires="+a.toUTCString());var l=i.path?"; path="+i.path:"",h=i.domain?"; domain="+i.domain:"",d=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,l,h,d].join("")}},"34z/":function(t,e){home.cls={full:function(t){return t},part:function(t){return t}}},"35bF":function(t,e){!function(t,e,i){var n=t.INTERNAL,o=n.ELEM_DELIM,s={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},r=n.buildClass,a=n.buildClasses,c={};function l(t,e,i){(t[e]||(t[e]=[])).unshift(i)}function h(t,e){return e.modName?function(i){(i._curBlock.mods||{})[e.modName]===e.modVal&&t(i)}:t}function d(t,i){var n,o=e.isArray(i);return e.isArray(t)?o?n=t.concat(i):(n=t).push(i):o?(n=i).unshift(t):n=[t,i],n}var u={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},m=/["&<>]/g;t.HTML={decl:function(t,i){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var n=c[t.block]||(c[t.block]={});i.onBlock&&l(n,"_block",h(i.onBlock,t)),i.onElem&&(e.isFunction(i.onElem)?l(n,"_elem",h(i.onElem,t)):e.each(i.onElem,(function(e,i){l(n,"_elem"+("*"===e?"":o+e),h(i,t))})))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=void 0},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){return void 0===t?this._params:(this._params=t,this)},param:function(t,i,n,o){var s=this._params;return void 0===i?s[t]:(n||!(t in s)?s[t]=i:o&&(s[t]=e.extend(i,s[t])),this)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,i){if(void 0===e)return(this._params.attrs||{})[t];var n=this._params.attrs;return n?(i||!(t in n))&&(n[t]=e):(this._params.attrs={})[t]=e,this},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,i){if(void 0===e)return(this._params.mods||{})[t];var n=this._params.mods;return n?(i||!(t in n))&&(n[t]=e):(this._params.mods={})[t]=e,this},mix:function(t,e){var i=this._params;return void 0===t?i.mix:(i.mix=e||!("mix"in i)?t:i.mix.concat(t),this)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this._params;return t.content=e.content,e.content=t,this},beforeContent:function(t){var e=this._params;return e.content=d(t,e.content),this},afterContent:function(t){var e=this._params;return e.content=d(e.content,t),this},wrap:function(t){var e=this._params;return t.block||(t._curBlock=this._curBlock),t.content=e._wrapper?e._wrapper:e,e._wrapper=t,this},tParam:function(t,e){var i=this._tParams||(this._tParams={});if(void 0===e)return i[t];var n=this._tParamsChanges||(this._tParamsChanges={});return t in n||(n[t]=i[t]),i[t]=e,this},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this._buffer,i=this._params,n=typeof i;if("string"===n||"number"===n)t.push(i);else if(e.isArray(i))for(var o,s,r=0,a=i.length;r<a;)this._params=o=i[r++],"string"==(s=typeof o)||"number"===s?t.push(o):o&&(o._pos=r,o._siblingsCount=a,this._buildByDecl());else i&&(this._params._pos=this._params._siblingsCount=1,this._buildByDecl())},_build:function(){var t,i=this._buffer,n=this._params,o=n.tag||"div",c=n.block||n.elem,l=c&&(n.block||this._curBlock.block),h=!1;n.js&&((t={})[r(l,n.elem)]=!0===n.js?{}:n.js,h=!n.elem),i.push("<",o),(c||n.cls)&&(i.push(' class="'),c&&(a(l,n.elem,n.mods,i),n.mix&&e.each(n.mix,(function(e,n){n&&(i.push(" "),a(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[r(n.block,n.elem)]=!0===n.js?{}:n.js,h||(h=!n.elem)))}))),n.cls&&i.push(c?" ":"",n.cls),h&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',JSON.stringify(t).replace(m,(function(t){return u[t]})),'"'),n.attrs&&e.each(n.attrs,(function(t,e){null!=e&&!1!==e&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')})),s[o]?i.push("/>"):(i.push(">"),void 0!==n.content&&(this._params=n.content,this._buildAll()),i.push("</",o,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this._curBlock,i=this._params;if(i._curBlock&&(this._curBlock=i._curBlock),i.block&&(this._curBlock=i),!i._wrapper){if(i.block||i.elem){var n,s=c[this._curBlock.block];if(s&&(i.elem?(n=s["_elem"+o+i.elem],s._elem&&(n=n?n.concat(s._elem):s._elem)):n=s._block,n))for(var r,a=0;(r=n[a++])&&(r(this),!i._isStopped););}if(i._wrapper)return i._curBlock=this._curBlock,this._params=i._wrapper,this._buildAll()}var l=this._tParamsChanges;if(this._tParamsChanges=null,this._build(),this._curBlock=t,l){var h=this._tParams;e.each(l,(function(t,e){void 0===e?delete h[t]:h[t]=e}))}}})}}(BEM,jQuery)},"37uV":function(t,e){BEM.DOM.decl("yabrowser-promo",{_install:function(){this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&BEM.blocks["i-bannerid"].save(this.params.bannerid))}},{live:function(){this.liveBindTo("icon-link text-link","pointerclick",(function(){return this._install()}))}})},"3EtG":function(t,e){BEM.DOM.decl("multiselect",{onSetMod:{js:function(){var t=this.elem("selected").val().split(","),e={};t.forEach((function(t){""!==t&&(e[t]=!0)})),this._lockUnlock(t),this.selected=e}},_onChange:function(t,e){var i=this.selected,n=[];for(var o in i[t.val()]=e.checked,i)i.hasOwnProperty(o)&&i[o]&&n.push(o);this._lockUnlock(n),this.elem("selected").val(n.join(","))},_lockUnlock:function(t){1===t.length?(this._locked=this.findBlockInside({block:"checkbox",modName:"checked",modVal:"yes"}),this._locked.setMod("disabled","yes")):this._locked&&(this._locked.delMod("disabled"),this._locked=null)}},{live:function(){return this.liveInitOnBlockInsideEvent("change","checkbox",(function(t,e){this.afterCurrentEvent((function(){this._onChange(t.target,e)}))})),!1}})},"3KT2":function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("re-request",this._handleReRequest,this).on("re-response",this._handleReResponse,this).on("re-popup-update",this._handleRePopupUpdate,this)},_handleReResponse:function(t,e){++this._reResponses.drsp,e.items.length||++this._reResponses.dersp,!e.relevant&&e.items.length&&++this._reResponses.dlrsp},_handleReRequest:function(){++this._reResponses.drqs},_handleRePopupUpdate:function(){++this._reResponses.drndr},_clearCounters:function(){this.__base.apply(this,arguments),this._reResponses={drqs:0,drsp:0,dlrsp:0,dersp:0,drndr:0}},_getParamsList:function(){var t=this.__base();return t.push(this._reResponses),t}})},"3b1C":function(t,e){if("undefined"!=typeof Widget&&void 0===Widget.Framework){!function(t){Widget.Framework={undef:function(t){return t},params:!1,_id:{},_prebindId:{},_wauth:{},_no:{},_widgets:[],_wrappers:{},_callbacks:{},_callbackId:1,widgetAutoReloadTimers:{},widgetReloadQueue:{},reloadQueueTimeout:5e3,reloadQueueTimer:null,widgetPrefs:{},getLocale:function(){return this.params.locale},getDomain:function(){return this.params.domain},get:function(t){return Widget.Framework._id[t]},getPrebind:function(t){return Widget.Framework._prebindId[t]},getByWauth:function(t){return Widget.Framework._wauth[t]},getByWrapperId:function(t){return Widget.Framework._wrappers[t]},getByClass:function(t){if(this._no[t]===this.undef())return[];for(var e=[],i=0;i<this._widgets.length;i++)this._widgets[i].classId===t&&(e[e.length]=this._widgets[i]);return e},updateNo:function(t,e){var i=parseInt((""+e).replace(/^[^-]+-/,""),10);return this._no[t]===this.undef()&&(this._no[t]=0),this._no[t]<=i&&(this._no[t]=i+1),this._no[t]},register:function(t){for(var e in this.registerWauth(t),this._id[t.id]=t,this.updateNo(t.classId,t.instanceId),t.intClassId&&this.updateNo(t.intClassId,t.instanceId),this._widgets=[],this._id)this._id.hasOwnProperty(e)&&(this._widgets[this._widgets.length]=this._id[e])},registerWauth:function(t){var e=t.getValue("wauth");""!==e&&(this._wauth[e]=t),t.resetAuth()},all:function(){return this._widgets},bindIframe:function(){var t=y5Url(location.href).getParam("wauth");if(t){this.inIframe=!0;var e=this.splitAuth(t),i=this.bind(e.id,{type:"iframe-inside",wauth:t});return this.setValuesFromUrl(i),i.addWidgetStyles(),document.documentElement.id=this.params.idPrefix+i.id,i}return this.inIframe=!1,!1},setEdit:function(t){if(!arguments.length)return this.params.edit;t=!!t,this.params.edit!==t&&(t?this.unsetAutoreload():this.setAutoreload(),this.params.edit=t)},getValuesFromUrl:function(t){var e=[];try{var i,n,o=y5Url(location.href);t!==this.undef()&&o.query(t);var s=o.queryKeys();for(i=0;i<s.length;i++)o.getParam(s[i])===this.undef()?e[e.length]=[s[i],""]:e[e.length]=[s[i],o.getParam(s[i])];if(o.Hash){var r,a=o.Hash.replace("secure:","").split(",");for(i=0,n=a.length;i<n;i++)r=a[i].split("="),e[e.length]=r}}catch(c){}return e},setValuesFromUrl:function(t){var e,i=this.getValuesFromUrl();try{e=location.protocol}catch(a){e="http:"}for(var n=0;n<i.length;n++)if("."===i[n][0]){var o=i[n][1].split("|");this.params.saveDomain=o[0].replace(/(http:|https:)/,e),this.params.fullproxyDomain=o[0],this.params.fullproxyUrl=this.params.saveDomain+this.params.proxyUrl,this.params.proxyDomain=o[1]}else if("locale"===i[n][0])this.params.locale=i[n][1];else{var s=i[n][1],r=i[n][0];"prefs_get"===r&&(s=JSON.parse(s)),t.setValue(r,s)}},_inlineLoadingCount:0,inlineLoading:function(t){this._inlineLoadingCount+=t,this.onInlineLoadingChange(this._inlineLoadingCount,t)},onInlineLoadingChange:function(){},bind:function(t,e){var i=this.prebind(t,e);return i.init(),i},prebind:function(t,e){var i=new Widget(t,e);return Widget.Framework._prebindId[t]=i,i},init:function(t){if(!1===this.params)this.params=t;else for(var e in t)t.hasOwnProperty(e)&&t[e]!==this.undef()&&(this.params[e]=t[e]);this.params.preloader=this.params.preloader.replace("#dataLoading#",this.params.dataLoadingText)},insert:function(e,i,n,o){var s=t(n),r=s.data("bem").widget,a=Widget.Bind(r.id,r.initParams);i.append(s),a.bound&&("raw"===a.type||"inline"===a.type&&!1===a.src)&&a.finalize(),o&&o(a,a.$().parent())},replace:function(t,e,i){var n,o=t.$(),s=t.id;BEM.DOM.destruct(o,!0),o.html(e),BEM.DOM.init(o);var r=Widget.Framework.get(s);return n=r.wrapper.$(),i&&i(r,n),r},reload:function(e,i,n,o){n&&(e._prefs.showAnyway=n);var s={wauth:e.getAuth(),wid:e.id,usrCh:e.params.usrCh,fixed:this.params.layoutFixed?"1":"",showanyway:e._prefs.showAnyway?1:0,prefs_get:e.params.prefs_get?JSON.stringify(e.params.prefs_get):"",locale:this.getLocale(),prototype:Widget.Framework.params.prototype,bg:e.getWidgetStyle().bg,version:Widget.Framework.params.version};o&&(s.istuning=1),this.params.gsid&&(s.g_sid=this.params.gsid),void 0!==e.params.is_default&&(s.is_default=!0===e.params.is_default?1:0),!1!==Widget.Framework.widgetPrefs[e.id]?Widget.Framework.widgetPrefs[e.id]=e._prefs:Widget.Framework.widgetPrefs[e.id]=null,"iframe"===e.type&&(s["."]=this.params.fullproxyDomain+"|"+this.params.proxyDomain),t.get(this.params.addUrl,s,(function(t){Widget.Framework.replace(e,t,i)}))},add:function(e,i,n,o){var s,r,a=this.updateNo(e,"_topnews"===e?0:1);this.updateNo(e,a),"function"==typeof n?s=n:(s=n.success,r=n.error),o=o||{fixed:!1};var c=e+"-"+a,l={wauth:this.params.wauth,wid:c,smart:o.smart?"1":"",fixed:o.fixed?"1":"",locale:this.getLocale(),isAddition:1,prototype:this.params.prototype,version:Widget.Framework.params.version};this.params.gsid&&(l.g_sid=this.params.gsid),o.settings&&(l.settings=o.settings),o.sign&&(l.sign=o.sign),o.showanyway&&(l.showanyway=o.showanyway),t.ajax({url:this.params.addUrl,data:l,success:function(t){Widget.Framework.insert(c,i,t,s)},error:r})},fromJson:function(t,e){var i=this.getByWauth(t);i&&i._inlineFromJson(e)},splitAuth:function(t){var e=t.split(".");return e.length>4?{id:e[3],owner:e[6],viewer:e[5]}:{id:e[0],owner:e[1],viewer:e[2]}},scripts:{},library:function(e,i){var n=this.prepareLibrary(e),o=0,s=this;!function r(e){if(e!==s.undef()&&"loaded"!==s.scripts[e]){for(var a=0;a<s.scripts[e].length;a++)s.scripts[e][a]();s.scripts[e]="loaded"}if(o>=n.length)i!==s.undef()&&i();else{var c=n[o];o++,s.scripts[c]===s.undef()&&!1!==c?(s.scripts[c]=[],t.getScript(c,function(t){return function(){r(t)}}(c))):"loaded"===s.scripts[c]?r():s.scripts[c].push(r)}}()},prepareLibrary:function(t){var e=[];if(t instanceof Array)for(var i=0;i<t.length;i++)e=t[i]instanceof Array?e.concat(this.prepareLibrary(t[i][0],t[i][1])):e.concat(this.prepareLibrary(t[i]));return!1!==t&&(e=t),e},_css:{},css:function(e){e instanceof Array?this.loadCss(e):(e.any instanceof Array&&this.loadCss(e.any),t.browser&&t.browser.msie&&e.msie instanceof Array&&this.loadCss(e.msie),t.browser&&t.browser.msie||!(e.non_msie instanceof Array)||this.loadCss(e.non_msie))},loadCss:function(t){for(var e=0;e<t.length;e++)if(!this._css[t[e]]){this._css[t[e]]=!0;var i=document.createElement("link");i.rel="stylesheet",i.href=t[e],(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(i)}},_click:function(e){var i="//yandex.ru/clck/jclck/dtype=stred/pid="+this.params.statParams.pid+"/cid="+this.params.statParams.cid+"/path="+e+"/rnd="+Math.random()+"/*"+location.href.replace(/^[^/]+\/+/,"");try{t.ajax({type:"GET",url:i,dataType:"text"})}catch(n){}},_counter:function(){var e=t(this),i=(e.closest(".widget").attr("id")||"").replace(/^wd-wrapper-/,""),n=Widget.Framework.get(i),o=n.classId+".anchors";if(n){if(e.attr("rev")){var s=e.attr("rev");if("none"===s)return;o=o+"."+s}Widget.Framework._click(o)}},hookStats:function(e){var i=this;if("iframe-inside"===e.type)t("a, input[type=button], input[type=submit], button").on("mousedown.widgetstat",(function(){i._click(e.classId+".anchors")}));else if(e.wrapper.$("title").not(".yandex-hook-stat").mousedown((function(){i._click(e.classId+".title")})).addClass("yandex-hook-stat"),e.wrapper.$().length>0&&"raw"!==e.type){var n="#"+e.wrapper.$().attr("id")+" a:not(.yandex-hook-stat),";n+="#"+e.wrapper.$().attr("id")+" input[type=button],",n+="#"+e.wrapper.$().attr("id")+" input[type=submit],",n+="#"+e.wrapper.$().attr("id")+" button";try{t(n).off("mousedown.widgetstat").on("mousedown.widgetstat",(function(){var n=t(this),o=e.classId+".anchors";if(n.attr("rev")){var s=n.attr("rev");if("none"===s)return;o=o+"."+s}i._click(o)}))}catch(o){}}},_domloaded:!1,domLoaded:function(){if(this._domloaded)return!1;this._domloaded=!0;for(var t=0;t<this._widgets.length;t++)this._widgets[t]._inlineLoading?this._widgets[t].showPreloader():this._widgets[t]._inlinePending?this._widgets[t]._inlineFromHtml(this._widgets[t]._inlinePending):this._widgets[t].finalize()},setAutoreload:function(t){if(!0!==this.params.edit)if(t){var e=this.widgetAutoReloadTimers;if(t.params.rebind&&!e[t.id]){var i=1e3*t.params.rebind;e[t.id]=setTimeout((function(){e[t.id]=null,t.iReload()}),i)}}else for(var n=0;n<this._widgets.length;n++)this.setAutoreload(this._widgets[n])},unsetAutoreload:function(t){if(t){var e=this.widgetAutoReloadTimers,i=e[t.id];i&&(clearTimeout(i),e[t]=null)}else for(var n=0;n<this._widgets.length;n++)this.unsetAutoreload(this._widgets[n])},_storeCallback:function(t){return this._callbacks[this._callbackId]=t,this._callbackId++},_freeCallback:function(t){var e=this._callbacks[t];return delete this._callbacks[t],e},_postMessageTransport:function(t,e,i){var n={action:"message",wauth:t.getValue("wauth"),params:{message:e}},o=this.params.fullproxyDomain;i&&(n.params.callbackId=this._storeCallback(i)),window.parent.postMessage(JSON.stringify(n),o)},_iframeTransport:function(t,e,i){var n=this.params.fullproxyUrl;if(0===n.indexOf("http:")||0===n.indexOf("https:")||"/"===n.charAt(0)){this._xframe&&document.body.removeChild(this._xframe);var o=document.createElement("iframe");o.style.visibility="hidden",o.style.position="absolute",o.name="widget"+(Math.random()+"").substr(3,7),o.style.top=o.style.left=o.style.width=o.style.height=0,this._xframe=document.body.insertBefore(o,document.body.firstChild),this.xframeSrc(this._xframe,n+"#"+e,i)}},xframe:function(t,e,i,n){try{var o,s=y5Url();s.clearQuery(),s.addParams({wauth:t.getAuth(),name:e,value:i}),s.hash(encodeURIComponent(s.query())),s.clearQuery(),o=this.params.proxyDomain+"&"+s.hash(),"postMessage"in window?this._postMessageTransport(t,o,n):this._iframeTransport(t,o,n)}catch(r){}},_isCorrectWauth:function(t){var e=this.splitAuth(t),i=this.get(e.id);return!!i&&i.getValue("wauth")===t},onWindowMessage:function(t){var e,i;try{e=JSON.parse(t.data)}catch(n){return}e&&("callback"===e.action?e.params&&e.params.callbackId&&(i=this._freeCallback(e.params.callbackId))&&i():e.wauth&&this._isCorrectWauth(e.wauth)&&e.params&&e.params.message&&(this.xframeGet(e.params.message),e.params.callbackId&&t.source.postMessage(JSON.stringify({action:"callback",params:{callbackId:e.params.callbackId}}),t.origin)))},xframeGet:function(e){if(!this.inIframe){e.indexOf("wauth%3D")>0&&(e=decodeURIComponent(e));var i=new y5Url;i.query(e.replace(/^#/,""));var n=this.splitAuth(i.getParam("wauth")),o=this.get(n.id),s=i.getParam("value");if(o)switch(i.getParam("name")){case"Widget::setTitle":o.setTitle(s);break;case"Widget::setIFrameHeight":o.setIFrameHeight(s);break;case"Widget::setPreferencesFormWidth":o.setPreferencesFormWidth(s);break;case"Widget::setPreferencesFormHeight":o.setPreferencesFormHeight(s);break;case"Widget::setPreferencesFormSize":var r=s.split(",");o.setPreferencesFormSize(r[0],r[1]);break;case"Widget::showPreferences":o.showPreferences();break;case"Widget::hidePreferences":var a,c=decodeURIComponent(e).split("<>");for(s=[],a=1;a<c.length;a++)s[s.length]=c[a];s=s.join("<>");var l={},h=this.getValuesFromUrl(s);for(a=0;a<h.length;a++)l[h[a][0]]=h[a][1];(i.Query.wauth||[])[0]===o.getAuth()&&(""!==i.getParam("value")&&o.setValues(l),setTimeout((function(){o.loadFromSrc()}),200),this.params.notifyChangesHandler(o)),t(window).trigger({type:"widgetSettingsTuned",id:o.id},{state:s?"save":"close"}),o.hidePreferences();break;case"Widget::dropPreferences":o.dropPreferences(),t(window).trigger({type:"widgetSettingsDropped",id:o.id});break;case"Widget::notifyCustomSave":t(window).trigger({type:"widgetSettingsTuned",id:o.id},{state:"save"})}}},xframeSrc:function(e,i,n){var o;if(t.browser&&t.browser.msie){(o=e.cloneNode(!0)).style.position="absolute",o.style.visibility="hidden",o.id="",t(o).bind("load",(function r(){t(o).unbind("load",r),o.style.position="",o.style.visibility="",n&&n()})),o.src=i+"&rnd="+Math.random();try{document.body.appendChild(o)}catch(s){}}else t(e).one("load",(function(){n&&n()})),e.src=i+"&rnd="+Math.random()},addToReloadQueue:function(t,e,i){t.id&&(this.widgetReloadQueue[t.id]={flag:!0,widget:t,callback:e,randomDelay:i})},processReloadQueue:function(){var t,e=function(t,e,i){i=void 0!==i?i:3e4;var n=Math.round(Math.random()*i);setTimeout((function(){t.reload(e),t._isNotReloaded=!0}),n)};for(var i in this.widgetReloadQueue)this.widgetReloadQueue.hasOwnProperty(i)&&(t=this.widgetReloadQueue[i]).flag&&(e(t.widget,t.callback,t.randomDelay),t.flag=!1)},showEditForm:function(e,i,n){var o=this.get(e);if(o.params.prefs_src!==this.undef()&&""!==o.params.prefs_src){var s=o.iframeElement(o.params.prefs_src,[],!0),r=s.attr("src");t(i).empty().append(s),s.attr("src",r+"&rnd="+Math.random()),s.bind("load",n)}else t.get(this.params.formUrl,{widget:o.getWidgetId(),wauth:o.getAuth(),dataType:"json",prefs_get:o.params.prefs_get?JSON.stringify(o.params.prefs_get):""},n)},getFontSize:function(){return this._fontSize||(this._fontSize=t(".widget").css("font-size")),this._fontSize},end:!0},Widget.Framework.init({jsonUrl:"",addUrl:"/adddata/",rawBodyUrl:"/inline/",formUrl:"/form.html",proxyUrl:"/xframeproxy.html",wauth:!1,idTemplate:/WIDGETID/g,idPrefix:"wd-",wrapperPrefix:"wd-",wrapperPostfix:"-",iframeHeight:"auto",iframeWidth:400,layoutFixed:!1,statParams:{pid:132,cid:2947},patternId:!1,yu:!1,is_default:!1,geoid:!1,region:!1,havePrefsFrom:!1,isWidgetNormal:!1,open_settings_on_add:!1,title:"",prefs_get:!1,locale:"ru",domain:"ru",dataLoadingText:" ",showPreferencesHandler:function(){},hidePreferencesHandler:function(){},notifyChangesHandler:function(){},preloader:"<div>#dataLoading#</div>"})}(jQuery),Widget.GetInstance=function(t){return Widget.Framework.get(t)},Widget.GetInstanceByWauth=function(t){return Widget.Framework.getByWauth(t)},Widget.Init=function(t){return Widget.Framework.init(t)},Widget.Bind=function(t,e){return Widget.Framework.bind(t,e)},Widget.BindOnAdd=function(t,e){return Widget.Framework.prebind(t,e)},$(document).ready((function(){Widget.Framework.domLoaded()})),Widget.Framework.focused=!0,$.browser&&$.browser.msie?($(document).bind("focusout",(function(){Widget.Framework.focused=!1})),$(document).bind("focusin",(function(){Widget.Framework.focused=!0}))):($(window).focus((function(){Widget.Framework.focused=!0})),$(window).blur((function(){Widget.Framework.focused=!1})));var i=Widget.Framework.bindIframe();i?window.widget=i:(window.WidgetMessaging=function(t){Widget.Framework.xframeGet(t)},$(window).on("resize",$.debounce((function(){var t=$(".widget").css("font-size");t!==Widget.Framework._fontSize&&(Widget.Framework._fontSize=t,Widget.Framework.all().forEach((function(t){t.adjustFontSize()})))}),200))),"postMessage"in window&&$(window).bind("message",(function(t){Widget.Framework.onWindowMessage(t.originalEvent)}))}},"3wAB":function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_handleReResponse:function(t,e){this.__base.apply(this,arguments),e.relevant&&e.items.length&&(this._meta=e.data[2]||{})}})},"42Ai":function(t,e){BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})),this.__base.apply(this,arguments)}})},"44Qx":function(t,e){BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,i=this.getCurrPos(),n={opacity:1,top:i.top,left:i.left},o={opacity:0,top:i.top,left:i.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(n,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var i=e.to,n=this.getCurrPos(),o=this.domElem,s={top:n.top,left:n.left,opacity:0};return"bottom"===i?s.top+=10:"top"===i?s.top-=10:"left"===i?s.left-=10:"right"===i&&(s.left+=10),o.stop(!0,!0).animate(s,this.params.duration,(function(){t(),o.css("opacity","")}))}})},"4H+s":function(t,e){home.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,(function(){return e.shift()||""}))}},"4Rhg":function(t,e){MBEM.decl("mini-suggest",{_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&(this._handleClick(this._popup,MBEM.eventProxy("_onPopupClick",this)),this.bindTo(this._popup,"mouseover",MBEM.eventProxy("_onMouseover",this)).bindTo(this._popup,"mouseout",MBEM.eventProxy("_onMouseout",this))),t},_onMouseover:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");e&&this._selectItem(e)},_onMouseout:function(t){MBEM.closest(t.target,"mini-suggest__item")&&this._unselectAll()},_update:function(){this._unselectAll(),this.__base.apply(this,arguments)},_selectItem:function(t){this._unselectAll(),t&&MBEM.cls.add(t,"mini-suggest__item_selected_yes")},_unselectAll:function(){if(this._popup){var t=this._popupContent.querySelectorAll(".mini-suggest__item_selected_yes");MBEM.arrayFrom(t).forEach((function(t){MBEM.cls.remove(t,"mini-suggest__item_selected_yes")}))}},_handleClick:function(t,e){return this.bindTo(t,"mousedown",(function(t){t.preventDefault()})).bindTo(t,"click",(function(t){!t.button&&e&&e.call(this,t)})),this}})},"4bt8":function(t,e){BEM.DOM.decl({block:"news",modName:"animation",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._animatedHovered=!1,this._animatedFocused=!1,this._visible=!0}}},destruct:function(){this._deinitAnimation(),this.__base.apply(this,arguments)},_onPanelChange:function(){this.__base.apply(this,arguments),this._stopRotation(),this._startRotation()},_initAnimation:function(){this._timeout=setTimeout(function(){this._rotate(),this._startRotation()}.bind(this),this.params.firstInterval),this.channel("sys").on("visibilitychange",this._onVisibilityChange,this)},_shiftNews:function(t){$(".news__animated-item:not(.list__item_fade_in)").remove(),$(".list__item_fade_in").after(t),this.findElem("animated-item").each((function(t,e){$(e).attr("value",t+5)})),this.newsShifted=!0},_deinitAnimation:function(){this.channel("sys").un("visibilitychange",this._onVisibilityChange,this),this._stopRotation(),this.__base.apply(this,arguments)},_checkConditions:function(){this._animatedHovered||this._animatedFocused||!this._visible?this._stopRotation():this._startRotation()},_onVisibilityChange:function(t,e){this._visible=!e.hidden,this._checkConditions()},_toggleHover:function(t){this._animatedHovered=t,this._checkConditions()},_toggleFocus:function(t){this._animatedFocused=t,this._checkConditions()},_startRotation:function(){!this._interval&&this._isAnimationEnabled&&(this._interval=setInterval(this._rotate.bind(this),this.params.interval))},_stopRotation:function(){this._interval&&(clearInterval(this._interval),this._interval=null),this._timeout&&(clearTimeout(this._timeout),this._timeout=null)},_rotate:function(){var t=this.findElem(this._$panel,"animation-list");if(t.length){var e=t.find(".list__item"),i=e.filter(".list__item_fade_in").next(".list__item");i.length||(i=e.eq(0)),this._showAnimatedItem(i)}},_showAnimatedItem:function(t){var e=this.findElem(this._$panel,"animation-list");if(e.length){var i=e.find(".list__item").filter(".list__item_fade_in");t.addClass("list__item_fade_in"),i.removeClass("list__item_fade_in").addClass("list__item_fade_out"),setTimeout(function(t){this.rotateNewsHtml&&(this.newsShifted||this._shiftNews(this.rotateNewsHtml),this.fadeInNewShifted||(this.fadeInNewShifted=!0,t.remove())),t.removeClass("list__item_fade_out")}.bind(this,i),this.__self.ANIMATION_DURATION)}}},{ANIMATION_DURATION:400,live:function(){var t=this.__base.apply(this,arguments);return this.liveBindTo("animated-item","mouseover mouseout",(function(t){var e=t.relatedTarget,i=t.target;e&&(e===i||$.contains(i,e))||this._toggleHover("mouseover"===t.type)})),this.liveBindTo("animated-item","focusin focusout",(function(t){if(("focusin"!==t.type||!$("html").hasClass("pointerfocus"))&&(this._toggleFocus("focusin"===t.type),"focusin"===t.type)){var e=$(t.target).closest(".list__item");e.hasClass("list__item_fade_in")||this._showAnimatedItem(e)}})),t}})},"4lOB":function(t,e){BEM.DOM.decl({block:"imageloader",modName:"tracking",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._setModOnVisible("full-visible",{threshold:.9})}}})},"4oEA":function(t,e){home.is=function(t){return"0"!==t&&!!t},home.hasBlock=function(t){return t&&home.is(t.show)}},"4opE":function(t,e){BEM.DOM.decl("b-autocomplete-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup",(function(t){this.trigger(t.type)})),this.__base()}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),i=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",!!t.param("pers")&&"yes").content(BEM.blocks["b-autocomplete-item"].highlight(i,t.param("hl"))).js(!0)}})},"5Wo9":function(t,e){BEM.decl("installing-promotion",{},{init:function(t){this._promptEvent=t,this._promtHandlers=["news"],this._promptTimeout=300,this._storageHeader="YandexHomePromptInstallationAttempt",this._storage=window.localStorage,this._statPath="installing_promotion",this._installPrompt(t)},_installPrompt:function(t){t.preventDefault();var e=this;this._promtHandlers.forEach((function(i){home.stat.addHandler(i,(function(){e._showPopup(t)}))}))},_showPopup:function(t){this._localInstallationCheck()&&setTimeout(function(){t.prompt(),t.userChoice.then(function(t){var e=this._convertDateToDays(new Date);this._storage.setItem(this._storageHeader,e),home.stat.logPath("show",this._statPath+".prompt_poopup"),"accepted"===t.outcome?home.stat.logPath("click",this._statPath+".prompt_install"):home.stat.logPath("click",this._statPath+".prompt_dismiss")}.bind(this))}.bind(this),this._promptTimeout)},_localInstallationCheck:function(){var t=this._storage.getItem(this._storageHeader),e=this._convertDateToDays(new Date);return!t||Math.round(e-t)>7},_convertDateToDays:function(t){return t.getTime()/1e3/60/60/24}}),window.addEventListener("beforeinstallprompt",(function(t){home.stat.logPath("tech","installing_promotion.avaliable_promote"),BEM.blocks["installing-promotion"].init(t)}))},"5sh/":function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",(function(t){this.setMod(this.elem("clear"),"pressed","yes")})).liveBindTo("clear","pointerover",(function(t){this.setMod(this.elem("clear"),"hovered","yes")})).liveBindTo("clear","pointerout",(function(t){this.delMod(this.elem("clear"),"hovered")})).liveBindTo("clear","pointerclick",(function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()})).liveBindTo("control","paste",(function(){this.setMod(this.elem("clear"),"visibility","visible")})),this.__base()}})},"68Xq":function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_repositionPopup:function(){if(this._popup){var t=MBEM.offset(this.domElem);this._popup.style.width=this.domElem.offsetWidth+"px",this._popup.style.left=t.left+"px",this._popup.style.top=t.top+this.domElem.offsetHeight+this.params.popupOffset+"px"}}})},"69PH":function(t,e){MBEM.decl("mini-suggest",{_handleClick:function(t){return this.__base.apply(this,arguments).bindTo(t,"mousedown",(function(){this._freezeFocus=Date.now()+1e3})),this}})},"6Hjr":function(t,e){BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.win=window,this._popupInited=!1,this.hasMod("has-unread")&&this.setMod("animation-active","yes"),this._fetchCounter()}},"has-unread":{yes:function(){this.setMod("animation-active","yes")},"":function(){this.domElem.attr("aria-label",BEM.I18N("notifier","no-new-notifications"))}},"animation-active":{yes:function(){this._subscribeOnAnimationEnd()}},opened:{yes:function(){this.domElem.attr("aria-expanded",!0)},"":function(){this.domElem.attr("aria-expanded",!1)}}},_subscribeOnAnimationEnd:function(){var t=this.elem("clapper");t.on("animationend",function e(){this.delMod("animation-active"),t.off("animationend",e)}.bind(this))},_initPopup:function(){if(this._popupInited)return!1;this._popup=this.getPopup(),this._popup.on("beforeOpen beforeClose",function(){var t=this._popup.hasMod("visible","yes");this.toggleMod("opened","yes",!t),void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updatePopupState",!t),t?this._firstOpen=!1:(this.delMod("has-unread"),this._firstOpen=void 0===this._firstOpen||void 0)}.bind(this)),this._popupInited=!0},_fetchCounter:function(){var t={url:this._getCounterUrl(),dataType:"json",type:"GET",xhrFields:{credentials:"include",withCredentials:!0}};return $.ajax(t).promise().then(this._prepareCounter.bind(this),this.onFetchCounterError.bind(this))},_prepareCounter:function(t){var e={counter:0,services:[],context:{}};t&&(t.unviewed_count&&t.services&&(e.counter=this._convertToUint(t.unviewed_count),e.services=Object.keys(t.services)),t.context&&(e.context=t.context)),this.onFetchCounterSuccess(e)},onFetchCounterSuccess:function(t){t.counter&&this.onUpdateCounter(t.counter,t.services,t.context)},onFetchCounterError:function(){},_convertToUint:function(t){var e=Number(t)||0;return e>=0&&this._isInteger(e)?e:0},_isInteger:function(t){return(0^t)===t},_getHost:function(){return"https://"+(this.params.apiHost&&-1!==this.params.apiHost.indexOf("yandex-team")?"bell.yandex-team":"yandex")+this._getTld()},_getCounterUrl:function(){return this.params.counterHandle||this._getHost()+"/bell/api/v1/get-ticker"},_getIframeUrl:function(){var t,e=[];return t=this.params.iframeUrl?this.params.iframeUrl:this.params.baseUrl.indexOf(".yandex-team.")>=0?"https://gnc.yandex-team.ru/frame":"https://yandex"+this._getTld()+"/gnc/frame",this.hasMod("no-login")&&-1===t.indexOf("no_login")&&e.push("no_login=1"),this.params.utmSourceService&&-1===t.indexOf("utm_source_service")&&e.push("utm_source_service="+this.params.utmSourceService),this.params.env&&e.push("env="+this.params.env),e.length>0?t+(-1===t.lastIndexOf("?")?"?":"&")+e.join("&"):t},_getLoaderUrl:function(){return this.params.loaderUrl||this.params.baseUrl+"/iframe-loader/"+this.params.loaderVersion+"/index.min.js"},_insertLoaderScript:function(t){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],i=document.createElement("script");i.setAttribute("src",this._getLoaderUrl()),e.insertBefore(i,e.lastChild),i.onload=t},_loadIframe:function(){var t={iframeUrl:this._getIframeUrl(this.params.lang),container:this.findElem(this._popup.domElem,"content").get(0)};this._atom=new window.LegoIframeLoader(t),this._rpcBridge=this._atom.getRPCBridge(this),this._atom.on("init",function(t,e){this._onIframeLoad(e)}.bind(this)),this._atom.init(),this._atom.iframe&&(this._atom.iframe.style.transform="")},getPopup:function(){return this._popup||this.findBlockOn("popup","popup2")},init:function(){if(this._rpcBridge)return this;window.LegoIframeLoader?this._loadIframe():this._insertLoaderScript(this._loadIframe.bind(this))},onIconClick:function(t){this._silentLoad=!1,!this._popupInited&&this._initPopup(),this._rpcBridge||this.init(),this._popup.toggleMod("visible","yes")},onDataLoad:function(t){this.setMod(this._popup.domElem,"loaded","yes"),this._hasLoaded=!0,this._popup.hasMod("visible","yes")&&!this._silentLoad&&this._rpcBridge.invokeMethod("resetUnviewed",{})},onUpdateCounter:function(t,e,i){t=!t||t<0?0:t,e=e||[],i=i||{},this._counter=t;var n=!this._firstOpen&&Boolean(t);if(this.toggleMod("has-unread","yes",n),t&&void 0===this._firstOpen){var o="-counter="+t+",-is_login="+!this.hasMod("no-login");e.length&&(o+=",-services="+e.join(".")),i.exp_boxes&&(o+=",-exp_boxes="+encodeURIComponent(i.exp_boxes)),this.count("3027.1228.487",o,null,{reqid:BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("reqid")||""})}this._firstOpen&&(this._firstOpen=!1),this.elem("ticker").text(Math.min(99,t)),n&&this.domElem.attr("aria-label",BEM.I18N("notifier","new-notifications",{count:t}))},updateCounterWithParams:function(t,e){void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updateCounterWithParams",{counterParams:t,referrer:e})},_onIframeLoad:function(t){this._rpcBridge.contrAgent.win=t.iframeWin,this._rpcBridge.invokeMethod("onIframeLoad",this.getIframeParams())},getIframeParams:function(){return{source:this.params.source,serviceDatabaseId:this.params.serviceDatabaseId,services:this.params.services,domain:this.params.domain||this.params.tld,counterParams:this.params.counterParams,referrer:this.params.referrer,apiHost:this.params.apiHost,apiHost2:this.params.apiHost2,silent:this._silentLoad}},onInit:function(t){},getDefaultParams:function(){return{baseUrl:"https://gcn.yandex-team.ru",loaderVersion:"stable",iframeVersion:"stable",lang:"ru",referrer:location.href}},count:function(t,e,i,n){e=e||"",i=i||"",n=n||{};var o=["reqid","yuid","serpid","service","ui"].reduce((function(t,e){return t+(n[e]?"/"+e+"="+n[e]:"")}),""),s="//yandex"+this._getTld()+"/clck/click/pid=900/cid="+i+"/dtype=stred"+(t?"/path="+t:"")+(e?"/vars="+e:"")+o+"/cts="+(new Date).getTime()+"/*"+document.location.href;document.createElement("IMG").src=s},_getTld:function(){var t=document.location.host.match(/^.*(\..+)$/);return t?t[1]:".ru"},destruct:$.noop},{live:function(){this.liveBindTo("click",(function(t){this.onIconClick(t)}))}})},"6PS6":function(t,e){!function(){"use strict";var t=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,e=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function i(t){var e=[];if(!t)return"";for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]&&null!==t[i]){var n=t[i];"object"!=typeof n&&(n=[n]);for(var o=0;o<n.length;++o)e.push(encodeURIComponent(i)+(""!==n[o]?"="+encodeURIComponent(n[o]):""))}return e.length?"?"+e.join("&"):""}home.parseSearch=function(t,e){return t.split("&").reduce((function(t,i){if(!i)return{};var n,o,s=i.match(/([^=]*)=(.*)/);if(s)try{n=decodeURIComponent(s[1]),o=decodeURIComponent(s[2])}catch(r){return home.error("home.parseSearch: "+r.message+"; token: "+i),t}else{try{n=decodeURIComponent(i)}catch(r){return home.error("home.parseSearch: "+r.message+"; token: "+i),t}o=""}return n in t&&e?("string"==typeof t[n]&&(t[n]=[t[n]]),t[n].push(o)):t[n]=o,t}),{})},home.parseUrl=function(i,n){var o,s=i.match(t);if(s?o=s[3].match(e):(s=[],o=i.match(e)),!s&&!o)throw new TypeError('Invalid url "'+i+'"');var r={scheme:s[1]||"",host:s[2]||"",path:o&&o[1]||"",search:o&&o[2]||"",hash:o&&o[3]||"",query:{}};return r.query=home.parseSearch(r.search,n&&n.multi),r},home.makeUrl=function(t){var e="";return!t.scheme||!t.host&&t.path||(e+=t.scheme+"://"),t.host&&(t.scheme||(e+="//"),e+=t.host),e&&(t.path&&0!==t.path.indexOf("/")||!t.path)&&"/"!==e.charAt(e.length-1)&&(e+="/"),e+=t.path||"",e+=i(t.query),t.hash&&(e+="#"+t.hash),e},home.addQueryToUrl=function(t,n){return t.replace(e,(function(t,e,o,s){var r=o?home.parseSearch(o):{};for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a]);return e+i(r)+(s?"#"+s:"")}))}}()},"6hPz":function(t,e){$(document).ready((function(){var t=home&&home.getData&&home.getData("time-count.data");if(t){var e=null,i=t.timeout,n=+new Date+3e5,o=[];document.hidden||function r(t){o.push(t),s(),e=t<=3e5?setTimeout((function(){r(t+i)}),i):null}(0),BEM.channel("sys").on("hidden",(function a(){e&&(clearTimeout(e),e=null),BEM.channel("sys").un("hidden",a)}))}function s(){if(window.defaultMetrikaCounter)for(;o.length;){var e=o.pop(),i={};i["time-"+t.content]={},i["time-"+t.content][t.type]={},i["time-"+t.content][t.type][e]=1,window.defaultMetrikaCounter.params(i)}else+new Date<n&&setTimeout(s,100)}}))},"6tA5":function(t,e){BEM.decl("i-intersection-observer-wrapper",{},{create:function(t,e){this._eventsInited||(this._eventsInited=!0,"THROTTLE_TIMEOUT"in IntersectionObserver.prototype&&(this._initEvents(),IntersectionObserver.prototype.THROTTLE_TIMEOUT=200,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!1));var i=new IntersectionObserver(t,e);return this._instances.push(i),i},_instances:[],_THROTTLE_TIMEOUT:200,_initEvents:function(){this._throttledCallback=home.throttle(this._fire.bind(this),this._THROTTLE_TIMEOUT,{leading:!1}),this._listenEvents()},_listenEvents:function(){},_fire:function(){this._instances.forEach((function(t){t._checkForIntersections()}))}})},"6vhi":function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"fixed"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._throttledCheck=home.throttle(this._checkVisibility.bind(this),200),this._throttledCheck(),this.bindToWin("resize",this._throttledCheck),this.channel("i-scroll-event").on("scroll",this._throttledCheck);var t=BEM.blocks["media-infinity-footer"];t&&t.on("toggleFooter",this._checkVisibility,this);var e=function(){setTimeout(this._throttledCheck,250)}.bind(this);this.channel("navi").on("scroll",e),this.channel("desk-notif-card").on("toggled",e)},"fixed-visible":{yes:function(){this.onShow()}}},_checkVisibility:function(){var t,e="top"==(t=window.innerWidth>=1160?"all":"top"),i=e||window.innerWidth>=1160,n=$(".desk-notif"),o=$("html").hasClass("document_media-infinity-footer_yes")?$(".media-infinity-footer__content").height():0,s=n.offset(),r=this.domElem.height()||200,a=window.pageYOffset+window.innerHeight-(r+s.top+n.height()+o),c=window.innerHeight;if(this.params.enableFixedMinified&&a<=25&&!this.hasMod("minified"))return this.setMod("minified","yes"),void this._checkVisibility();var l=i&&a>=25&&!(e&&window.pageYOffset>100)&&window.pageYOffset<=c;this.toggleMod("fixed-visible","yes",l),$("html").toggleClass("document_fixed-notif_yes",l&&"all"===t)},_isVisible:function(){return this.hasMod("fixed-visible","yes")}})},"6yJk":function(t,e){!function(t,e){var i,n,o,s,r;function a(t){var i=n.call(e,"span");return i.innerText=String.fromCharCode(t),i}function c(t,e){return Math.round(t.offsetWidth*e)-1}t.Ya=t.Ya||{},t.Ya.F=t.Ya.F||{},t.Ya.F.calibrate=function(t,l){if(t){i=e.body,n=e.createElement,o=e.createDocumentFragment,s=i.appendChild,r=i.removeChild;var h=function(t){var i=n.call(e,"div"),o='position:absolute;left:0;top:0;width:1px;height:1px;opacity:0;overflow:hidden;font:1000px "'+t+'", serif;';i.setAttribute("style",o),i.setAttribute("aria-hidden","true");for(var r=0;r<4;r++)s.call(i,a(57344+r));return i}(t);s.call(i,h);var d=h.children,u=16/d[0].offsetWidth,m=c(d[1],u);if(1==m){var p=c(d[2],u),f=c(d[3],u),_=p+(f<<4);if(_<4)T(l,null);else{for(var g=o.apply(e),v=m+p+f,b=0;b<2*_+1;b++)s.call(g,a(57348+b));s.call(h,g);for(var y=[],w=4;w<4+2*_;w+=2){var k=c(d[w],u),E=c(d[w+1],u);y.push(k+(E<<4)),v+=k+E}if(c(d[w],u)==(15&v)){for(var M=0,x=0;x<y.length;x++)M+=y[x]*(1<<8*x);T(l,M)}else T(l,null)}}else T(l,null)}else T(l,null);function T(t,e){h&&(r.call(i,h),h=null),setTimeout((function(){t(e)}),0)}}}(window,document)},"7wSh":function(t,e){!function(t,e,i){function n(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function o(t,e,i){null!=e&&!1!==e&&(i.push("_",t),!0!==e&&i.push("_",e))}function s(t,e,i,n){n.push(t),o(e,i,n)}function r(t,e,i,n,r){s(t,void 0,void 0,r),r.push("__",e),o(i,n,r)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:"_",ELEM_DELIM:"__",buildModPostfix:function(t,e,i){var n=i||[];return o(t,e,n),i?n:n.join("")},buildClass:function(t,e,i,o,a){if(n(i)?n(o)||(a=o,o=i,i=e,e=void 0):void 0!==i?(a=i,i=void 0):e&&"string"!=typeof e&&(a=e,e=void 0),!e&&void 0===i&&!a)return t;var c=a||[];return e?r(t,e,i,o,c):s(t,i,o,c),a?c:c.join("")},buildClasses:function(t,i,n,o){i&&"string"!=typeof i&&(o=n,n=i,i=void 0);var a=o||[];return i?r(t,i,void 0,void 0,a):s(t,void 0,void 0,a),n&&e.each(n,(function(e,n){n&&(a.push(" "),i?r(t,i,e,n,a):s(t,e,n,a))})),o?a:a.join("")}}}(BEM,jQuery)},"886P":function(t,e){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("item-arrow",this._handleArrowClick,this)},_handleArrowClick:function(t,e){this.__base.apply(this,arguments),this._changePathState("mouse")&&(this._path.index=e.itemIndex+1),this._addAction("arrow",{index:e.itemIndex+1}),++this._ratio.actionsCount}})},"8A5c":function(t,e){function i(){this.current=null,this.currentStatus=0,this.area=null,this.shareInstance=null,this.fadeTimeout=600}i.prototype._init=function(){var t=this;this.params=home.getData("coversAPI.data"),(this.params.forced||this.params.settings.autoload)&&$((function(){t.load({autostart:!0}),t.sendStats("forced.show")})),$(".covers-logo").click((function(){0===t.currentStatus?(t.load({autostart:!0}),t.sendStats("logo.show")):4===t.currentStatus&&(t.stop({fromEvent:!0}),t.sendStats("logo.hide"))}));var e=this.getSearchForm(),i=!1;e.on("submit",(function(){t.getSearchInput().bem("input").val()!==t.params.text||i||(i=!0,e.append('<input type="hidden" name="aoff" value="1"><input type="hidden" name="promo" value="supercover">'))}))},i.prototype.getSearchInput=function(){return $(".search2 .input")},i.prototype.getSearchForm=function(){return $(".search2")},i.prototype._changeInputVal=function(t){this.getSearchInput().bem("input").val(t,{suggest:!1})},i.prototype.submitForm=function(t){t||(t=this.params.text),this._changeInputVal(t),setTimeout(function(){this.getSearchForm().bem("suggest2-form").submit({prevent:!1})}.bind(this),200)},i.prototype._setParams=function(t){this.params=t},i.prototype._set=function(t){this.current&&this.stop(),home.covers[t.name]&&(this.current=t.name,this.currentStatus=0)},i.prototype._getShare=function(t){var e=this;t&&!e.shareInstance&&($("body").append('<div id="covers-share"></div>'),$.getScript("//yastatic.net/share2/share.js").done((function(){e.shareInstance=new Ya.share2("covers-share",t)})))},i.prototype.load=function(t){if(this.current&&0===this.currentStatus){if(!this.area&&!this.close){this.area=$('<div class="covers-parent"></div>');var e=!1;this.params.settings&&"white"===this.params.settings.close&&(e=!0),this.close=$('<span title="'+this.params.closeTitle+'" class="covers-close '+(e?"covers-close_white":"")+'"></span>'),$("body").append(this.area,this.close),this.close.on("click",$.proxy((function(){this.stop(),this.sendStats("close.hide")}),this))}this._getShare(this.params.shareParams),$("body").addClass("covers-fade"),this.params.parent=this.area,this.currentStatus=1;var i=this;home.covers[this.current].load(this.params,(function(e){i._loadHandler(e,t)}))}},i.prototype._loadHandler=function(t,e){t.status>0?(this.currentStatus=2,e.autostart&&this.start(e)):this.currentStatus=0},i.prototype.start=function(t){if(2===this.currentStatus){this.currentStatus=3;var e=this;this.params.settings.noHide||($(".i-ua_browser_touch").length?$(".rows").css({overflowX:"hidden"}):$("body").addClass("covers-overflow"),$("body").addClass("covers-fade-on"),$(".covers-search").addClass("covers-search_hidden_yes")),this.params.settings.noSearchPhrase||this._changeInputVal(this.params.text),home.covers[e.current].start(e.params,(function(i){e._startHandler(i,t)}))}},i.prototype._startHandler=function(t){t.status>0?this.currentStatus=4:this.currentStatus=0},i.prototype.stop=function(t){if(4===this.currentStatus){this.currentStatus=5;var e=this;home.covers[this.current].stop(this.params,(function(i){e.stopHandler(i,t)}))}},i.prototype.stopHandler=function(){this.area.remove(),this.close.remove(),this.area=null,this.close=null,$(".i-ua_browser_touch").length?$(".rows").css({overflowX:"visible"}):$("body").removeClass("covers-overflow"),$(".covers-search").removeClass("covers-search_hidden_yes"),$("body").removeClass("covers-fade covers-white_close covers-fade-on"),this.currentStatus=0},i.prototype.sendStats=function(t){this.params.stat&&home.stat.logPath("click",this.params.stat+"."+t)},home.coversAPI=new i,home.covers={}},"8gSH":function(t,e){BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent((function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)})),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}})},"8ova":function(t,e){MBEM.decl("mini-suggest",{_selectItem:function(t){this.__base.apply(this,arguments),t&&(this._input.setAttribute("aria-activedescendant",t.id),t.setAttribute("aria-selected",!0))},_unselectAll:function(){if(this.__base.apply(this,arguments),this._popup){var t=this._input.getAttribute("aria-activedescendant");if(t){this._input.setAttribute("aria-activedescendant","");var e=document.getElementById(t);e&&e.setAttribute("aria-selected",!1)}}},_buildItem:function(t,e){var i=this.__base.apply(this,arguments);return i.attrs.id="suggest-item-"+this._suggestId+"-"+e,i.linkAttrs&&this.params.a11y&&this.params.a11y.nav&&(i.attrs["aria-roledescription"]=this.params.a11y.nav),i}})},"9AZ7":function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()})},"9Hap":function(t,e){!function(){var t="XDomainRequest"in window?XDomainRequest:XMLHttpRequest,e={};function i(t){var i=0;return e[t]&&(i=Date.now()-e[t]),e[t]=null,i}MBEM.ajax=function(n,o){o=o||{};var s=new t;return function(t){e[t]=Date.now()}(n),s.open("get",n,!0),s.withCredentials=!0,s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)try{o.successCallback&&o.successCallback.call(o.ctx,JSON.parse(s.responseText),{url:n,duration:i(n)})}catch(t){MBEM.consoleError("Incorrect suggestions JSON")}else o.errorCallback&&o.errorCallback(s.status,s.statusText,s.responseText)},o.timeout&&(s.timeout=o.timeout),s.send(),function(){s.abort()}}}()},"9UFm":function(t,e){BEM.DOM.decl("banner-inserts",{_sendCounter:function(){var t=home.getData("banner-inserts.data").closeUrl;t&&((new Image).src=t)}},{live:function(){this.liveBindTo("link","pointerclick",(function(){this._sendCounter()}))}})},"9W5B":function(t,e){BEM.DOM.decl("news",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._inlineStocks=this.elem("inline-stocks");var t,e=this.params.storeClientTabs,i=this.__self._selectedTabs,n=this.params.promoCloseParams;e&&(t=i[e])&&this._keys.indexOf(t)>-1&&this._selectTab(t,{focus:!1,animate:!1}),this.params.promoCloseUrl&&this.domElem.on("click",function(t){BEM.blocks["i-yabs-sender"].sendClose(t,this.params.promoCloseUrl)}.bind(this)),n&&n.url&&n.post_data&&this.domElem.on("click",this._onClickDisclaimer.bind(this))}}},_onClickDisclaimer:function(){var t=this.params.promoCloseParams,e=t.post_data;$.ajax({method:"POST",xhrFields:{withCredentials:!0},url:t.url,data:JSON.stringify({enable_disclaimer_disallow:!!e.enable_disclaimer_disallow,form_key:e.form_key})}).asPromise()["catch"](function(t){home.error.logError({block:this.__self.getName(),message:"news._onClickDisclaimer: ajax",source:"news",meta:{postData:e}},t)}.bind(this))},hideCustomTab:function(){var t="custom";this._keys=this._keys.filter((function(e){return e!==t})),this._selectedKey===t&&this._selectTab(this._keys[this._keys.length-1]),this.elem("tab").filter('[data-key="custom"]').parent().remove(),this.dropElemCache("tab")},_onPanelChange:function(){this.__base.apply(this,arguments),this.trigger("panelChange")},_changeTab:function(t){this.params.storeClientTabs&&(this.__self._selectedTabs[this.params.storeClientTabs]=t),this._inlineStocks&&this.toggleMod(this._inlineStocks,"hidden","yes","no","covid"===t&&this.params.covid_topnews),this.__base.apply(this,arguments)}},{_selectedTabs:{}})},"9gJZ":function(t,e){$(document).ready((function(){var t=home&&home.getData&&home.getData("consistency.data"),e=new MordaRT;if(t){var i=["*.*.yandex.*","*.yandex.*","yandex.*","yastatic.net","yastat.net","mc.admetrica.*","www.microsoft.com"];setTimeout((function(){!function(){var r,a,c,l,h,d=null;"antiadb"===t.type?d=null:"flash"===t.type?t.custom.flashV&&(new CAWBrowser).flash>=t.custom.flashV?(a=$("#banner > object:eq(0)").attr("classid"),c=$("#banner > #bc > noscript").length,l=$("#banner").children().length,h=$("#banner > #bc").children().length,d=a&&"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"===a&&1===c&&2===l&&1===h?null:{horizontal:{flash:1}}):d=n():"img"===t.type?d=n():"hdpi_img"===t.type?d=null:"iframe"===t.type?d=function(){var t=$(".banner-iframe").attr("src"),e=$("#banner #bc noscript").length,i=$("#banner").children().length,n=$("#banner #bc").children().length,s=$(".banner__expand_innerclick").length;return o(t)&&1===e&&(1===i||s&&(2===i||3===i))&&1===n?null:{horizontal:{iframe:1}}}():"html"!==t.type&&(d=(r=$(".b-line_adv")).length&&0===r.children().length||3===$(".main").children().length?null:{horizontal:{none:1}});var u=function(){var t=$("img"),e=[],i=!1,n={};if(t.each((function(){var t=$(this).parents("a");this.src&&t.length&&e.push({src:this.src,link:t.attr("href")})})),e.length)for(var s=0,r=e.length;s<r;s++)o(e[s].link)||o(e[s].src)||(i=!0,n[e[s].link]={},n[e[s].link][e[s].src]=1);return i?{image:1,links:n,ignore:1}:null}(),m=$("html")[0].style.cssText?{html:1}:null;u&&d?$.extend(d,u):u&&(d=u),m&&d?$.extend(d,m):m&&(d=m),function(){var t,e,n=home.getData("rtb.counters.shows",[]),o=home.getData("banner.bnCounts",[]).concat(n);if(o&&o.length)for(var s=0,r=o.length;s<r;s++)(t=document.createElement("a")).href=o[s],e=t.host,i.push(e)}(),function(n){n&&!n.ignore?s("1"):"1"===t.csc&&s("2"),n&&n.ignore&&delete n.ignore;var o=null,r=e.getEntries(i),a=e.getEntries(i,!0);n&&((o=o||{})["consistency-"+t.content]=n),r.resourcesCount&&((o=o||{})["resources-consistency-"+t.content]=r.resources),a.resourcesCount&&r.resources.script&&((o=o||{})["resources-src-consistency-"+t.content]=a.resources.script),o&&window.defaultMetrikaCounter&&window.defaultMetrikaCounter.params(o)}(d)}()}),t.timeout)}function n(){var e=$("#banner > #bc > noscript").length,i=$("#banner > #bc").children().length,n="",o="";return t.custom.gif?n=$("#banner > img").attr("src"):(o=$("#banner > a").attr("href"),n=$("#banner > a > img").attr("src")),n!==t.custom.img||!t.custom.gif&&o!==t.custom.href||1!==e||1!==i?t.custom.img?{horizontal:{img:1}}:{horizontal:{none:1}}:null}function o(t){if(!t||"#"===t||0===$.trim(t).indexOf("javascript"))return!0;var n=e.getHostname(t);return e.siteInDomainList(i,n)}function s(e){var i=$('<iframe class="consistency__frame" aria-hidden="true"></iframe>');$("body").append(i),i.attr("name","consistency"+(Math.random()+"").substr(3,7)),i.attr("src",t.url+"&csc="+e)}}))},"9mSB":function(t,e){BEM.DOM.decl("popup",{_getPosOf:function(t){var e,i=t.offset();return i?(this._getPosOfTmpElem||(this._getPosOfTmpElem=$('<div class="popup__getposoffix" style="position:absolute;left:0;top:0">').appendTo("body")),e=this._getPosOfTmpElem.offset(),i.left-=e.left,i.top-=e.top,i):{left:0,top:0}}})},"9mXv":function(t,e){$((function(){if($("body").hasClass("b-page_bg-exp_yes")){var t=!1;BEM.channel("i-scroll-event").on("scroll",(function(e,i){var n,o=null===(n=$(".media-grid").offset())||void 0===n?void 0:n.top;!function(e){if(e!==t){var i,n;t=e;var o=e?"zen-morda-desktop-disable-card-shadows":"zen-morda-desktop-enable-card-shadows";null===(i=window.YandexZen)||void 0===i||null===(n=i.app)||void 0===n||n.trigger(o,(function(){$("body").toggleClass("b-page_bg_yes",e)}))}}(Boolean(o&&i-o>200&&window.YandexZen&&window.YandexZen.app))}))}}))},"9og6":function(t,e){BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,i=this._repackDirParams(t.directions),n=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(n);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map((function(t){var e=o.directions[t],n=i.directions[t];return n||(n=i.directions[e.to]),this._directions[t]=this._mergeParams(n,e,{tail:this._tailParamsHook}),t}),this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var i="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+i).bem(i)}var n=this._findParent(e);n&&this.setParent(n)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach((function(t){t.hide&&t.hide(),t.delMod("visible")})),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var i=this;return this.beforeHide((function(){i.domElem&&i.delMod("visibility")})),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return;t.on("hide",(function(){this.removeChild(t)}),this),t.on("beforeClose",(function(){this.afterCurrentEvent((function(){this.removeChild(t)}))}),this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return void e.splice(n,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",(function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})})),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent((function(){this.domElem&&this._enableAutoclosable()})),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(t,e,i){var n={},o=Object.prototype.hasOwnProperty;return i||(i={}),t&&"object"==typeof t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(s){var r=o.call(i,s)?i[s].call(this,t[s],e[s]):e[s];!r||"object"!=typeof r||Array.isArray(r)?n[s]=r:t[s]?n[s]=this._mergeParams(t[s],r,i):n[s]=r}),this),n},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],i=e,n=t.length,o=[],s=0;s<n;s++)for(var r=t[s],a=r.length,c=0;c<a;c++)for(var l=e[s],h=l.length,d=0;d<h;d++)for(var u=i[s],m=u.length,p=0;p<m;p++)o.push({direction:r[c],axis:l[d],tail:{axis:u[p]}});return this.__self._generateDirectionsCache=o,o},_repackDirParams:function(t){var e,i={};return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),e=t.map((function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var n=t.to;return i[n]||(i[n]=t),t.axis&&(n+="-"+t.axis),t.key=n,i[n]=t,n}),this),{directions:i,keys:e}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,i=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<i;t++){var n=e[t],o=this._directions[n];this._resetPos(n)._pushPos(n,this._calcPos(o))._pushPos(n,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(n)._pushTailPos(n,this._calcTailPos(o))._pushTailPos(n,this._calcTailOffset(o))._pushPos(n,this._calcOffsetByTail(o)),this._pushPos(n,this._getParentOffset());var s=this._calcVisibilityFactor(o);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[n],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),i=this.getOwnerSize(),n=this.getPlacingSize(),o=t.axis,s=this.params.position||{},r={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":r={top:a.call(s,"top")?s.top:e.top+i.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"top":r={top:a.call(s,"top")?s.top:e.top-n.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"left":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left-n.width};break;case"right":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left+i.width}}return r},_calcTop:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=n.top:"middle"===t?e+=n.top+o.height/2-i.height/2:"bottom"===t&&(e+=n.top+o.height-i.height),e},_calcLeft:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=n.left:"center"===t?e+=n.left+o.width/2-i.width/2:"right"===t&&(e+=n.left+o.width-i.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,i=this._cache.offset||(this._cache.offset={}),n=t.key,o=t.offset;if(i[n])return i[n];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(n){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return i[n]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,i){!1!==i&&("string"==typeof e?this._sum(t[e]||(t[e]={}),i):(i=e,Object.keys(t).forEach((function(e){this._sum(t[e],i)}),this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach((function(i){t[i]=(t[i]||0)+e[i]}))},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,i,n=this._viewport,o=this._getSizeOf(n),s=this.getPopupSize(),r=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:n.scrollTop(),left:n.scrollLeft()},l=r.top+a.top-c.top,h=r.left+a.left-c.left,d=h+s.width-o.width,u=l+s.height-o.height,m={height:s.height,width:s.width},p=100;return u>0&&(m.height-=u),l<0&&(m.height+=l),h<0&&(m.width+=h),d>0&&(m.width-=d),m.height<0||m.width<0?p=0:(i=Math.abs(m.height*m.width),(e=s.height*s.width)!==i&&(p=i/e*100)),p},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach((function(t){t.domElem&&BEM.DOM.destruct(t.domElem)})),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce((function(t,e){return t+Number(e.getMod("level"))}),t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex;return i||(i=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",(function(){this.hide({source:"close-click"})}))},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var i="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(i=""),t.find(i+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=$(this),i=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each((function(){if("none"===$(this).css("display"))return i=!1})),i)}))},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null})},"9qO5":function(t,e){BEM.DOM.decl({block:"yabrowser-promo",modName:"install",modVal:"download"},{_install:function(){return this.__base.apply(this),this._downloadInstance||(this._downloadInstance=BEM.create("i-install-download",this.params)),this._downloadInstance.download(),home.stat.logPath("click","dist.searchlink.browser.link"),!1}})},"9tlG":function(t,e){MBEM.decl({block:"mini-suggest",modName:"hide-on-scroll",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),BEM.channel("i-scroll-event").on("scroll",this._onScroll,this)},_onScroll:function(t,e){this._focused&&(null!==this._latestScrollTop&&e>this._latestScrollTop&&MBEM.offset(this.domElem).top+this.domElem.offsetHeight+(this._popup&&this._popup.offsetHeight||0)+100<window.pageYOffset?this._blur():this._latestScrollTop=e)}})},A4gj:function(t,e){BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)}))},highlight:function(t,e){if(!$.isArray(e))return t;var i,n=[],o=0,s=e.sort((function(t,e){return t[0]-e[0]})),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return!a&&function(){for(var e,i=/\&(#\d+|#x[a-f\d]+|\w+);/gi;e=i.exec(t);)r.push(e[0]),t=t.replace(e[0],"?")}(),s.forEach((function(e){i=o>e[0]?o:e[0],n.push({tag:"span",elem:"span",content:c(t.slice(o,i))}),n.push({tag:"em",elem:"em",content:c(t.slice(i,o=e[1]))})}),this),n.push({tag:"span",elem:"span",content:c(t.slice(o))}),n}})},A5rE:function(t,e){MBEM.transitionendEvent=function(){var t=document.createElement("el"),e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in e)if(void 0!==t.style[i])return e[i]}},"AFE+":function(t,e){BEM.DOM.decl("menu",{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("item","enter space",(function(t){this.getMod("type","navigation")&&!t.data.domElem.attr("href")&&(this._onItemClick(t.data.domElem,t,{source:"keyboard"}),home.stat.logPath("click",t.data.domElem.attr(home.stat.attr)))})),t}})},AIUQ:function(t,e){BEM.DOM.decl("imageloader",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._setModOnVisible("visible",{threshold:0,rootMargin:"300px 100px"})}},_setModOnVisible:function(t,e){this.__self._ioCache=this.__self._ioCache||{},this.__self._ioCache[t]||(this.__self._ioCache[t]=BEM.blocks["i-intersection-observer-wrapper"].create((function(e,i){e.forEach((function(e){if(e.isIntersecting){var n=e.target;$(n).bem("imageloader").setMod(t,"yes"),i.unobserve(n)}}))}),e)),this.__self._ioCache[t].observe(this.domElem[0])}},{live:!1})},AXNO:function(t,e){BEM.DOM.decl({block:"input",modName:"keyboard",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),$(window).bind("keyboardOpened.lego",this.changeThis((function(){this.setMod("focused","yes")._focused=!0})))}},onElemSetMod:{clear:{visibility:function(t,e,i){this.__base.apply(this,arguments),this.hasMod("clear","yes")&&this.toggleMod("keyboard-visibility","hidden","visible"===i)}}}})},AZC8:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("ufjy");console.info,console.debug,console.warn,console.error,console.error,console.trace;var o=function(t,e){if(e){if(e.logged)return;e.logged=!0}Boolean(window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError)&&Ya.Rum.logError(function(t,e){var i={},o=e||{};return t.message&&(i.message=t.message),t.block&&(i.block=t.block),t.method&&(i.method=t.method),t.level&&(i.level=t.level),(t.sourceType||o.sourceType)&&(i.type=t.sourceType||o.sourceType),t.source&&(i.source=t.source),t.sourceMethod&&(i.sourceMethod=t.sourceMethod),t.coordinates_gp&&(i.coordinates_gp=t.coordinates_gp),(t.meta||o.meta)&&(i.additional=Object(n.a)(t.meta||{},o.meta||{})),(t.url||o.url)&&(i.additional=i.additional||{},i.additional.url=t.url||o.url),(t.page||o.page)&&(i.page=t.page||o.page),i}(t,e),e)}},Aih1:function(t,e){BEM.DOM.decl("divjson2-state",{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){var e=this.findBlockInside(t,"arrowed-list");e&&e.toggleArrows()}})},Ak4E:function(t,e){$(document).ready((function(){var t=home&&home.getData&&home.getData("search-provider.data");t&&function e(){if(window.defaultMetrikaCounter)try{var i,n="yandex."+t.zone,o={"search-provider":{}};window.external&&external.IsSearchProviderInstalled&&(i=external.IsSearchProviderInstalled(n)),void 0!==i&&(o["search-provider"][n]=i,window.defaultMetrikaCounter.params(o))}catch(s){return!1}else setTimeout(e,300)}()}))},AyFg:function(t,e){!function(t){var e=setTimeout;function i(){}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,n._immediateFn((function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(o){return void r(e.promise,o)}s(e.promise,n)}else(1===t._state?s:r)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof n)return t._state=3,t._value=e,void a(t);if("function"==typeof i)return void l(i.bind(e),t)}t._state=1,t._value=e,a(t)}catch(o){r(t,o)}}function r(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&n._immediateFn((function(){t._handled||n._unhandledRejectionFn(t._value)}));for(var e=0,i=t._deferreds.length;e<i;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function l(t,e){var i=!1;try{t((function(t){i||(i=!0,s(e,t))}),(function(t){i||(i=!0,r(e,t))}))}catch(n){if(i)return;i=!0,r(e,n)}}n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new c(t,e,n)),n},n.all=function(t){var e=Array.prototype.slice.call(t);return new n((function(t,i){if(0===e.length)return t([]);var n=e.length;function o(s,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(s,t)}),i)}e[s]=r,0==--n&&t(e)}catch(c){i(c)}}for(var s=0;s<e.length;s++)o(s,e[s])}))},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n((function(e){e(t)}))},n.reject=function(t){return new n((function(e,i){i(t)}))},n.race=function(t){return new n((function(e,i){for(var n=0,o=t.length;n<o;n++)t[n].then(e,i)}))},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.Promise||(t.Promise=n)}(window)},AzRQ:function(t,e){BEM.DOM.declMix("mix-tabber-media-service",{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){var e=this.findBlockInside(t,"arrowed-list");e&&e.toggleArrows(),this._calcOverflow(t)},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass("media-service__panel"),t}})},BCHE:function(t,e){BEM.DOM.decl({block:"modal",modName:"theme",modVal:"normal"},{onSetMod:{visible:{yes:function(){this.setMod("has-animation","yes").__base.apply(this,arguments)}}}})},BK1X:function(t,e){BEM.DOM.decl({block:"imageloader",modName:"scroll",modVal:"no"},{_processBeforeShowFirstCards:function(){if(!this._cardsInited){this._cardsInited=!0;var t=this.domElem.find(".imageloader__image");(t=t.filter((function(e){return!t.eq(e).closest(".scroller").length}))).length&&this._startLoad(t)}}})},BNPM:function(t,e){!function(){"use strict";var t=$("html").hasClass("i-ua_inlinesvg_yes");BEM.DOM.decl("imageloader",{onSetMod:{js:function(){this._cardsInited=!1,this._cache={}},visible:{yes:function(){this._processBeforeShowFirstCards()}}},updateItems:function(){this._cardsInited=!1,this._unbindEvents(),this.hasMod("visible","yes")&&this._processBeforeShowFirstCards()},_unbindEvents:function(){this._scroller&&this.unbindFrom(this._scroller,"scroll"),this.unbindFromWin("orientationchange resize")},_processBeforeShowFirstCards:function(){if(!this._cardsInited){if(this._cardsInited=!0,!this._scroller){var t=this.elem("scroller");t.length&&(this._scroller=t)}this._scroller&&this._loadFirstCards()}},_scrollLeft:function(){return this._scroller&&this._scroller.prop("scrollLeft")},_loadFirstCards:function(){var t=this._scroller.find(".imageloader__card").eq(0),e=this._scrollLeft();this._throttleCheckHorizontal=this.throttle(this._checkHorizontal.bind(this),200),this.bindTo(this._scroller,"scroll",this._throttleCheckHorizontal),this.bindToWin("orientationchange resize",this._throttleCheckHorizontal),t.length&&(this._leftOffset=t.offset().left+e-this._scroller.offset().left),this._itemWidth=t.outerWidth()+parseInt(t.css("margin-right"),10),this._loadCards(e)},_checkHorizontal:function(){this._scroller&&this._loadCards(this._scrollLeft())},_loadCards:function(t){var e=this.domElem.outerWidth()-this._leftOffset+t+(t?150:50),i=this._getViewedCards(e,0);this._startLoad(i)},_getViewedCards:function(t,e){var i=t/this._itemWidth;return i=i%1<e?Math.floor(i):Math.ceil(i),this._getLeftCards(i)},_getLeftCards:function(t){var e=this._scroller.find(".imageloader__card");return e.length===t&&this._unbindEvents(),e.slice(0,t)},_loadImage:function(t,e){var i,n=this._cache,o=0,s=function(){o===e.length&&(t.data("image")&&t.css("background-image",e.map((function(t){return'url("'+t+'")'})).join(",")),t.removeClass("imageloader__image_loaded_no").addClass("imageloader__image_loaded_yes"))};e&&e.length&&(n[e]||e.indexOf("data:image/")>-1?(++o,s()):((i=new Image).onload=function(){n[e]=!0,++o,s()},i.src=e))},_selectFromDPI:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);e=e.sort().reverse();for(var n=0;n<e.length;++n)if(this.__self._getPixelRatio()>=e[n])return t[e[n]];return t[e[e.length-1]]},_selectFromSVG:function(e){return t&&e.svg?e.svg:e.png},_selectImage:function(t,e){for(var i=t;i&&"object"==typeof i;)i=i.png||i.svg?this._selectFromSVG(i):this._selectFromDPI(i);if(i)return[i];var n=e[0].style.backgroundImage;if(n.indexOf("url(")<0)return[];var o=this.__self._STYLE_TO_URL_REGEX;return(n.match(o)||[]).map((function(t){return t.replace(o,"$1")}))},_startLoad:function(t){var e=this;t.each((function(){var t=$(this);if(!t.data("loaded")){var i=t.hasClass("imageloader__image")?t:t.find(".imageloader__image");t.data("loaded",!0),i.each((function(){var t=$(this),i=t.data("image"),n=e._selectImage(i,t);n.length?e._loadImage(t,n):t.removeClass("imageloader__image_loaded_no").addClass("imageloader__image_viewed_yes")}))}}))}},{_STYLE_TO_URL_REGEX:/url\(['"]?(.+?)["']?\)/g,_getPixelRatio:function(){if(!this._pixelRatio)try{this._pixelRatio=window.devicePixelRatio||1}catch(t){this._pixelRatio=1}return this._pixelRatio},live:!0})}()},BWkO:function(t,e){BEM.decl("framebuster",{onSetMod:{js:{inited:function(){var t=this._getWindow();if(t.top.location!==t.location){var e=this.matchDomain(t.document.referrer);e&&!this.isInWhitelist(e)&&(t.top.location=t.location)}}}},matchDomain:function(t){if(!t)return null;var e=t.match(/^https?:\/\/([^:\/\s]+)\/?.*/);return e&&e[1]},isInWhitelist:function(t){return!t||this.defaultWhitelist().concat(this.params.whitelist||[]).some((function(e){return"string"==typeof e?e===t||-1!==t.indexOf(e,t.length-e.length):!!e.test(t)}))},defaultWhitelist:function(){return[]},_getWindow:function(){return window}})},Ba8m:function(t,e){window.home&&home.getData&&home.getData("i-jquery.disableEval")&&(window.$.globalEval=function(){var t;window.BEM&&BEM.blocks["i-block-renderer"]&&(t=BEM.blocks["i-block-renderer"].getCurrent()),home.error.logError({message:"Eval is forbidden",block:"i-jquery",meta:t})}),window.home&&home.getData&&home.getData("i-jquery.logScript")&&$(document).on("ajaxComplete",(function(t,e,i){if(i&&i.dataTypes&&"text"===i.dataTypes[0]&&"script"===i.dataTypes[1]){var n;try{n=e&&e.getResponseHeader("Content-Type")}catch(o){}home.error.logError({message:"Processing ajax script response",block:"i-jquery",meta:{url:i.url,type:n}})}}))},BeG3:function(t,e){$.extend($.easing,{easeOutQuint:function(t,e,i,n,o){return n*((e=e/o-1)*e*e*e*e+1)+i}})},Bgwq:function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()})},BhxO:function(t,e){BEM.DOM.decl("xiva-notif",{onSetMod:{js:function(){window.WebSocket&&this.params.url&&(this.isConnected=!1,this.isPageClosed=!1,this.last={},this.connectAttempts=0,this.connectAttemptsTimer=null,this.reconnectTimer=null,this._connect(),this.bindToWin("beforeunload",this._disconnect))}},_update:function(t){this._isFreshMessage(t)&&("insert"!==t.operation&&"update labels"!==t.operation||this.channel("mail").trigger("update",{uid:t.uid,value:t.newCount}))},_isFreshMessage:function(t){var e=t.uid;return!!e&&(e in this.last||(this.last[e]=0),this.last[e]<=t.lcn?(this.last[e]=t.lcn,!0):void 0)},_connect:function(){this.last={},this.connectAttempts=0,this.ws=new WebSocket(this.params.url),this.ws.onopen=this._onSocketOpen.bind(this),this.ws.onmessage=this._onSocketMessage.bind(this),this.ws.onclose=this._onSocketClose.bind(this)},_onSocketOpen:function(){this.isConnected=!0,clearTimeout(this.connectAttemptsTimer),this.connectAttemptsTimer=setTimeout(function(){this.isConnected&&(this.connectAttempts=0)}.bind(this),5e3)},_onSocketMessage:function(t){try{var e=JSON.parse(t.data);e.raw_data&&this._update(JSON.parse(e.raw_data))}catch(i){}},_onSocketClose:function(t){if(clearTimeout(this.connectAttemptsTimer),!this.isPageClosed){this.connectAttempts+=1;var e=6e4;this.isConnected=!1,this.connectAttempts<=5?e=3e3:this.connectAttempts<=15&&(e=1e4),4e3===t.code&&(e=3e5),4401!==t.code&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(this._connect.bind(this),e))}},_disconnect:function(){this.isPageClosed=!0,this.ws&&this.ws.close&&this.ws.close(1e3,"unload")}})},BoLW:function(t,e){BEM.DOM.decl({name:"widget",modName:"name",modVal:"topnews"},{onSetMod:{collapsed:function(t,e){this.__base.apply(this,arguments),this.channel("topnews").trigger("collapse",{collapse:"yes"===e})}},_getMenuCustomItems:function(){var t=home.getData("news.disclaimer");return t?[{id:"topnews",text:t.text,icon:"star",elemMods:{type:"link"},href:t.url,target:"_blank"}]:[]}})},BwLZ:function(t,e){BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{getOwnerPos:function(){var t=this.__base.apply(this,arguments);if(this._owner){var e=this._viewport;t.top-=e.scrollTop(),t.left-=e.scrollLeft()}return t}})},CCCR:function(t,e){BEM.DOM.decl("rotate-items",{onSetMod:{js:{inited:function(){this._index=0,this._len=this.elem("item").length,this._visible=!document.hidden,this._hovered=!1,this._focused=!1,this._changeEnabled=!0,this._clicked=!1,this._bindEvents(),this._len>1&&(this._initItems(),this._initialStart(),this.bindTo("mouseenter mouseleave",(function(t){this._toggleHover("mouseenter"===t.type)})),this.bindTo("scroll",(function(){this.domElem.scrollLeft(0).scrollTop(0)})),this.channel("sys").on("visibilitychange",this._onVisibilityChange,this))}}},toggle:function(t){this._changeEnabled=t,this._checkConditions()},_initItems:function(){this.elem("item").toArray().slice(1).forEach((function(t,e){var i=$(t);this._setItemLeft(i,e+1),this.setMod(i,"hidden","focusable")}),this)},_setItemLeft:function(t,e){t.css("left",-100*e+"%")},_bindEvents:function(){this.domElem.on("rotate-items:hide",function(t){var e=$(t.target).closest(".rotate-items__item"),i=e.index(),n=this.elem("dot").eq(i);if(e.remove(),this.dropElemCache("item"),this.findElem("item").toArray().forEach((function(t,e){var i=$(t);this._setItemLeft(i,e)}),this),--this._len,this._len>0){if(1===this._len?(this.elem("dots").remove(),clearTimeout(this._timeout)):(n.remove(),this.dropElemCache("dot")),i===this._index){var o=i;o>=this._len-1&&(o=0),this._setItem(o)}}else this.domElem.trigger("rotate-items:hide-all")}.bind(this))},_initialStart:function(){this._timeout=setTimeout(this._showNext.bind(this),this.params.firstTimer||15e3)},_showNext:function(){var t=this._index;++t>=this._len&&(t=0),this._selectItem(t),this._restartRotation()},_restartRotation:function(){clearTimeout(this._timeout),this._timeout=setTimeout(this._showNext.bind(this),this.params.periodicTimer||15e3)},_selectItem:function(t){t===this._index||this._len<2||this._setItem(t)},_setItem:function(t){var e=this.elem("item").eq(this._index),i=this.elem("item").eq(t),n=this.elem("dot").eq(this._index),o=this.elem("dot").eq(t);this._index=t,this.setMod(e,"showed","no"),this.setMod(e,"hidden","focusable"),this.setMod(i,"showed","yes"),this.delMod(i,"hidden","focusable"),this.delMod(n,"active"),this.setMod(o,"active","yes"),home.stat.logDOMShow(i,{visibilityCheck:!1}),this.trigger("show-item",{item:i})},_onVisibilityChange:function(t,e){this._visible=!e.hidden,this._checkConditions()},_toggleHover:function(t){this._hovered=t,this._checkConditions()},_toggleFocus:function(t){this._focused=t,this._checkConditions()},_checkConditions:function(){!this._hovered&&!this._focused&&this._visible&&this._changeEnabled&&!this._clicked&&this._len>1?this._restartRotation():clearTimeout(this._timeout)}},{live:function(){return this.liveBindTo("dot","click",(function(t){this._clicked=!0,this._selectItem(t.data.domElem.index())})),this.liveBindTo("item","focusin focusout",(function(t){"focusin"===t.type&&$("html").hasClass("pointerfocus")||(this._toggleFocus("focusin"===t.type),"focusin"===t.type&&this._selectItem(t.data.domElem.index()))})),!1}})},CKPf:function(t,e){BEM.DOM.decl("divjson2-image",{onSetMod:{js:{inited:function(){var t=this.params.image;if(t){var e=new Image;e.onload=function(){this._isDestructing||this.elem("image").css({"background-image":'url("'+t+'")',"background-color":"transparent"})}.bind(this),e.src=t}}}}})},CaC8:function(t,e){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup2")}},visible:function(t,e){var i=e?"Open":"Close",n=this.elem("content"),o=window.getComputedStyle?window.getComputedStyle(n[0]):n[0].currentStyle,s=parseFloat(o.animationDuration)>0?"animationend":parseFloat(o.webkitAnimationDuration)>0?"webkitAnimationEnd":"",r=function(){this.trigger("after"+i)};this.trigger("before"+i)._popup.setMod(t,e),s?n.one(s,r.bind(this)):this.afterCurrentEvent(r)}},destruct:function(){this.delMod("visible").__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:!0})},CaUy:function(t,e){BEM.DOM.decl("home-arrow",{_onSampleClick:function(t){var e=this.findBlockInside("input");e&&(e.elem("control").attr("readonly",!0),e.val(t.text(),{source:"sample"}),this.trigger("sample-click"))},reEnable:function(){this.findBlockInside("input").elem("control").attr("readonly",!1)}},{live:function(){var t=function(t){this._onSampleClick(t.data.domElem),t.preventDefault()};this.liveBindTo("sample-link","pointerclick",t),this.liveBindKey("sample-link","space enter",t)}})},CktI:function(t,e){window.home=window.home||{}},CoFk:function(t,e){var i,n;"undefined"==typeof Widget&&(window.Widget=function(t,e){this._(t,e)},document.Widget=Widget,i=jQuery,n=new WTimersHandler,Widget.prototype={undef:function(t){return t},_:function(t,e){this._prefs={};var i=!!e.src&&e.src,n=!!e.wauth&&e.wauth,o=e.type?e.type:"raw";this.params=e,this.type=o,this.id=t,this.classId=t.replace(/-[0-9]+$/i,""),this.intClassId=e.intclassid,this.instanceId=t.replace(/^(.*)-([0-9]+)$/i,"$2"),this.htmlId=t,this.src=i,this.onLoad=this.onload=!1,this.bound=!1,""!==n&&this.setValue("wauth",n),this.savedUsrCh=this.params.usrCh},init:function(){var t=this;if(!this.bound){this.bound=!0;var e=function(){t.loadFromSrc({isBinding:!0})};if(Widget.Framework.register(this),"iframe-inside"!==this.type&&new Widget.Wrapper(this),this.params.prefs)for(var i=0;i<this.params.prefs.length;i++)!1!==this.params.prefs[i]&&this.setValue(this.params.prefs[i][0],this.params.prefs[i][1]);var n=Widget.Framework.widgetPrefs[this.id];if(n){for(var o in this._prefs)n[o]||(n[o]=this._prefs[o]);this._prefs=n}"iframe"===this.type&&(this._stylescallback=function(){t.loadFromSrc({isBinding:!0})}),this.params.css&&"iframe"!==this.type&&this.css(this.params.css),this.params.js&&"iframe"!==this.type?this.library(this.params.js,e):e()}},showPreloader:function(t){var e=this;function i(){e.$().html(Widget.Framework.params.preloader)}t?i():window.setTimeout((function(){(e._inlineLoading||e._inlinePending)&&i()}),100)},loadFromSrc:function(t){if(t||(t={noPreloader:!1,isBinding:!1}),!("inline"===this.type&&!1===this.src&&t.isBinding||("inline"!==this.type&&"iframe"!==this.type&&"json"!==this.type||(!t.noPreloader&&Widget.Framework._domloaded&&this.showPreloader("now"),this[this.type+"From"](this.src)),t.isBinding))){var e=Widget.Framework.params.rawBodyUrl+this.getWidgetId()+"?ncrnd="+Math.random()+"&prototype="+Widget.Framework.params.prototype;"raw"===this.type&&this.rawFrom(e+"&wauth="+this.getAuth()),"inline"===this.type&&!1===this.src&&this.inlineFrom(e)}},_autoValue:function(t,e){return parseInt(t,10)>0?parseInt(t,10)+"px":e},iframeElement:function(t,e,n){var o,s,r;t=this._createLoadUrl.apply(this,arguments),n?(o=this._autoValue(this.params.prefs_width,Widget.Framework.params.iframeWidth),s=this._autoValue(this.params.prefs_height,Widget.Framework.params.iframeHeight),r=this.wrapper.$$("prefs")):(o="100%",s=this._autoValue(this.params.height,Widget.Framework.params.iframeHeight),r=this.wrapper.$$("iframe"));var a=i.browser&&i.browser.msie&&"9.0"===i.browser.version,c=i('<iframe style="border:none" allowTransparency="true" frameborder="0"></iframe>').attr({id:r,src:a?"":t,name:r}).css({width:0,"min-width":o,height:s,margin:0,padding:0});i(document.documentElement).hasClass("m-sandbox")&&c.attr("sandbox","allow-scripts allow-popups allow-forms allow-same-origin");var l=home.getData("banner.cls.banner__dummy");if(l&&c.addClass(l),i.browser&&i.browser.msie){var h=function t(){c.unbind("load",t).css({position:"",visibility:""})};c.css({position:"absolute",visibility:"hidden"}).bind("load",h)}return a&&setTimeout((function(){c.attr("src",t)}),50),c},iframeFrom:function(t){var e=this;i(document).ready((function(){!function n(){e.$().length?function(){e.$().html("");try{var n=e.iframeElement(t,[]),o=n[0].src.split("#secure:");i.browser&&(i.browser.mozilla||i.browser.safari)?n.attr({src:o[0]+"&rnd="+Math.random()+(o.length>1?"#secure:"+o[1]:"")}).appendTo(e.$()):n.appendTo(e.$()),n.one("load",e.adjustFontSize.bind(e))}catch(s){window.console&&console.error(s)}}():setTimeout((function(){n()}),100)}()}))},jsonFrom:function(){var t=this._createLoadUrl.apply(this,arguments);i.getScript(t+"&ncrnd="+Math.random())},inlineFrom:function(){var t=this._createLoadUrl.apply(this,arguments),e=this;Widget.Framework.inlineLoading(1),this._inlineLoading=!0,i.get(t,(function(t){e.wrapper.$().css("height",""),e._inlineFromHtml(t)}))},rawFrom:function(t){var e=this;Widget.Framework.inlineLoading(1),this._inlineLoading=!0,i.get(t,(function(t){e._inlineFromHtml(t)}))},_inlineFromJson:function(t){return Widget.Framework.inlineLoading(1),this._inlineFromHtml(t)},_inlineLoading:!1,_inlinePending:"",_inlineFromHtml:function(t){if(!Widget.Framework._domloaded)return this._inlineLoading=!1,void(this._inlinePending=t);Widget.Framework.inlineLoading(-1);var e,n=/<script[^>]*>(?!<\/script>)((?:\s|\S)*?)<\/script>/gim;this.wrapper.$().hasClass("b-widget-fixed")&&this.wrapper.$().addClass("b-widget-fixed"),0===this.$().length&&i("<div />").attr({id:this.$$(),"class":"b-widget-data"}).appendTo(this.wrapper.$());var o=this.$();for(BEM.DOM.destruct(o,!0),o.html(t.replace(n,"").replace(Widget.Framework.params.idTemplate,this.id)),n.lastIndex=0;null!==(e=n.exec(t));)try{new Function("widget",e[1])(this)}catch(s){}this._inlineLoading=!1,this._inlinePending=!1,BEM.DOM.init(o),BEM.channel("widget").trigger("reload",{widget:this}),Widget.Framework._domloaded&&this.finalize()},_createLoadUrl:function(t,e,i){var n=[{locale:this.getLocale()}];if(n.concat(e),window.toCat&&window.toReg||n.push({frommorda:1}),t=this._addParams(t,n,i||"iframe"===this.type,i),this.params.prefs_secure){for(var o=[],s=0;s<this.params.prefs_secure.length;s++)this.params.prefs_secure[s][1]&&o.push(this.params.prefs_secure[s][0]+"="+this.params.prefs_secure[s][1]);o.length&&(t+="#secure:"+o.join(","))}return t},_addParams:function(t,e,i,n){if(i&&(Widget.Framework.params.fullproxyDomain?this._prefs["."]=Widget.Framework.params.fullproxyDomain+"|"+Widget.Framework.params.proxyDomain:this._prefs["."]=location.protocol+"//"+location.host+"|"+document.domain,!n)){var o=this.getWidgetStyle()||{};o.bg&&(this._prefs.widgetBg=o.bg),o.text&&(this._prefs.widgetText=o.text),o.link&&(this._prefs.widgetLink=o.link),o.hover&&(this._prefs.widgetHover=o.hover),o.decor&&(this._prefs.widgetDecor=o.decor),this._moving&&(this._prefs.widgetMoving=1)}for(var s=[e,[this._prefs]],r=y5Url(location.href),a={},c=0;c<s.length;c++)for(var l=0;l<s[c].length;l++){var h;if(s[c][l]instanceof Array)for(h=0;h<s[c][l].length;h++)null!==r.getParam(s[c][l][h])&&(a[s[c][l][h]]=r.getParam(s[c][l][h]));else for(h in s[c][l])"function"!=typeof s[c][l][h]&&"object"!=typeof s[c][l][h]&&(a[h]=s[c][l][h])}return y5Url(t).addParams(a).toString()},_disableAutoStats:!1,hookStats:function(){return Widget.Framework.hookStats(this)},disableAutoStats:function(){this._disableAutoStats=!0},onload:function(){},resetAuth:function(){this._splitterAuth=!1},getAuth:function(){return this.getValue("wauth")},_splittedAuth:!1,splitAuth:function(){return this._splittedAuth||(this._splittedAuth=Widget.Framework.splitAuth(this.getAuth())),this._splittedAuth},getWidgetId:function(){return this.splitAuth().id},getOwner:function(){return this.splitAuth().owner},getViewer:function(){return this.splitAuth().viewer},setValue:function(t,e){this._prefs[t]=e,"wauth"===t&&Widget.Framework.registerWauth(this)},getValue:function(t){return this._prefs[t]?this._prefs[t]:this.undef()},getBoolean:function(t){var e=this.getValue(t);return!0===e||"true"===e},_encodeValues:function(t){t===this.undef()&&(t=this._prefs);var e=y5Url("");return e.query(t),e.query()},setValues:function(t){for(var e in t)"function"!=typeof t[e]&&"object"!=typeof t[e]&&this.setValue(e,t[e])},saveValues:function(t,e){t===this.undef()&&(t=this._prefs),this.markChanged(!1,!0),this.setValues(t),i.ajax({url:(Widget.Framework.params.saveDomain||"")+Widget.Framework.params.formUrl,data:{widget:this.getWidgetId(),wauth:this.getAuth(),usrCh:this.params.usrCh,s:this._encodeValues(t)},dataType:"json",success:e})},dropValues:function(t){var e=this;i.ajax({url:(Widget.Framework.params.saveDomain||"")+Widget.Framework.params.formUrl,data:{widget:this.getWidgetId(),wauth:this.getAuth(),s:"DROP"},dataType:"json",success:function(i){Widget.Framework.widgetPrefs[e.id]=!1,t&&t(i)}})},reload:function(t,e,n){if(!this.pauseReload){i(".b-wdgt-control").appendTo("body");var o=this;if(this.wrapper){if(void 0!==e&&(this._prefs.showAnyway=e),"raw"===this.type)return Widget.Framework.reload(this,(function(){t&&t(),o.onload&&o.onload(),BEM.channel("widget").trigger("reload",{widget:o}),o.queueAutoReload()}),e,n);this.loadFromSrc({noPreloader:!0})}else{var s=location.host;s.indexOf("/")===s.length-1&&(s=s.substr(0,s.length-1));var r=location.pathname;0===r.indexOf("/")&&(r=r.substr(1)),location.href=this._addParams("//"+s+"/"+r,[],"isIframe")}}},setTitle:function(t){this.wrapper?this.wrapper.setTitle(t):Widget.Framework.xframe(this,"Widget::setTitle",t)},savePreferences:function(t){this.saveValues(t),this._updateOnHide=!0},dropPreferences:function(t){var e=this.getAuth();this._prefs={},this.setValue("wauth",e),this.wrapper?(this.dropValues(t),i(window).trigger({type:"widgetSettingsClosed",id:this.id})):Widget.Framework.xframe(this,"Widget::dropPreferences","",t)},showPreferences:function(){this.wrapper?this.wrapper.showPreferences():Widget.Framework.xframe(this,"Widget::showPreferences")},hidePreferences:function(){this.wrapper?(this._updateOnHide&&(this.loadFromSrc(),Widget.Framework.params.notifyChangesHandler(this)),this.wrapper.hidePreferences()):Widget.Framework.xframe(this,"Widget::hidePreferences",this._updateOnHide?"<>"+this._encodeValues():""),this._updateOnHide=!1},notifyCustomSave:function(){Widget.Framework.xframe(this,"Widget::notifyCustomSave")},setIFrameHeight:function(t){this.wrapper?this.wrapper.setIFrameHeight(t):Widget.Framework.xframe(this,"Widget::setIFrameHeight",t)},setIFrameWidth:function(t){this.wrapper?this.wrapper.setIFrameWidth(t):Widget.Framework.xframe(this,"Widget::setIFrameWidth",t)},setIFrameSize:function(t,e){this.wrapper?this.wrapper.setIFrameSize(t,e):Widget.Framework.xframe(this,"Widget::setIFrameSize",t+","+e)},setPreferencesFormWidth:function(t){this.wrapper?this.wrapper.setPreferencesFormWidth(t):Widget.Framework.xframe(this,"Widget::setPreferencesFormWidth",t)},setPreferencesFormHeight:function(t){this.wrapper?this.wrapper.setPreferencesFormHeight(t):Widget.Framework.xframe(this,"Widget::setPreferencesFormHeight",t)},setPreferencesFormSize:function(t,e){this.wrapper?this.wrapper.setPreferencesFormSize(t,e):Widget.Framework.xframe(this,"Widget::setPreferencesFormSize",t+","+e)},_calculateCss:function(t,e){var i=t.css(e),n=i.replace(/(\.[0-9]+)?px$/,"");return"height"!==e||"auto"!==i&&0!==parseInt(i,10)?i!==n?parseInt(i,10):0:document.body.scrollHeight},_sumCss:function(t,e){for(var i=0,n=0;n<e.length;n++)i+=this._calculateCss(t,e[n]);return i},adjustIFrameHeight:function(){var t=this;window.clearTimeout(this._adjustIFrameHeightTimeout),this._adjustIFrameHeightTimeout=window.setTimeout((function(){t._adjustIFrameHeight()}),100)},_adjustIFrameHeightPrevious:-1,_adjustIFrameHeightTimeout:!1,_adjustIFrameHeight:function(){var t;(t="iframe-inside"===this.type?i("body"):this.$()).css("overflow","hidden");var e=!1;t.css("margin-left")===t.css("margin-right")&&t.css("margin-right")===t.css("margin-top")&&t.css("margin-top")===t.css("margin-bottom")&&"0px"===t.css("margin-bottom")&&t.css("padding-left")===t.css("padding-right")&&t.css("padding-right")===t.css("padding-top")&&t.css("padding-top")===t.css("padding-bottom")&&"0px"===t.css("padding-bottom")&&(e=!0);var n=this._sumCss(t,["marginTop","marginBottom","height"]);e&&t.css("padding","1px");var o=this._sumCss(t,["marginTop","marginBottom","height"]);if(o>n&&(n=o),n!==this._adjustIFrameHeightPrevious)return i.browser&&i.browser.opera&&(n+=20),this._adjustIFrameHeightPrevious=n,this.setIFrameHeight(n)},library:function(t,e){var i=this;this._libraryLoading=!0,Widget.Framework.library(t,(function(){i._libraryLoading=!1,e?e():i.finalize()}))},css:function(t){return Widget.Framework.css(t)},iReload:function(t,e){if(this.stopAutoReload(),Widget.Framework.focused)Widget.Framework.addToReloadQueue(this,t,e),Widget.Framework.reloadQueueTimer&&clearTimeout(Widget.Framework.reloadQueueTimer),Widget.Framework.reloadQueueTimer=setTimeout((function(){Widget.Framework.processReloadQueue()}),Widget.Framework.reloadQueueTimeout);else{var n=function o(){i.browser&&i.browser.msie?i(document).unbind("focusin",o):i(window).unbind("focus",o),Widget.Framework.processReloadQueue()};Widget.Framework.addToReloadQueue(this,t,e),i.browser&&i.browser.msie?i(document).bind("focusin",n):i(window).bind("focus",n)}},stopAutoReload:function(){Widget.Framework.unsetAutoreload(this)},queueAutoReload:function(){Widget.Framework.setAutoreload(this)},finalize:function(){this.queueAutoReload(),this.onload&&this.onload(),this.onLoad&&this.onLoad(),this._disableAutoStats||this.hookStats(),i(window).trigger({type:"widgetLoaded",id:this.id})},countShow:function(t,e){csh_ifgsid&&!this._isNotReloaded&&csh_ifgsid(t,e)},addTimer:function(t,e){return n.add(this.id,t,e)},removeTimer:function(t){n.remove(this.id,t)},getWidgetStyle:function(){var t=this.params.position,e=Widget.Framework.params.widgetStyle;if(t||(t=window.wg&&wg._addedWidgetPosition),e&&t){var i=parseInt(t.split(":")[0],10),n={};for(var o in e[t]?n=e[t]:e.top&&i<=2?n=e.top:e.bottom&&i>2?n=e.bottom:e.all&&(n=e.all),e.def)e.def.hasOwnProperty(o)&&(n[o]||(n[o]=e.def[o]));return n}return""},appendStyle:function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),document.getElementsByTagName("head").item(0).appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},adjustFontSize:function(){"iframe"===this.type&&this.$().find("iframe")[0].contentWindow.postMessage(JSON.stringify({type:"message",message:{name:"font-size",value:Widget.Framework.getFontSize()}}),"*")},addWidgetStyles:function(){try{if(i("script[nowidgetstyles='true']").length)return;"iframe-inside"===this.type&&this._prefs&&(this._prefs.widgetLink&&this.appendStyle(":link {color:#"+this._prefs.widgetLink+" !important;}"),this._prefs.widgetHover&&this.appendStyle(":link:hover {color:#"+this._prefs.widgetHover+" !important;}"),this._prefs.widgetText&&this.appendStyle("body {color:#"+this._prefs.widgetText+" !important;}"),this._prefs.widgetDecor&&this.appendStyle(":link {text-decoration: none! important;}"))}catch(t){window.console&&window.console.log&&console.log("unable to append widget styles",this._prefs.widgetBg,this._prefs.widgetText,this._prefs.widgetLink,this._prefs.widgetHover,this._prefs.widgetDecor)}},markChanged:function(t,e){this.params.usrCh|=(t?1:0)+(e?2:0)},$:function(t){return i("#"+this.$$(t))},$$:function(t){return Widget.Framework.params.idPrefix+this.id+(t===this.undef()?"":t)},getLocale:function(){return Widget.Framework.getLocale()},end:!0})},Cut0:function(t,e){BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex;return i||(i=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3})},"D+8f":function(t,e){!function(){"use strict";var t={1:"denied",2:"unavailable",3:"timeout"};BEM.decl("i-geolocation",{},{_firstLocation:!0,locate:function(t){return t=t||{},this._wrapRequest(t,(function(){return this._locate(t)}))},_wrapRequest:function(t,e){var i;return this._promise?this._promise:(this._triggerEvent("start",t),this._promise=i=this._wrapEnd(t,e.call(this)),this._promise.always(this.changeThis((function(){this._promise=void 0}))),i)},_wrapEnd:function(t,e){var i=this;return e&&e.then||(e=$.Deferred().resolve(e)),e.fail((function(e){i._triggerEvent("fail",t,e)})).always((function(){i._triggerEvent("end",t)}))},_triggerEvent:function(t,e,i){var n=$.Event(t);for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return this.channel("i-geolocation").trigger(n,i),this},_locate:function(t){var e,i=this,n=$.Deferred(),o=home.getData("geo."+(t.background?"background-":"")+"counters",{});try{navigator.geolocation&&navigator.geolocation.getCurrentPosition&&(home.stat.logPath("tech",o.request),e=new Date,navigator.geolocation.getCurrentPosition((function(s){i._saveLocation(s,new Date-e,t).then((function(e){i._triggerEvent("gpsave",t,{id:e.region_id,locale:e.locale,name:e.region_name,address:e.address,address_short:e.address_short}),home.stat.logPath("tech",o.success),n.resolve()}),(function(t){n.reject(t)}))}),(function(o){o.type="locate",i._saveError(o,new Date-e,t).always((function(){n.reject(o)}))}),{timeout:1e3*(t.timeout?t.timeout:15),maximumAge:i._firstLocation?3e5:0,enableHighAccuracy:!1}),i._firstLocation=!1)}catch(s){n.reject(s)}return n.promise()},_saveLocation:function(t,e,i){return home.localStorage.setItem("gpallowed","1"),this._location=t.coords,this._saveAjax($.extend(this._extractCoords(t.coords),{persistent:1,timing:e}),i)},_saveError:function(e,i,n){var o;return 1===e.code?home.localStorage.setItem("gpforbidden","1"):home.localStorage.setItem("gpallowed","1"),o=home.getData("geo."+(n.background?"background-":"")+"counters.error",{}),home.stat.logPath("tech",o[t[e.code]]),this._saveAjax($.extend({status:e.code,timing:i},e.data||{}))},_extractCoords:function(t){return{lon:t.longitude,lat:t.latitude,precision:t.accuracy}},_saveAjax:function(t){var e;return t.sk=home.getData("geo.sk"),t.device=0,t.laas=home.getData("geo.laas")||0,e={url:home.getData("geo.gpsaveUrl"),dataType:"json",data:t},$.ajax(e)}}),$((function(){"permissions"in navigator&&!home.getData("geo.gpauto")&&setTimeout((function(){navigator.permissions.query({name:"geolocation"}).then((function(t){"granted"===(t.state||t.status)&&BEM.blocks["i-geolocation"].locate({background:!0})}),(function(){}))}),5e3)}))}()},DG8K:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"teaser",modVal:"yes"},{onShow:function(){this.__base.apply(this,arguments);var t=this.params.teaser.statPath;t&&!this._isCounterHandlerSet&&(home.stat.addHandler(t,(function(t,e){return"click"===t&&(e+="(y="+window.pageYOffset+")"),{counter:e}})),this._isCounterHandlerSet=!0)},_install:function(t){var e=this.params.teaser;return e.yaCounterId&&(BEM.blocks["i-metrika"].add({id:e.yaCounterId,triggerEvent:!0}),e.bannerid&&BEM.blocks["i-bannerid"].save(e.bannerid)),"download"!==this.getMod(t,"install")||this._installDownload(e)},_installDownload:function(t){return t._downloadInstance||(t._downloadInstance=BEM.create("i-install-download",t.install)),t._downloadInstance.download(),!1}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("teaser-item-link","pointerclick",(function(t){var e=$(t.target).closest(".desk-notif-card__teaser-item");return this._install(e)})),this.liveBindKey("teaser-item-link","space enter",(function(t){var e=$(t.target).closest(".desk-notif-card__teaser-item");return this._install(e)})),!1}})},DJCj:function(t,e){var i;i=MBEM._propListeners,MBEM.prototype.unbindFrom=function(t,e,n){var o=arguments.length;1===o?(e=t,t=this.domElem):2===o&&"function"==typeof e?(n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),Array.isArray(t)||(t=[t]),e.split(" ").forEach((function(e){t.forEach((function(t){t[i]&&t[i][e]&&(t[i][e].forEach((function(i){n&&i.origHandler!==n||t.removeEventListener(e,i,!1)})),t[i][e]=t[i][e].filter((function(t){return!n&&t.origHandler!==n})))}))}))}},DROm:function(t,e){window.home=window.home||{},home.throttle=function(t,e,i){var n,o,s,r=null,a=0;i||(i={});var c=function(){a=!1===i.leading?0:(new Date).getTime(),r=null,s=t.apply(n,o),r||(n=o=null)};return function(){var l=(new Date).getTime();a||!1!==i.leading||(a=l);var h=e-(l-a);return n=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(n,o),r||(n=o=null)):r||!1===i.trailing||(r=setTimeout(c,h)),s}}},DkAV:function(t,e){BEM.DOM.decl("head-options2",{hidePopup:function(){this._popup&&this._popup.delMod("visible")},hasPopupVisible:function(){return this._popup&&this._popup.hasMod("visible","yes")}},{live:function(){return this.liveInitOnBlockInsideEvent("beforeOpen","dropdown2",(function(t){var e=t.block.getPopup(),i=this;this._popup=e,e.findBlockInside("menu").on("click",(function(t,e){clearTimeout(i._closeTimer),i._closeTimer=setTimeout((function(){i.hidePopup()}),350),"hidden-blocks"===e.item.data("type")&&BEM.blocks["hidden-blocks-popup"].show()}))})),!0}})},Doqo:function(t,e){BEM.DOM.decl("inline-stocks",{onSetMod:{js:function(){this.bindMouseEvents(),this.xivainitTimer=setTimeout(this.changeThis(this.initXiva),6e4)}},destruct:function(){clearTimeout(this.xivainitTimer);var t=home.getData("inline-stocks.xivas")||[],e=this._onXivaEvent;t.forEach((function(t){BEM.blocks["i-xiva"].stopListen(t.ch,e)}))},bindMouseEvents:function(){if(!window.device){var t={name:"hint",val:"visible",elem:".inline-stocks__item"};this.bindTo("item","mouseenter",this.getOnmouseenter(t)),this.bindTo("item","mouseleave",this.getOnmouseleave(t))}},getOnmouseenter:function(t){return function(e){var i=this;t.countdown||(t.countdown=setTimeout((function(){if(t.countdown=null,t.elem){var n=$(e.target).closest(t.elem);i.setMod(n,t.name,t.val)}else i.setMod(t.name,t.val)}),t.delay||250))}},getOnmouseleave:function(t){return function(e){if(clearTimeout(t.countdown),t.countdown=null,t.elem){var i=$(e.target).closest(t.elem);this.delMod(i,t.name)}else this.delMod(t.name)}},initXiva:function(){var t=home.getData("inline-stocks.xivas")||[],e=this,i=this._onXivaEvent=function(t){e.updateFunc(t.dt)};t.forEach((function(t){BEM.blocks["i-xiva"].listen(t.ch,t.ts,i)}))},updateFunc:function(t){if(t&&t.id){var e=t.id,i=this.elem("item","id",e);if(i.length){t=t.data&&t.data[0];var n=i.data("precision"),o=t["value"+n]||t.value,s=t["delta"+n]||t.delta;$(".inline-stocks__value_inner",i).html(o);var r=this.findElem(i,"cell","type","delta"),a=this.findElem(i,"cell","type","delta-label");if(s){var c=Number((s||"").replace("","-").replace(/[+%]/g,"").replace(",",".")),l="";this.delMod(r,"hidden"),r.html(s),a.html(s.replace("","-")),t.is_hot?c>0?l="up":c<0&&(l="down"):l="small",this.setMod(r,"change",l)}else this.setMod(r,"hidden","yes"),a.html("");var h=t.alt;if(!h){var d=home.getData("inline-stocks.alts")||{};d[e]&&(h=t.datetime?d[e].replace("%d",t.datetime).replace("%t",""):d[e].replace("%d",t.date).replace("%t",t.time||""))}h&&$(".inline-stocks__item__baloon_inner",i).html(h)}}}})},DxjK:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_prepareOverlayParent:function(){return this.domElem},_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&this._customizeButton(),t},_customizeButton:function(){},_createButtonBackground:function(){var t=document.createElement("div");return t.className="mini-suggest__button-fill",t},_createButtonForeground:function(){var t=document.createElement("div");return t.className="mini-suggest__button-text",t},_createOverlay:function(){var t=this.__base.apply(this,arguments);return this.params.overlayTheme&&(t.className+=" mini-suggest__overlay_theme_"+this.params.overlayTheme),t}})},ENpm:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._enableCounterSrc=this.params.counter&&this.params.counter.src},_handleItemClick:function(t,e){this.__base.apply(this,arguments),!this._enableCounterSrc||"fulltext"!==e.type&&"fact"!==e.type||this._attachSrc()},_handleButtonClick:function(){this.__base.apply(this,arguments),this._enableCounterSrc&&this._attachSrc()},_attachSrc:function(){if(this._path.index>0&&this._meta[this.__self.metaProps.log]){var t=this._meta[this.__self.metaProps.log].match(/(sgtype:){0}([A-Z][a-z]*)/g),e=t&&t[this._path.index-1];e&&this._appendHiddenInput("src","suggest_"+e)}}})},EVWl:function(t,e){BEM.DOM.decl("dropdown2",{onSetMod:{js:{inited:function(){this._switcher=null,this._popup=null}},opened:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("beforeOpen").getPopup().setAnchor(this.getSwitcher()).setMod("visible","yes").on("beforeClose",this._onPopupBeforeClose,this)},"":function(){this.trigger("beforeClose").getPopup().delMod("visible").un("beforeClose",this._onPopupBeforeClose,this)}},disabled:{"*":function(t,e){this.getSwitcher().setMod(t,e)},yes:function(){this.delMod("opened")}}},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("popup2")),this._popup},getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside(this.getMod("switcher"))),this._switcher},_onPopupBeforeClose:function(){this.delMod("opened")},_onSwitcherClick:function(t){this._switcher||(this._switcher=t.block),this.toggleMod("opened","yes")}},{live:!0})},EbQR:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"disaster",modVal:["yes","fatal"]},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.popup=this.findBlockOn("disaster-popup","popup"),this.popup&&(this.bindTo("link","click",this._showPopup),this.bindKeyTo("link","space enter",this._showPopup),this.params.openPopup&&this.popup.show())}},_showPopup:function(t){this.popup.show(),home.stat.logDOMShow(this.popup.domElem),t.preventDefault()}})},EhiD:function(t,e){BEM.decl("custom-protocol-detect",{},{protocolCheck:function(t,e,i){var n=this._checkBrowser();return n.isMsLaunchUri?this._openUriWithMsLaunchUri(t,e,i):n.isFirefox?this._openUriUsingFirefox(t,e,i):n.isWebkit?this._openUriWithHiddenFrame(t,e,i):n.isIE?this._openUriUsingIEInOlderWindows(t,e,i):void(i&&i())},_openUriWithHiddenFrame:function(t,e,i){this._blurWindowHack(e,i),this._getHiddenIframe().contentWindow.location.href=t},_openUriUsingFirefox:function(t,e,i){var n=this._getHiddenIframe();try{n.contentWindow.location.href=t,e&&e()}catch(o){i()}},_openUriUsingIEInOlderWindows:function(t,e,i){this[{9:"openUriWithHiddenFrame",10:"openUriUsingIe10InWindows7",11:"openUriWithHiddenFrame"}[home.getData("custom-protocol-detect.ieVersion")]||"_openUriInNewWindowHack"](t,e,i)},_openUriUsingIe10InWindows7:function(t,e,i){var n=this._getHiddenIframe(),o=i?setTimeout(i,1e3):null;BEM.DOM.win.on("blur",(function(){o&&clearTimeout(o),e&&e()}));try{n.contentWindow.location.href=t}catch(s){i&&i(),clearTimeout(o)}},_openUriInNewWindowHack:function(t,e,i){var n=window.open("","","width=0,height=0");n.document.write("<iframe src='"+t+"'></iframe>"),setTimeout((function(){try{n.location.href=t,n.setTimeout((function(){n.close()}),1e3),e&&e()}catch(o){n.close(),i&&i()}}),1e3)},_openUriWithMsLaunchUri:function(t,e,i){navigator.msLaunchUri(t,e,i)},_checkBrowser:function(){return{isMsLaunchUri:Boolean(navigator.msLaunchUri),isFirefox:"undefined"!=typeof InstallTrigger,isWebkit:Boolean(window.chrome||window.opr||window.safari),isIE:home.getData("custom-protocol-detect.isMSIE")}},_getHiddenIframe:function(){if(!this.iframe){var t=document.createElement("iframe");t.src="about:blank",t.style.display="none",t.name="custom-protocol-detect",document.body.appendChild(t),this.iframe=t}return this.iframe},_blurWindowHack:function(t,e){var i=setTimeout((function(){BEM.DOM.win.off("blur",n),e&&e()}),1e3);function n(){clearTimeout(i),BEM.DOM.win.off("blur",n),t&&t()}BEM.DOM.win.on("blur",n)}})},En7l:function(t,e){BEM.DOM.decl("i-bem__dom",{throttle:function(t,e,i){var n=this;return home.throttle((function(){this._isDestructing||t.apply(n,arguments)}),e,i)}})},EqRa:function(t,e){!function(){var t,e,i,n,o={},s=0;BEM.decl("i-voice",{},{events:{ERROR:"error",BEFORE_START_RECOGNIZE:"before-start-recognize",START_RECOGNIZE:"start-recognize",SPEECH_KIT_INIT:"speech-kit-init",SPEECH_KIT_ACCESS_GRANTED:"speech-kit-access-granted",RECOGNIZE_TEXT:"recognize-text",STOP_RECOGNIZE:"stop-recognize",PERMISSION_REQUEST:"permission-request"},eventsType:{ERROR_INIT:"error-init",ERROR_SPEECH_KIT:"error-speech-kit",SUCCESS_RECOGNIZE:"success-recognize",TIMEOUT_SUCCESS:"timeout-success",TIMEOUT_EMPTY:"timeout-empty"},TIMEOUT_RECOGNIZE:1e4,startRecognize:function(t){if(this._isOnline()){n=t,o={recognizedText:"",_startedRecognize:!0,maxTime:t.maxTime||0===t.maxTime?t.maxTime:this.TIMEOUT_RECOGNIZE};var s=window.AudioContext||window.webkitAudioContext;this._freeAudioContext();try{(i=i||new s).createScriptProcessor(256,1,1).disconnect()}catch(r){return void this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:"AudioContext is not available"})}this.trigger(this.events.BEFORE_START_RECOGNIZE,{session:o}),this._getStreamer(t,function(n){if(n.err||!n.streamer)return this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:n.err}),void this._freeAudioContext();window.ya.speechkit.audiocontext=i,o.streamer=n.streamer,this._speechKitStart(o,t),this.trigger(this.events.START_RECOGNIZE,{session:o}),e=setTimeout(function(){this.isStartedRecognize()&&!this.isPermissionProvided()&&this.trigger(this.events.PERMISSION_REQUEST,{session:o})}.bind(this),500)}.bind(this))}else this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:"offline"})},_speechKitStart:function(t,e){var i=e.codec||window.ya.speechkit.FORMAT.OPUS||window.ya.speechkit.FORMAT.PCM16;t.streamer.start({lang:e.lang,model:e.recognitionModel,apikey:e.apikey,initCallback:this._speechKitInitHandler.bind(this),accessGrantedCallback:this._speechKitAccessGrantedHandler.bind(this),dataCallback:this._speechKitDataHandler.bind(this),errorCallback:this._speechKitErrorHandler.bind(this),format:i,particialResults:!0,utteranceSilence:Math.max(e.utteranceSilence||0,60),use_snr:Boolean(e.use_snr),yandexuid:e.yandexuid,applicationName:e.applicationName})},_isOnline:function(){return void 0===navigator.onLine||navigator.onLine},isStartedRecognize:function(){return o._startedRecognize},stopRecognize:function(t,i){this.isStartedRecognize()&&(clearTimeout(e),this._resetTimeout(),o._startedRecognize=!1,o.streamer&&o.streamer.abort(),clearTimeout(this._initFailedTimeout),this.trigger(this.events.STOP_RECOGNIZE,{type:t,session:o,data:i}))},isSpeechkitLoaded:function(){return window.ya&&window.ya.speechkit&&window.ya.speechkit.SpeechRecognition},isPermissionProvided:function(){return window.ya.speechkit.isPermissionProvided()},_freeAudioContext:function(){i&&i.close&&i.state&&("closed"!==i.state&&i.close(),i=null)},_speechKitDataHandler:function(t,e){s=0,this.afterCurrentEvent(function(){t&&(o.recognizedText=t,this.trigger(this.events.RECOGNIZE_TEXT,{session:o,isDone:e})),e&&this.stopRecognize(this.eventsType.SUCCESS_RECOGNIZE)}.bind(this))},_speechKitInitHandler:function(t){o.id=t,this._resetTimeout(),this._startTimeout(),clearTimeout(this._initFailedTimeout),this.trigger(this.events.SPEECH_KIT_INIT,{session:o})},_speechKitAccessGrantedHandler:function(){this._initFailedTimeout=setTimeout(function(){this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_SPEECH_KIT,session:o,message:"offline"})}.bind(this),5e3),this.trigger(this.events.SPEECH_KIT_ACCESS_GRANTED,{session:o})},_speechKitErrorHandler:function(t){if("MediaDeviceFailedDueToShutdown"===t&&s<1)return this._speechKitStart(o,n),void s++;o._startedRecognize=!1,clearTimeout(e),this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_SPEECH_KIT,session:o,message:t}),this._freeAudioContext()},_startTimeout:function(){o.maxTime&&(o._timerRecognize=setTimeout(this._timeoutHandler.bind(this),o.maxTime))},_resetTimeout:function(){o._timerRecognize&&(clearTimeout(o._timerRecognize),o._timerRecognize=null)},_timeoutHandler:function(){o._timerRecognize=null;var t=Boolean(o.recognizedText);this.stopRecognize(this.eventsType[t?"TIMEOUT_SUCCESS":"TIMEOUT_EMPTY"])},loadSpeechkit:function(t,e){this._loaded?e&&e():(this._loadCallbacks=this._loadCallbacks||[],this._loadCallbacks.push(e),1===this._loadCallbacks.length&&this._loadSpeechkit(t,function(t){this._loadCallbacks.forEach((function(e){e&&e(t)})),this._loadCallbacks=[],this._loaded=!0}.bind(this)))},_loadSpeechkit:function(t,e){var i=document.createElement("script");i.src=t+"/webspeechkit/v-1.0.5/webspeechkit-recognition.min.js",i.async=!0,i.crossOrigin="",i.onload=function(){e(!0)},i.onerror=function(){e(!1)},document.body.appendChild(i)},_initStreamer:function(e){try{e({streamer:t=new window.ya.speechkit.SpeechRecognition})}catch(i){e({err:"Error at SpeechStreamer create"})}},_getStreamer:function(e,i){var n=this;t?i({streamer:t}):this.isSpeechkitLoaded()?this._initStreamer(i):this.loadSpeechkit(e.origin,(function(t){t?n.afterCurrentEvent((function(){n._initStreamer(i)})):i({err:"Error when loading webspeechkit"})}))}}),void 0===window.ya&&(window.ya={}),void 0===window.ya.speechkit&&(window.ya.speechkit={});var r={websocketProtocol:"wss://",asrUrl:"webasr.yandex.net/asrsocket.ws",ttsUrl:"https://tts.voicetech.yandex.net",ttsStreamUrl:"webasr.yandex.net/ttssocket.ws",lang:"ru-RU",langWhitelist:["ru-RU","tr-TR","en-US","en-GB","uk-UA","ru","tr","en","uk","en-EN"],model:"notes",applicationName:"jsapi",apikey:"",uuid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},a=home.getData("speechkit.settings")||{};for(var c in r)a.hasOwnProperty(c)||(a[c]=r[c]);void 0===window.ya.speechkit._extend?window.ya.speechkit.settings=a:window.ya.speechkit.settings=window.ya.speechkit._extend(a,window.ya.speechkit.settings)}()},"F//4":function(t,e){var i;i=$.ajax,$.ajax=function(t,e){var n=i(t,e);return n.asPromise=function(){return new Promise((function(e,i){n.then(e,(function(e,n,o){var s;if(!t||"object"==typeof t&&!t.url)(s=new Error("Url is not defined")).sourceType="logic";else{(s=new Error("Cannot load ajax request")).sourceType="abort"===n?"logic":"parsererror"===n?"backend":"network",s.errorName=n,s.errorText=o,e.responseJSON&&(s.json=e.responseJSON);var r=home.parseUrl("object"==typeof t?t.url:t);s.url=r.host+r.path,s.meta={},"error"!==n&&(s.meta[n]=1),e.status&&(s.meta.status=e.status)}s.name="blockerror",i(s)}))}))},n}},F1jX:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"keydown",MBEM.eventProxy("_onKeydown",this)).bindTo(this._input,"keypress",MBEM.eventProxy("_onKeypress",this)).bindTo(this._input,"click",MBEM.eventProxy("_checkAndShowPopup",this)),this.on("input-change",MBEM.eventProxy("_onInputChange",this))},_onInputChange:function(t,e){this._keyboardSelectedItem=-1,"select"!==e.type&&"unselect"!==e.type&&(this._keyboardStartValue=this._val)},_openSuggest:function(){this.__base.apply(this,arguments),this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val},_onKeydown:function(t){var e,i=this.__self.keyboard;!this._popupContent||!this._isShown||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||t.which!==i.arrowUp&&t.which!==i.arrowDown?this._isShown&&t.which===i.esc&&(this._hidePopup(),this._unselectAll()):(t.preventDefault(),t.which===i.arrowUp?e=-1===this._selectedItem?this._items.length-1:this._selectedItem-1:t.which===i.arrowDown&&(e=this._selectedItem===this._items.length-1?-1:this._selectedItem+1),e<0?this._selectItem(null,e,!0):this._selectItem(this._items[e],e,!0))},_onKeypress:function(t){var e=this.__self.keyboard;if(t.which===e.enter){var i=this._keyboardSelectedItem>-1&&this._items[this._keyboardSelectedItem];if(t.preventDefault(),i){var n=i.getAttribute("data-type");this.trigger("item-click",this._getItemEventProps(i,n,null,!0))}else this._onEnter()}},_onEnter:function(){this.trigger("input-enter"),this._doSubmit()},_selectItem:function(t,e,i){if(this.__base.apply(this,arguments),t)if(this._selectedItem=void 0===e?this._items.indexOf(t):e,i){var n=t.getAttribute("data-type"),o=t.getAttribute("data-text");this._keyboardSelectedItem=this._selectedItem,this._changeText(o,"select",!1),this.trigger("item-select",this._getItemEventProps(t,n,o,!0),!0)}else this._keyboardSelectedItem=-1;else this._selectedItem=-1,this._keyboardSelectedItem=-1,this._changeText(this._keyboardStartValue,"unselect",!1)},_unselectAll:function(){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1},_onItemClick:function(t,e){this.__base.apply(this,arguments),"nav"===e.type&&e.byKeyboard&&this._openLinkByKeyboard(e)},_openLinkByKeyboard:function(t){var e=t.node.querySelector(".mini-suggest__item-link"),i=e.getAttribute("target"),n=e.getAttribute("href");if("_self"===i)setTimeout((function(){window.location=n}),0);else{var o=window.open("",i);o.opener=null,o.location=n}}},{keyboard:{enter:13,arrowUp:38,arrowDown:40,esc:27}})},F8BX:function(t,e){BEM.DOM.decl("widgets-list",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._sendCounter("show_url"),this.bindTo("promo-close","pointerclick",this._closePromo)}}},_sendCounter:function(t){var e=this.params.promo&&this.params.promo[t];e&&((new Image).src=e)},_closePromo:function(){var t=this.elem("promo");this.setMod("promo-close","yes"),t.onceAnimationEnd("animation",600,function(){t.remove(),this.delMod("promo-close"),this.delMod("promo")}.bind(this)),this._sendCounter("close_url")},_remove:function(t){this.__base.apply(this,arguments),t||this._sendCounter("close_url")}})},FAHT:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),i="object"==typeof t[5]&&null!==t[5]?t[5].counter:t[5];return i&&(e.attrs["data-suggest-counter"]=(this.params.clickHost||"")+MBEM.encode(i)),e},_onItemClick:function(t,e){if(this.__base.apply(this,arguments),this.__self.itemTypeIsNavigable(e.type)){var i=e.node.getAttribute("data-suggest-counter");i&&((new Image).src=i,this._addMetrikaCookie(this._getItemHref(e.node),e.val))}},_getItemHref:function(t){return"A"!==t.tagName&&(t=t.querySelector(".mini-suggest__item-link")),t.href},_addMetrikaCookie:function(t,e){var i=this._reqID,n=[e,t,this.params.navSource,i].map(MBEM.encodeUriComponent).join(":"),o=Date.now();document.cookie="sc_"+o+"="+n+";path=/watch;domain=."+(location.hostname.match(/yandex\..+$/)||[])[0]+";expires="+new Date(o+6e5).toUTCString()+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")}})},Fij0:function(t,e){BEM.DOM.decl("w-rss",{onSetMod:{js:function(){var t,e,i,n,o,s=this,r=this.domElem,a=this.params.feedUrl,c=this.params.newsTimestamp,l=s.elem("list"),h=r.parent().parent().find("h2.b-widget__title,.widget__title"),d=s.elem("gradient"),u=s.elem("gradient-up"),m=s.elem("informer"),p=r.parent().find(".w-rss__arrow_type_up"),f=r.parent().find(".w-rss__arrow_type_down"),_=0===$(".i-ua_browser_touch").length,g=0,v=0,b=function(t,e){var i="up"===t?p:f,n="w-rss__arrow_hovered-"+("up"===t?"up":"down")+"_yes";e&&!i.get(0).clickable?(i.get(0).clickable=!0,i.css({cursor:"pointer"}),i.unbind("mouseenter").unbind("mouseleave").unbind("click").unbind("mousedown").unbind("mouseup").bind("click",(function(){$.browser&&$.browser.safari&&window.getSelection&&window.getSelection().empty();try{Lego.c("stred/pid=132/cid=71588/path="+x.widget.id+"."+t)}catch(e){}I.scroll(t)})),_&&i.bind("mouseenter",(function(){i.addClass(n)})).bind("mouseleave",(function(){clearTimeout(v),clearInterval(g),i.removeClass(n)})).bind("mousedown",(function(){if(v=setTimeout((function(){clearInterval(g),g=setInterval((function(){I.scroll(t)}),250)}),400),$.browser&&$.browser.opera)return!1})).bind("mouseup",(function(){clearTimeout(v),clearInterval(g)}))):!e&&i.get(0).clickable&&(i.get(0).clickable=!1,i.removeClass(n),i.css({cursor:"default"}),clearTimeout(v),clearInterval(g),i.unbind("mouseenter").unbind("mouseleave").unbind("click").unbind("mousedown").unbind("mouseup"))},y=!1,w=[],k=[],E=function(t){return window.wg&&wg.isColumnWide?!!wg.isColumnWide(t):1==t},M=function(t){return window.wg&&wg.isColumnNarrow?wg.isColumnNarrow(t):2==t},x=(i=(r.closest(".b-widget-data").attr("id")+"").substr(3),o=(n=Widget.Framework.get(i)).params.position.split(":")[0],e=r.hasClass("w-rss_type_text-img")?"text-img":r.hasClass("w-rss_type_magazine")?"magazine":"text",{widget:n,col:o,layout:E(o)?"horiz":"vert",mode:{compact:2==n._prefs.wht,large:3==n._prefs.wht},isHeightAuto:!n._prefs.wht,type:e}),T=x.widget.news.length,C=function(){if("vert"===x.layout&&s.hasMod("layout","horiz")?s.setMod("layout","vert"):"horiz"===x.layout&&s.hasMod("layout","vert")&&s.setMod("layout","horiz"),x.isHeightAuto&&(parseInt(x.widget._prefs.n,10)>8?(r.find(".w-rss__body").addClass("w-rss__body_height_large"),x.mode.large=!0):"horiz"===x.layout||M(x.col)||parseInt(x.widget._prefs.n,10)<=5||T<=5?(r.find(".w-rss__body").addClass("w-rss__body_height_compact"),x.mode.compact=!0):"vert"!==x.layout||M(x.col)||(r.find(".w-rss__body").removeClass("w-rss__body_height_compact"),x.mode.compact=!1)),"text-img"!==x.type||M(x.col))return l;var t=r.parent().find(".l-rss_type_"+x.layout).clone();return t.appendTo(l),t.find("tbody").html("")},S=C(),B=function(){return"text-img"!==x.type||M(x.col)?S.find("div.w-rss__item"):S.find("tr")},I={getCurrent:function(t,e){for(var i,n=0;n<t.length&&(i=$(t[n]).position().top)<e-2;)n++;return Math.abs(i-e)<2?{top:i,i:n,inside:!1}:{top:$(t[n-1]).position().top,i:n-1,inside:!0}},scroll:function(t){var e=B().toArray(),i=e.length-1,n=$(e[i]),o="up"===t?-1:1,r=s.elem("body").scrollTop(),a=s.elem("body").height(),c=n.position().top+n.height()-a,l=this.getCurrent(e,r),h=l.top,d=l.i,m=o<0&&h<r?d:d+o,p=!1;m=Math.max(0,Math.min(i,m));var f=$(e[m]).position().top;p=a-22<o*(f-r),d===i&&o>0&&(p=!0),p?(r+=o*(a-44),d=Math.min(d,m)):(r=f,d=m),r=Math.max(0,Math.min(c,r)),p?u.removeClass("i-hidden"):u.addClass("i-hidden"),s.elem("body").animate({scrollTop:r},100)},updateControls:function(){var t=B().toArray(),e=s.elem("body").scrollTop(),i=t.length-1,n=$(t[i]),o=s.elem("body").height(),r=n.position().top+n.height()-o;this.getCurrent(t,e).inside?u.removeClass("i-hidden"):u.addClass("i-hidden"),b("up",e>0),b("down",e<r),r-e<o&&!y&&R()},reset:function(){s.elem("body").animate({scrollTop:0},100)}},P=(t=r.parent().find(".w-rss__item").clone().remove(),function(e){var i=t.clone(),n=e.url;n=n.replace(/^https?:/,""),i.find(".w-rss__title").attr("href",n).html(e.title).addClass("link link_black_yes"),i.find(".w-rss__date").addClass("text_gray_yes").html(e.date),e.descr?i.find(".w-rss__description").html(e.descr):i.find(".w-rss__description").remove();var o=i.find(".w-rss__preview");if(e.img){var s="magazine"===x.type&&x.mode.compact&&e.imgCompact||e.img;s=s.replace(/^https?:/,""),o.attr("href",n),o.css({"background-image":"url("+s+")"})}else i.addClass("w-rss__item_previewable_no"),o.remove();return i.show(),i}),D=r.parent().find(".l-rss_type_vert").find("tr:first").clone().remove(),O=r.parent().find(".l-rss_type_horiz").find("tr:first").clone().remove(),j=function(t){var e=[];if("text-img"!==x.type||M(x.col))for(var i=0,n=t.length;i<n;i++)t[i]&&(w.push(t[i]),$.merge(e,P(t[i])));else{var o,s=function(e,i){if(""===$(i).html()){var n=t.shift();n&&($(i).html('<div class="w-rss__item">'+P(n).html()+"</div>"),w.push(n))}},r=S.find("tr:last").eq(0);for(1===r.length&&r.find("td:not(.l-rss__gap)").each(s);t.length>0;)(o="vert"===x.layout?D.clone():O.clone()).find("td:not(.l-rss__gap)").each(s),$.merge(e,o)}S.append(e)},R=function(){!function(t,e){y=!0;var i={url:a,num:12,start:w.length+1,type:x.widget._prefs.type,"no-text":x.widget._prefs["no-text"]};"object"==typeof t&&$.extend(i,t),$.ajax({url:x.widget.params.src,dataType:"json",data:i,success:function(t){t&&t.news&&t.news.length>0&&(t.tstamp&&(c=t.tstamp),function(t){j(t.news),b("down",!0)}(t))},complete:function(){y=!1}})}({tstamp:c})},A=function(t){t=t||w,I.reset(),l.html(""),S=C(),w=[],j(t),b("down",!0),F()},F=function(){if("magazine"===x.type){var t=S.find("div.w-rss__item").eq(0);t.hasClass("w-rss__item_previewable_no")||t.addClass("w-rss__item_position_first")}!function e(){if(!r.get(0).isInited){r.get(0).isInited=!0;var t=r.height();if(l.height()>t){"magazine"===!x.type&&function(t){for(var e,i=B(),n=parseInt(i.eq(0).css("paddingBottom"),10),o=0,s=0;o<t&&s<100;){if(o+(e=$(i[s]).height())+n>t){t-o>e/2&&(o+=e);break}o+=e+n,s++}s<100&&s>0&&($(".w-rss__body",r).height(o),d.addClass("i-hidden"))}(t);var i=!0;r.closest(".b-widget-fixed").mouseenter((function(){f.removeClass("w-rss__arrow_visibility_hidden"),p.removeClass("w-rss__arrow_visibility_hidden")})).mouseleave((function(){f.addClass("w-rss__arrow_visibility_hidden"),p.addClass("w-rss__arrow_visibility_hidden")})).mousemove((function(){i&&(i=!1,setTimeout((function(){i=!0}),250))})),s.elem("body").bind("scroll",$.debounce(I.updateControls,100,I)),b("down",!0),b("up",!0),b("up",!1)}else x.isHeightAuto&&(r.find(".w-rss__body").removeClass("w-rss__body_height_large"),r.find(".w-rss__body").addClass("w-rss__body_height_compact"),x.mode.compact=!0,x.mode.large=!1,x.isHeightAuto=!1,A(),r.get(0).isInited=!1,e())}}()};x.widget._onDropcallback=function(t){var e=t.split(":")[0];e!=x.col&&(E(e)!==x.layout==="horiz"||"text-img"===x.type&&(M(e)||M(x.col)))&&(x.col=e,x.layout=E(e)?"horiz":"vert",A()),x.col=e},h.append(m),h.addClass("b-widget__title_type_rss"),j(x.widget.news),F(),$.browser&&$.browser.msie&&"text-img"===x.type&&setTimeout((function(){var t=r.find(".w-rss__preview"),e=r.find("table td").eq(0).width();t.each((function(t,i){var n=$(i);n.hide(),n.css({width:e+"px"}),n.css({heigth:"70px"}),n.show()})),r.hide(),r.css({zoom:1}),r.show()}),600),setTimeout((function(){0===r.height()&&(r.parent().hide(),setTimeout((function(){r.parent().show()}),200))}),2e3),m.click((function(){k.length>0&&(A(k),k=[]),m.addClass("w-rss__informer_visibility_hidden")}))}}})},FnIi:function(t,e){BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex).attr("href",this._url||this.params._url)},yes:function(){this.__base.apply(this,arguments),this._url=this.domElem.attr("href")||this.params._url,void 0!==this._url&&this.domElem.attr("tabindex",-1),this.domElem.removeAttr("href"),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})),this.__base()}})},FwWP:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay"},{__constructor:function(){this._initOverlay(),this.__base.apply(this,arguments)},_showPopup:function(){this.__base.apply(this,arguments),MBEM.cls.add(this._overlay,"mini-suggest__overlay_visible")},_hidePopup:function(){this.__base.apply(this,arguments),MBEM.cls.remove(this._overlay,"mini-suggest__overlay_visible")},_initOverlay:function(){this._overlay=this._createOverlay(),this._prepareOverlayParent().appendChild(this._overlay),this.bindTo(this._overlay,"click",(function(){this._blur()}))},_createOverlay:function(){var t=document.createElement("div");return t.className="mini-suggest__overlay",t},_prepareOverlayParent:function(){}})},FzRL:function(t,e){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return"fact"===t[0]&&t[5]&&t[5].personal&&(e=this._personalExtend(e)),e},_removeItem:function(){this.__base.apply(this,arguments),this._selectedItem=this._items.indexOf(this._popupContent.querySelector(".mini-suggest__item_selected_yes"))}})},G3Qx:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[0],n=t[1],o=t[3],s=t[4],r=t[5];return"tpah"===i&&r&&r.tpah&&(n=n.slice(r.tpah[0],r.tpah[2])),e.content.title=MBEM.encode(n),e.content.info=o&&MBEM.encode(o),e.attrs.role="option",e.attrs["data-text"]=MBEM.encode(this._getItemText(t)),s&&(e.linkAttrs={href:MBEM.resolveUrl(s),target:MBEM.encode(t[5]&&t[5].target||"_blank"),rel:"noopener","class":"mini-suggest__item-link"}),e},_getItemText:function(t){var e=t[0],i=t[1],n=t[3],o=t[5];return o&&(o.searchQuery||o.suggestion)||"nav"===e&&this._val||("fact"!==e||o&&o.inline?i:n)},_buildItemContentTitle:function(t,e){return e.content.title||""},_buildItemContentInfo:function(t,e){return e.content.info||""},_buildItemContentButton:function(t,e){return e.content.button?'<span class="mini-suggest__'+e.content.button+' mini-suggest__item-button"></span>':""},_buildItemContentAdds:function(){return""}})},GDua:function(t,e){setTimeout((function(){window.performance&&performance.navigation&&1===performance.navigation.type&&home.stat.logPath("tech","refresh")}),0)},GRKD:function(t,e){BEM.DOM.decl({block:"modal",modName:"scrollbar-hider",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on({beforeOpen:this._toggleScrollbar.bind(this,!1),afterClose:this._toggleScrollbar.bind(this,!0)})}}},_toggleScrollbar:function(t){var e;e=t?0:this._getCurrentScrollWidth(),BEM.DOM.scope.css("margin-right",e),$("html").toggleClass("document_modal_yes",!t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:0,top:0,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}})},GZLX:function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_onResponse:function(t,e,i){if(this.__base.apply(this,arguments),this._allowReRequest(t,e)){var n=this.params.reRequestTimeout;if(i.duration<n){var o=n-i.duration;clearTimeout(this._reRequestTimeout),this._reRequestTimeout=setTimeout(function(){this._reRequest(o)}.bind(this),o)}else i.duration<10*n&&this._reRequest()}},_request:function(){clearTimeout(this._reRequestTimeout),this.__base.apply(this,arguments)},_reRequest:function(t){MBEM.ajax(this._prepareReRequestUrl(this._val),{successCallback:this._onReResponse.bind(this,this._val,t),ctx:this}),this.trigger("re-request")},_prepareReRequestUrl:function(t){return MBEM.appendUrlParams(this.params.reRequestUrl,this._getMainUrlParams(t))},_onReResponse:function(t,e,i,n){var o=this._processResponse(i),s=t===this._prevRequestText,r=this.params.reRequestMaxLatency;this.trigger("re-response",{data:i,items:o,relevant:s}),s&&o.length&&(!r||(e||0)+n.duration<r)&&(this._popupContent.innerHTML=this._getItemsHTML(o),this._syncItems(o),this.trigger("re-popup-update"),this._empty=!1,this._focused&&this._checkAndShowPopup(),this._isShown&&this._checkVisibilityAdvItems())},_allowReRequest:function(t){return this._val&&this._val===t}})},Gh0Y:function(t,e){BEM.DOM.decl("header",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindToWin("resize",$.throttle(this._onResize,150)),this._collapseUserIfNeeded()}}},_onResize:function(){this._collapseUserIfNeeded()},_onUserUpdatesName:function(){this._collapseBreakpoint=null,this._collapseUserIfNeeded()},_collapseUserIfNeeded:function(){var t=this._getUser();t&&t.toggleCollapsed(this._getCollapseBreakpoint()>=this.elem("nav").width())},_getCollapseBreakpoint:function(){return this._collapseBreakpoint||(this._collapseBreakpoint=this._getNavItemsWidth()+this.__self.NAV_ITEMS_GAP),this._collapseBreakpoint},_getNavItemsWidth:function(){var t=0;return this.elem("nav").children().each((function(){t+=$(this).outerWidth(!0)})),t},_getUser:function(){return this._user?this._user._isDestructing&&(this._collapseBreakpoint=null,this._user=this.findBlockInside("user")):(this._user=this.findBlockInside("user"),this._user&&this._user.on("update-name",this._onUserUpdatesName,this)),this._user}},{NAV_ITEMS_GAP:10,live:!1})},"H+5/":function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_processResponse:function(t){var e=this.__self.hasSvg()?"svg":"png";return t[1].map((function(t){if("string"==typeof t)return["fulltext",t,t,null,null,{}];if("string"==typeof t[0]&&t[0].length){if("weather"===t[0]||"traffic"===t[0]){var i=t[5]||t[4];return["fact",t[1],t[1],t[2],null,{type:t[0],inline:!0,icon:{size:"l",url:"//yastatic.net/suggest-flag-icons/icon."+t[0]+"."+t[3].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")+"."+e},hl:i&&i.hl,personal:i&&Boolean(i.pers)}]}return"fact"===t[0]&&t[5]&&"phone"===t[5].type?t:"fact"===t[0]||"mt"===t[0]?["fact",t[1],t[1],t[2],null,{type:"fact"!==t[0]?t[0]:"",inline:!0,icon:t[3]&&t[3].icon,hl:t[3]&&t[3].hl,personal:t[3]&&Boolean(t[3].pers)}]:"icon"===t[0]?["fact",t[1],t[1],t[2]&&t[2].fact||null,null,{inline:!0,hl:t[2]&&t[2].hl,icon:{url:t[2].icon.filter((function(t){return t[0]===e}))[0][1]},personal:t[2]&&Boolean(t[2].pers)}]:t}return["fulltext",t[1],t[1],null,null,{hl:t[2]&&t[2].hl,personal:t[2]&&Boolean(t[2].pers)}]}))}})},"H+lM":function(t,e){BEM.decl("i-visibilitychange",{},{waitForVisible:function(t){document.hidden?BEM.channel("sys").onFirst("visible",t):t()}})},H0Yh:function(t,e){"undefined"!=typeof home&&home.loadManager&&home.loadManager.trigger("js")},HBut:function(t,e){!function(){function t(t){return(t||"").replace(/(^|\s)([-a-z]{1,2})(\s)/gi,"$1$2&nbsp;")}function e(t){return(t||"").replace(/(\d)\s(\d)/g,"$1&nbsp;$2")}function i(t){return(t||"").replace(/(\S)(\s)([^-a-z\d\s]{1,2})(\s|$)/gi,"$1&nbsp;$3$4")}function n(t){return(t||"").replace(/\s([-a-z\d.]{1,2})$/gi,"&nbsp;$1")}function o(t){return(t||"").replace(/(\s|^)([-a-z\d]{1,3}-[-a-z\d]{1,3})(\s|$)/gi,"$1<nobr>$2</nobr>$3")}home.prepareSpaces=t,home.prepareSpaces.digits=e,home.prepareSpaces.punctuation=i,home.prepareSpaces.shortEnding=n,home.prepareSpaces.aroundHyphen=o,home.prepareSpaces.full=function(s){return n(i(t(e(o(s)))))}}()},HYND:function(t,e){BEM.DOM.decl({block:"popup2",modName:"target"},{_calcOffsets:function(){var t=this.__base.apply(this,arguments);return this.params.mainOffset!==this.getDefaultParams().mainOffset&&(t.main=this.params.mainOffset),t}})},Hmaj:function(t,e){home.distance=function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=(e.lat-t.lat)*i,r=(e.lon-t.lon)*i,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(o)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371}},Hmvx:function(t,e){window.getcss=function(t){setTimeout((function(){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head").item(0).appendChild(e)}),0)}},I0X4:function(t,e){!function(){"use strict";function t(){home.originalUrl=window.location.href;var t=home&&home.getData&&home.getData("i-change-url.data");if(t){var e,i=t.url;try{e=history.state}catch(n){}i&&ya.history&&ya.history.navigate({data:e||null,url:i,replace:!0})}}var e=+new Date;+new Date-e>5e3?t():setTimeout(t,100)}()},IDPp:function(t,e){MBEM.decl({block:"mini-suggest",modName:"autofocus",modVal:"yes"},{__constructor:function(){this._hasUserActivasion=!1,this.__base.apply(this,arguments),this._val&&(this._hasUserActivasion=!0)},_shouldShowPopup:function(){return this.__base.apply(this,arguments)&&this._hasUserActivasion},_onInput:function(){this.__base.apply(this,arguments),this._hasUserActivasion=!0,this._startInput()},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"click",MBEM.eventProxy("_onInputClick",this))},_onInputClick:function(){this._hasUserActivasion||(this._hasUserActivasion=!0,this._checkAndShowPopup(),this._startInput())},_startInput:function(){this._hasUserActivasion&&this.__base.apply(this,arguments)}})},IITb:function(t,e){window.MordaRT=function(){this.listRE={}},MordaRT.prototype.siteInDomainList=function(t,e){for(var i,n=0,o=t.length;n<o;n++)if(i=t[n],this.listRE[i]||(this.listRE[i]=new RegExp("^"+i.replace(/\./g,"\\.").replace(/\*/g,"[^.]+")+"$")),e.match(this.listRE[i]))return!0;return!1},MordaRT.prototype.getHostname=function(t){0!==t.indexOf("http")&&0!==t.indexOf("//")&&(t="//"+t);var e=document.createElement("a");return e.href=t,e.hostname},MordaRT.prototype.getEntries=function(t,e){if(!window.performance||!window.performance.getEntries)return{resources:{},resourcesCount:0};try{var i,n,o=window.performance.getEntries("resources"),s={},r=0;if(o&&o.length)for(var a=0,c=o.length;a<c;a++)if(i=o[a].initiatorType||"unknown",-1!==(n=this.getHostname(o[a].name)).indexOf(".")&&!this.siteInDomainList(t,n)){s[i]||(s[i]={});var l=e?this.quote(o[a].name):n;s[i][l]?s[i][l]++:s[i][l]=1,r++}return{resources:s,resourcesCount:r}}catch(h){return{resources:{},resourcesCount:0}}},MordaRT.prototype.quote=function(t){return t.replace(/"|%22/g,"&quot;")}},"IVQ+":function(t,e){BEM.DOM.decl({block:"dist-popup",modName:"install",modVal:"download"},{_onYesClick:function(){return this.__base.apply(this,arguments),this._sendCounter(this.params.counters.yes),this._downloadInstance||(this._downloadInstance=BEM.create("i-install-download",this.params)),this._downloadInstance.download(),this._hide(),!1}})},Ifw1:function(t,e){BEM.DOM.decl({block:"modal",modName:"autoclosable",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._preventHideByClick=!1}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindTo("content","pointerdown pointerclick",this._setPreventHideByClick).bindTo("pointerclick",this._onPointerClick)._popup.on("beforeClose",this._onPopupClose,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("content","pointerdown pointerclick").unbindFrom("pointerclick")._popup.un("beforeClose",this._onPopupClose,this)}}},_setPreventHideByClick:function(t){this._preventHideByClick=!0},_onPointerClick:function(t){this._preventHideByClick||this.delMod("visible"),this._preventHideByClick=!1},_onPopupClose:function(){this.delMod("visible")}})},Irrx:function(t,e){BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)t=e,e=e._getParentPopup();return $(t._anchor).parents()},setAnchor:function(t){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(t){var e=this.__base.apply(this,arguments);return void 0===this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(e,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=this._getOffsetOf(t),i=e.left,n=e.top,o=i+t.outerWidth(),s=n+t.outerHeight(),r=this.getMod("direction"),a=Math.floor(this._checkDirection(r,"top")?n:s),c=Math.floor(this._checkDirection(r,"left")?i:o),l=!0;return this._anchorParents.each(function(t,e){if("BODY"===e.tagName)return!1;e=$(e);var i=/scroll|hidden|auto/,n=i.test(e.css("overflow-y")),o=i.test(e.css("overflow-x"));if(n||o){var s=this._getOffsetOf(e),r=Math.floor(s.top);if(a<r||r+e.outerHeight()<a)return l=!1;var h=Math.floor(s.left);return l=c>=h&&h+e.outerWidth()>=c}}.bind(this)),l},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100})},J72x:function(t,e){var i;i=function(){var t=home.getData("delayed-reporter"),e=function(t){void 0!==t.timeout?setTimeout((function(){i(t)}),1e3*t.timeout):i(t)},i=function(t){t.url?(new Image).src=t.url:t.stat&&t.stat.type&&t.stat.name&&home.stat.logPath(t.stat.type,t.stat.name)},n=function(t){t&&(t="string"==typeof t?{url:t}:t,document.visibilityState&&"visible"!==document.visibilityState?document.addEventListener("visibilitychange",(function i(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",i),e(t))})):e(t))};if(t)for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(s=[s]),s.forEach(n)}},window.$?$(i):"addEventListener"in document&&document.addEventListener("DOMContentLoaded",i,!1)},JanQ:function(t,e){!function(t,e,i){var n={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(n),s=o.map((function(t){return n[t]})),r=o.length,a=!1,c=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(v){}function l(t,e){var i={},n=t.originalEvent||{};e||(e={});for(var l,h=0;h<r;h++)i[l=o[h]]=e[l]||t[l]||n[l]||s[h];return i.x=i.clientX,i.y=i.clientY,i.pressure=i.pressure||(i.buttons?.5:0),i.buttons||a||(i.buttons=c[i.which]||0),i.originalEvent=t.originalEvent||null,e.preventDefault?i.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(i.preventDefault=function(){t.preventDefault()},i._preventScroll=function(){}),i}var h=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this["delete"](t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach((function(i,n){t.call(e,i,n,this)}),this)}},d={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var i=e.events;i&&(i.forEach((function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))}),this),this.eventSourceList.push(e))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,i){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(i))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach((function(e){this.addEvent(t,e)}),this)},unlisten:function(t,e){e.forEach((function(e){this.removeEvent(t,e)}),this)},addEvent:function(t,e){i(t).on(e,this.boundHandler)},removeEvent:function(t,e){i(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=function(t,e){var n=i.Event(t),o=e.preventDefault,s=n.preventDefault.bind(n);return jQuery.extend(n,e),n.preventDefault=function(){o(),s()},n}(t,e);return n._target=n._target||e.target,n},fireEvent:function(t,e){var i=this.makeEvent(t,e);return this.dispatchEvent(i)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,n){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=n,this.implicitRelease=this.releaseCapture.bind(this,t),i(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(i.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:n}))},releaseCapture:function(t){var n=this.captureInfo[t];n&&(this.captureInfo[t]=void 0,i(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(i.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:n})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return i.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};d.boundHandler=d.eventHandler.bind(d);var u,m,p={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){d.listen(t,this.events)},unregister:function(t){d.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,o=t.clientY,s=0,r=i.length;s<r&&(e=i[s]);s++){var a=Math.abs(n-e.x),c=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return l(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(h.has(this.POINTER_ID)&&this.cancel(t),h.set(this.POINTER_ID,t),d.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||d.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=h.get(this.POINTER_ID);e&&e.button===t.button&&(d.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||d.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||d.leaveOut(this.prepareEvent(t))},cancel:function(t){d.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){h["delete"](this.POINTER_ID)}},f={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){d.listen(t,this.events)},unregister:function(t){d.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===h.size||1===h.size&&h.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,n=this.currentTouchEvent,o=t.identifier+2;return l(n,i.extend({},t,{pointerId:o,target:d.captureInfo[o]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(n.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var i=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var n,o=0;o<i.length;o++)n=i[o],e.call(this,this.touchToPointer(n))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,i=this.scrollTypes;return t===i.EMITTER?e="none":t===i.XSCROLLER?e="X":t===i.YSCROLLER?e="Y":i.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,i,n=this.firstTouchTarget;do{if(null!==(e=n.getAttribute("touch-action")))break;n=n.parentNode}while(n!==document);var o=this.touchActionToScrollType(e);if("none"===o)i=!1;else if("XY"===o||void 0===o)i=!0;else{var s=t.originalEvent.changedTouches[0],r=o,a="Y"===o?"X":"Y";i=Math.abs(s["client"+r]-this.firstXY[r])>=Math.abs(s["client"+a]-this.firstXY[a])}return this.shouldScrollCache=i,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var i,n=0,o=t.length;n<o&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(h.size>=e.length){var i=[];h.forEach((function(t,n){if(1!==n&&!this.findTouch(e,n-2)){var o=t.out;i.push(o)}}),this),i.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){h.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),d.over(t),d.enter(t),d.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=h.get(t.pointerId);if(e){var i=e.out,n=e.outTarget;d.move(t),i&&n!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=n,i.target=n,t.target?(d.leaveOut(i),d.enterOver(t)):(t.target=n,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(d.up(t),d.out(t),d.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){d.cancel(t),d.out(t),d.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){h["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=p.lastTouches;if(this.isPrimaryTouch(t)){var i={x:t.clientX,y:t.clientY};e.push(i);var n=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}.bind(null,e,i);setTimeout(n,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){d.listen(t,this.events)},unregister:function(t){d.unlisten(t,this.events)},prepareEvent:function(t){var e=l(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){h["delete"](t)},MSPointerDown:function(t){h.set(t.originalEvent.pointerId,t),d.down(this.prepareEvent(t))},MSPointerMove:function(t){d.move(this.prepareEvent(t))},MSPointerUp:function(t){d.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){d.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){d.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){d.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){d.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){d.fireEvent("lostpointercapture",this.prepareEvent(t))}},g=function(t){if(!h.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(u=function(t,e){t.setPointerCapture(e)},m=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(u=function(t,e){g(e),t.msSetPointerCapture(e)},m=function(t,e){g(e),t.msReleasePointerCapture(e)}):(u=function(t,e){g(e),d.setCapture(e,t)},m=function(t,e){g(e),d.releaseCapture(e,t)}),i.fn.extend({setPointerCapture:function(t){u(this[0],t)},releasePointerCapture:function(t){m(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach((function(t){var e=jQuery.event.fixHooks,i="pointer"+t;e[i]||(e[i]={}),e[i].props=o.concat(e[i].props||[])})):(delete i.event.special.pointerenter,delete i.event.special.pointerleave,t.navigator.msPointerEnabled?d.registerSource("ms",_):(d.registerSource("mouse",p),void 0!==t.ontouchstart&&d.registerSource("touch",f)),d.register(document)))}(window,document,jQuery)},JddL:function(t,e){BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._initButton()}}},_initButton:function(){},_redrawList:function(){var t,e=this,i=this._getPopup().domElem;return BEM.DOM.update(this.findElem(i,"list"),this.__self._buildItemsHtml(this.elem("control").children())),t=this.findElem(i,"item"),this._curItemIndex=-1,this._items=t.filter((function(){return!e.hasMod($(this),"label","yes")})),this.bindTo(e._items,{pointerclick:function(t){t.preventDefault(),e._onSelectItem(t.data.domElem)},pointerover:function(t){e._onEnterItem(t.data.domElem)},pointerout:function(t){e._onLeaveItem(t.data.domElem)}}),this}},{_buildItemsHtml:function(t){var e={block:"select",elem:"separator",tag:"i"},i=[],n=[];function o(t,e,i){var n={block:"select",elem:"item",content:{elem:"text",tag:"span",content:{tag:!1,html:e}||"  "},elemMods:{}};return i&&(n.elemMods=i),n}return function s(t,r){var a=t.length;if(a){var c=0;do{var l=$(t[c]),h=l.attr("disabled")&&{disabled:"yes"};if(l.is("optgroup")){!l.prev().is("optgroup")&&c>0&&i.push(e),n.push(i),(i=[]).push(o(0,l.attr("label"),$.extend({label:"yes"},h,r))),s(l.children(),$.extend({inner:"yes"},h,r));var d=i;(i=n.pop()).push({block:"select",elem:"group",content:d})}else i.push(o(0,l.html(),$.extend(h,l.is(":selected")&&{selected:"yes"},r)))}while(++c<a)}}(t),BEMHTML.apply(i)}})},JuX7:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[5];if(i&&"ad"===i.type){var n=e.content;if(n.descr='<span class="mini-suggest__item-label">'+MBEM.encode(this.params.direct.label)+"</span>",i&&!i.warn&&i.age&&(n.age='<div class="mini-suggest__item-warning mini-suggest__item-warning_type_age">'+MBEM.encode(i.age)+"</div>"),i&&!i.ad&&i.warn){var o=i.warnlen?" mini-suggest__item-warning_type_"+MBEM.encode(i.warnlen):"";n.warn='<div class="mini-suggest__item-warning-wrap"><div class="mini-suggest__item-warning'+o+'">'+MBEM.encode(i.warn.replace(/&quot;/g,'"'))+(i.age?" &middot; "+MBEM.encode(i.age):"")+"</div></div>"}}return e},_buildItemContentTitle:function(t,e){return this.__base.apply(this,arguments)+(e.content.age||"")}})},JxS8:function(t,e){home.openWindow=function(t){var e=window.open("","_blank");e.opener=null,e.location=t}},K3Dn:function(t,e){BEM.DOM.declMix("mix-tabber-labels-keyboard",{_selectTabByKeyboard:function(t,e){var i,n=this.elem("tab"),o=this._mapKeyToIndex(this._selectedKey);"relative"===t?o+=e:"absolute"===t&&(o=e),o<0?o=n.length-1:o>=n.length&&(o=0),i=n.eq(o),this._selectTab(String(i.data("key")),{focus:!0}),home.stat.logPath("click",i.attr(home.stat.attr))}},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("tab","left right",(function(t){return this._selectTabByKeyboard("relative",t.which===BEM.KEYS.LEFT?-1:1),!1})),this.liveBindKey("tab","home end",(function(t){return this._selectTabByKeyboard("absolute",t.which===BEM.KEYS.HOME?0:-1),!1}))}})},KC5a:function(t,e,i){i.d(e,"a",(function(){return s}));var n=i("AZC8"),o={plus:{"expires-today":" ","expires-days":["O %d ","O %d ","O %d "],active:" ","subscription-expires-days":["O %d  ","O %d  ","O %d  "],"subscription-expires-today":"  "},domik:{active:""},header:{yandex_id_domik:" ",favorites:"",tune:"",logout:"",adduser:"<br/>",switchuser:"   %s",exituser:"    %s"},messenger:{title2:"",title:""},loading:{retry:"  ",general_error:"   "},month_accus:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""},wday:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},a11y:{close:"",news:"",stocks:"",etrains:"",services:"",afisha:""},news:{"extra-stories-title":"  ","switch":{all:"  ",allnews:" ",auto:"",blogs:" ",blogs_etalon:" ",blogs_exp_1:"",blogs_exp_2:"",blogs_exp_3:"  ",blogs_exp_4:" ",business:"",computers:"hi-tech",culture:"",daily_summary:" ",educ:"",health:"",in_world:" ",incident:"",index:" ",index_tablet:"",news:"",none:" ",politics:"",school:"",sci:"",science:"",society:"",sport:"",travels:"",world:" "},desc:"    ",menu:{favorites:" "},item_toggle:"  ",favourite_hover:"   ",nowmedia_title:"  "},covid:{subtitle:" "},widgetcontrol:{more:"",setup:"",hide:"",hide2:"","delete":"",setup2:" ",show:"",confirm_delete_all:"     ?",delete_all:" "},rates:{newalt:{ceni:"%s:  ",index:"%s:  ",korz:" ",kurs:"%s:  "},bigdiff:"     %d%%",rd_today:"",rd_tomorrow:"",buying:"",selling:"",title:"",stocks:{1:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",source:"  ",text:"USD",text_caps:"<c>USD</c>"},5:{short:"USD+EUR",short_caps:"<c>USD+EUR</c>",slicealt:"",text:"USD+EUR",text_caps:"<c>USD+EUR</c>"},6:{text:"EUR/USD",text_caps:"<c>EUR/USD</c>"},7:{text:"USD/JPY",text_caps:"<c>USD/JPY</c>"},10:{text:"",text_caps:"",trsearch:""},12:{text:"Dow(DJIA)",text_caps:"Dow<c>(DJIA)</c>",trsearch:""},13:{text:"FTSE",text_caps:"<c>FTSE</c>",trsearch:""},17:{text:"NASDAQ",text_caps:"<c>NASDAQ</c>",trsearch:""},18:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",text:"USD",text_caps:"<c>USD</c>"},19:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB",text_caps:"<c>RUB</c>"},23:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",source:"  ",text:"EUR",text_caps:"<c>EUR</c>"},24:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},25:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},29:{text:"",text_caps:"<c></c>"},30:{text:"USD/EUR",text_caps:"<c>USD/EUR</c>"},31:{text:"USD/CHF",text_caps:"<c>USD/CHF</c>"},32:{text:"GBP/USD",text_caps:"<c>GBP/USD</c>"},42:{text:"YNDX",text_caps:"<c>YNDX</c>",trsearch:""},43:{text:"YNDX(MOEX)",text_caps:"<c>YNDX(MOEX)</c>"},50:{text:"",text_caps:"<c></c>",trsearch:""},54:{text:"",text_caps:"<c></c>"},58:{text:"-",text_caps:"-"},60:{text:"",text_caps:""},61:{text:"",text_caps:""},64:{text:"",text_caps:"<c></c>"},68:{text:"-",text_caps:"-"},69:{text:"",text_caps:""},89:{text:"",text_caps:""},183:{text:"",text_caps:"<c></c>"},193:{text:"-5",text_caps:"<c>-</c><d>5</d>"},235:{text:"-",text_caps:"<c>-</c>"},282:{text:"",text_caps:""},310:{text:"",text_caps:""},379:{text:"-",text_caps:"-"},1006:{short:"",short_caps:"",source:"",text:"",text_caps:"",trsearch:""},1007:{text:"HangSeng",text_caps:"HangSeng",trsearch:""},1013:{text:"MOEX",text_caps:"<c>MOEX</c>",trsearch:""},1032:{text:"Bovespa",text_caps:"Bovespa",trsearch:""},1500:{text:"",text_caps:"",trsearch:""},1501:{text:"",text_caps:"",trsearch:""},1502:{text:"",text_caps:"",trsearch:""},1503:{text:"",text_caps:""},1504:{text:"",text_caps:"",trsearch:""},1505:{text:"",text_caps:"",trsearch:""},1506:{text:"",text_caps:"",trsearch:""},1507:{text:"",text_caps:"",trsearch:""},2e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"MOEX",source:" MOEX",text:"EUR MOEX",text_caps:"<c>EUR MOEX</c>"},2002:{short:"USD",short_caps:"<c>USD</c>",slicealt:"MOEX",source:" MOEX",text:"USD MOEX",text_caps:"<c>USD MOEX</c>"},2010:{short:"EUR Forex",short_caps:"<c>EUR Forex</c>",slicealt:"Forex",source:" Forex",text:"EUR Forex",text_caps:"<c>EUR Forex</c>"},2011:{short:"USD Forex",short_caps:"<c>USD Forex</c>",slicealt:"Forex",source:" Forex",text:"USD Forex",text_caps:"<c>USD Forex</c>"},2400:{text:"MOEX-10",text_caps:"<c>MOEX-</c><d>10</d>",trsearch:""},2503:{text:"-2",text_caps:"<c>-</c><d>2</d>",trsearch:""},2505:{text:"Nikkei 225",text_caps:"Nikkei 225",trsearch:""},2506:{text:"S&P500",text_caps:"S&P500",trsearch:""},3001:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},3003:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR",text_caps:"<c>BYR</c>"},3005:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",text:"USD",text_caps:"<c>USD</c>"},3009:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT",text_caps:"<c>KZT</c>"},3015:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB",text_caps:"<c>RUB</c>"},3024:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},3026:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},3027:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",text:"EUR",text_caps:"<c>EUR</c>"},3033:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:"",text:"BYN ",text_caps:"<c>BYN </c>"},4e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",text:"EUR",text_caps:"<c>EUR</c>"},4001:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},4002:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},4003:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},4004:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:"",text:"UAH",text_caps:"<c>UAH</c>"},4005:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT",text_caps:"<c>KZT</c>"},4010:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",source:" ",text:"EUR ",text_caps:"<c>EUR </c>"},4011:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",source:" ",text:"USD ",text_caps:"<c>USD </c>"},4012:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",source:" ",text:"CHF ",text_caps:"<c>CHF </c>"},4013:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP ",text_caps:"<c>GBP </c>"},4014:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY ",text_caps:"<c>JPY </c>"},4015:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:"",text:"UAH ",text_caps:"<c>UAH </c>"},4016:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT ",text_caps:"<c>KZT </c>"},4017:{short:"PLN",short_caps:"<c>PLN</c>",slicealt:"",text:"PLN ",text_caps:"<c>PLN </c>"},4018:{short:"TRY",short_caps:"<c>TRY</c>",slicealt:"",text:"TRY ",text_caps:"<c>TRY </c>"},4019:{short:"BGN",short_caps:"<c>BGN</c>",slicealt:"",text:"BGN ",text_caps:"<c>BGN </c>"},4020:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",source:" ",text:"RUB ",text_caps:"<c>RUB </c>"},5e3:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",source:" ",text:"USD",text_caps:"<c>USD</c>"},5001:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",source:" ",text:"EUR",text_caps:"<c>EUR</c>"},5002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",source:" ",text:"RUB",text_caps:"<c>RUB</c>"},5003:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},5004:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},5005:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},5006:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:"",text:"UAH",text_caps:"<c>UAH</c>"},5007:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR",text_caps:"<c>BYR</c>"},5009:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:"",text:"BYN ",text_caps:"<c>BYN </c>"},5100:{text:"KASE",text_caps:"<c>KASE</c>",trsearch:""},10006:{short:"",short_caps:"",slicealt:"",text:"",text_caps:"<c></c>"},10007:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},10009:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT",text_caps:"<c>KZT</c>"},10010:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR",text_caps:"<c>BYR</c>"},10011:{short:"TL",short_caps:"<c>TL</c>",slicealt:"",text:"TL",text_caps:"<c>TL</c>"},10012:{short:"UZS",short_caps:"<c>UZS</c>",slicealt:"",text:"UZS",text_caps:"<c>UZS</c>"},10014:{short:"TJS",short_caps:"<c>TJS</c>",slicealt:"",text:"TJS",text_caps:"<c>TJS</c>"},10016:{short:"MDL",short_caps:"<c>MDL</c>",slicealt:"",text:"MDL",text_caps:"<c>MDL</c>"},10017:{short:"KGS",short_caps:"<c>KGS</c>",slicealt:"",text:"KGS",text_caps:"<c>KGS</c>"},10018:{short:"CNY",short_caps:"<c>CNY</c>",slicealt:"",text:"CNY",text_caps:"<c>CNY</c>"},10019:{short:"KRW",short_caps:"<c>KRW</c>",slicealt:"",text:"KRW",text_caps:"<c>KRW</c>"},10020:{short:"INR",short_caps:"<c>INR</c>",slicealt:"",text:"INR",text_caps:"<c>INR</c>"},10021:{short:"AMD",short_caps:"<c>AMD</c>",slicealt:"",text:"AMD",text_caps:"<c>AMD</c>"},10022:{short:"AZN",short_caps:"<c>AZN</c>",slicealt:"",text:"AZN",text_caps:"<c>AZN</c>"},10040:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:" ",text:"BYN ",text_caps:"<c>BYN </c>"},2e4:{text:"-80",text_caps:"<c>-</c><d>80</d>"},20001:{text:"-92",text_caps:"<c>-</c><d>92</d>"},20002:{text:"-95",text_caps:"<c>-</c><d>95</d>"},20003:{text:"-98",text_caps:"<c>-</c><d>98</d>"},20010:{text:"",text_caps:""},40001:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},40010:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB",text_caps:"<c>RUB</c>"},40011:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},40023:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT",text_caps:"<c>KZT</c>"},40032:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR",text_caps:"<c>BYR</c>"},40035:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},40036:{short:"PLN",short_caps:"<c>PLN</c>",slicealt:"",text:"PLN ",text_caps:"<c>PLN</c> "},40042:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",source:"",text:"EUR",text_caps:"<c>EUR</c>"},40043:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",source:"",text:"USD",text_caps:"<c>USD</c>"},40048:{short:"HUF",short_caps:"<c>HUF</c>",slicealt:"",text:"HUF ",text_caps:"<c>HUF</c> "},40049:{short:"USD",short_caps:"<c>USD</c>",slicealt:".",text:"USD.",text_caps:"<c>USD</c>."},40050:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:".",text:"EUR.",text_caps:"<c>EUR</c>."},40051:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:".",text:"RUB.",text_caps:"<c>RUB</c>."},40052:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",text:"USD",text_caps:"<c>USD</c>",trsearch:""},40053:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",text:"EUR",text_caps:"<c>EUR</c>",trsearch:""},40054:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB",text_caps:"<c>RUB</c>"},40055:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},40056:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},40057:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},40058:{text:"",text_caps:"",trsearch:""},40080:{text:"",text_caps:"",trsearch:""},40090:{short:"USD",short_caps:"<c>USD</c>",slicealt:".",text:"USD .",text_caps:"<c>USD</c> ."},40091:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:".",text:"EUR .",text_caps:"<c>EUR</c> ."},40092:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:".",text:"RUB .",text_caps:"<c>RUB</c> ."},6e4:{short:"BTC/USD",short_caps:"<c>BTC/USD</c>",slicealt:"Coindesk",text:"BTC/USD",text_caps:"<c>BTC/USD</c>"},71e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"KZT",source:"",text:"EUR KZT",text_caps:"<c>EUR</c> KZT"},71001:{short:"USD",short_caps:"<c>USD</c>",slicealt:"KZT",source:"",text:"USD KZT",text_caps:"<c>USD</c> KZT"},71002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"KZT",source:"",text:"RUB KZT",text_caps:"<c>RUB</c> KZT"},75e3:{short:"USD",short_caps:"<c>USD</c>",slicealt:" ",source:"  ",text:"USD  ",text_caps:"<c>USD  </c>"},75001:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:" ",source:"  ",text:"EUR  ",text_caps:"<c>EUR  </c>"},75002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:" ",source:"  ",text:"RUB  ",text_caps:"<c>RUB  </c>"},75003:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:" ",source:"  ",text:"GBP  ",text_caps:"<c>GBP  </c>"},75004:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:" ",source:"  ",text:"KZT  ",text_caps:"<c>KZT  </c>"},more:"",x1:{text:" "},x10:{text:"  "},x11:{text:" "},x13:{text:" "},x2:{text:"-"},x3:{text:""},x4:{text:""},x5:{text:""},x6:{1:{text:"",text_touch:" "},text:""},x7:{1:{text:"",text_touch:" "},text:""},x8:{1:{text:"  ",text_touch:" "},text:""},x9:{text:"  "}}},nodata:" ",head:{region:" "},"voice-search":{popup:{noaccess:{title:"    ",subtitle:"   ,    "},connectionproblem:{subtitle:" ",title:"   "},unknownerror:{title:" "},"chrome-permission":{subtitle:"  ,    %icon%   "},howto:"  ","permission-hint":{title:"   ",subtitle:"     ,       "},speak:"","continue-search":" ",waitsecond2:""}},direct:{not_interest:" ",bought_already:" ",spam:"",thanks:",  ",hide:" :",close_adv:" "},informationsMessages:{settingsNotSaved:"      .",beforeReset:" ,       ?     ."},etrain:{shortTitle:"",notrains:"    ",express:""},notifications:{unread_full:"%count %word",unread_word:[" "," "," "],no_unread:"  "},tabs:{more:""},language_selector:"ru",media:{zen:{title:"",desc:"  "},event:{stream_now:"  "}},widgets_list:{title:" ",footer:" ",desc:"     ",promo_title:"     ",promo_text:"-                 ,     ."},services:{title:""},desktopNotifications:{navi:{more:""},menu:{ban:" ",close:"",collapse:"",expand:"",settings:"",setup:"",toggle:""},route:{"switch":"  "},mail:{empty:" "}},"stream-inserts":{shows:{title:"  .",desc:"    "}},kinopoisk:{desc:"   ",rating:" %s",title_stream_exp:" "},stream:{"restriction-age":" "},games:{games:"",description:"  ",rating:" %s"},afisha:{all_films_today:"  ",buy:" ",cards:" ",cinema:"",cinemaNoSessions:"    ",cinemaSeeNextDay:"  ",cinemaSeeOtherDays:"   ",cityDayText:"  &nbsp;",cityDayTitle:"%s  &nbsp;<b>%s</b>",cityday:"  &nbsp;",citydayShort:" ",citydayToday:"&#32;",concerts:"",defaultTab:"",defaultTabLong:" ",desc:"    ",desc_inserts:"    ",elki:"",events:"",favoritePlace:" ",festival:"",footer:" ",from:" %s",geolocationFail:"  ",geolocationInaccuracy:"  ",multiple_locations:"    ",myCinemas:" ",nearestCinemas:"",nearestCinemasFull:" ",newyear:" ",noCinemas:"   ",popularFilms:"<br>",premiere:"",premiere_in:" %s",reload:"",schedule:"",scheduleError:"   ",scheduleInProgress:" ",scheduleTryAgain:"  ",searchInProgress:"   ",show:"",showObjects:"  ",showObjectsShort:" ",since_date:" %s",sorry:",     ",sport:"",summer:" ",theatres:"",title:""},months_short_genetive:{apr:"",aug:"",dec:"",feb:"",jan:"",jul:"",jun:"",mar:"",may:"",nov:"",oct:"",sep:""},chats:{title_channels:"  "},tutor:{description:"  2020   "},traffic:{personal:{hour_abbr:"&nbsp;&nbsp;",minutes_abbr:"&nbsp;"}},foot:{promo_tooltip:"  <br>   "},hidden_blocks:{cancel:"",save:"",title:"  "},tumbler:{on:"",off:""}};function s(t){for(var e=t.split("."),i=o,s=0;s<e.length;++s){if(!i||!i[e[s]])return Object(n.a)({message:"undefined translation "+t,block:"l10n"}),"";i=i[e[s]]}return i}},KVsd:function(t,e){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildFavicon:function(t){return'<div class="mini-suggest__favicon"><div class="mini-suggest__favicon-icon" style="background-image: url('+MBEM.encode(this.params.faviconUrl+MBEM.resolveUrl(t,!0))+'?size=32&stub=1)"></div></div>'},_needFavicon:function(t){return"nav"===t[0]&&"market"!==t[5].type&&"video"!==t[5].type}})},KjMM:function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_theme_tile"}})},LFQX:function(t,e){!function(t){"use strict";for(var e,i=["ms","moz","webkit","o"],n={},o=[],s=0;s<i.length&&!t.requestAnimationFrame;++s)t.requestAnimationFrame=t[i[s]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[s]+"CancelAnimationFrame"]||t[i[s]+"CancelRequestAnimationFrame"];if(void 0===t.requestAnimationFrame){var r=+new Date,a=0,c=function(){var t=o,i=n;o=[],n={},a=+new Date,e=0;for(var s=0,c=t.length;s<c;s++)i[t[s].requestid]||t[s].callback(a-r)};t.requestAnimationFrame=function(i){var n=Date.now()+Math.round(1e4*Math.random());if(o.push({requestid:n,callback:i}),!e){var s=+new Date,r=Math.max(0,16-(s-a));e=t.setTimeout(c,r)}return n},t.requestAnimationFrame.fallback=!0}void 0===t.cancelAnimationFrame&&(t.cancelAnimationFrame=function(t){t&&!n[t]&&(n[t]=1)})}(window)},LzIu:function(t,e){BEM.DOM.decl("b-wdgt-remove",{onSetMod:{js:function(){this.popup=this.findBlockOn("popup"),this.bindTo("do","click",this.yes),this.popup.on("hide",this.no,this),this.bindTo("cancel","click",this.hide)}},show:function(t,e,i,n){return this.accepted=!1,this.yes=e,this.no=i,this.popup.show(n||t.domElem),this},hide:function(){this.popup.hide()},no:function(){return this.accepted||this.no(),this.no=this.yes=null,this},yes:function(){return this.yes(),this.accepted=!0,this.popup.hide(),this}},{live:!0})},"M0/h":function(t,e){BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(t){this._pressedRadio=t.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(t){var e=this._pressedRadio;delete this._pressedRadio,this.delMod(e,"pressed"),this.afterCurrentEvent((function(){if(this.domElem){var i=this.findElem(e,"control");i.prop("checked")||!e.is(t.target)&&!e.find(t.target).length||i.trigger("change").focus()}})),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",(function(t){this._onPointerPress(t)})),this.__base()}})},MA0M:function(t,e){home.pseudoReady((function(){var t=window.home&&home.getData&&home.getData("szm.data");t&&setTimeout((function(){var e,i=window.devicePixelRatio||1,n=screen.width,o=screen.height,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=home.getData("szm.data.szm",null),c=home.getData("szm.data.swap")||!1;i=String(i).replace(".","_"),c&&n<o&&(e=n,n=o,o=e),a&&function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&(!t[i]||Math.abs(parseFloat(t[i])-parseFloat(e[i]))>.01))return!1;return!0}(a,{dpr:i,screenX:n,screenY:o,viewportX:s,viewportY:r})||((new Image).src=t.url+(i+":")+n+"x"+o+":"+s+"x"+r)}),t.timeout)}))},ME3r:function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),i=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||i)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",(function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")}))}}},_focus:function(){if(!1===this.__base())return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent((function(){this.domElem&&this._updateVal()}))}},{live:function(){return this.liveBindTo("box","pointerover pointerout",(function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",(function(){this._updateValNextTick()})),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",(function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",(function(){this._updateValNextTick()}))})),this.liveBindTo("control","focusout",(function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()}))),this.__base()}})},MXfC:function(t,e){window.MBEM=window.MBEM||{}},MoMy:function(t,e){BEM.DOM.decl({block:"divjson2",baseMix:["mix-tabber","mix-divjson2"]},{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("state-setter","space enter",(function(t){return this._setStates(t.data.domElem.data("set-state"),t.target,!0),!1})),t}})},NMwc:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("695.1309")},_getNavSource:function(){return"/"}})},NfXW:function(t,e){var i;i="Promise"in window&&!Promise._unhandledRejectionFn,$((function(){var t=home.getData("tech-counters");if(t){home.stat.logPath("tech","tech.localStorage."+Number(!home.disabledLS));var e=!1;try{e=window.matchMedia("(prefers-color-scheme: dark)").matches}catch(m){}home.stat.logPath("tech","tech.dark."+Number(e)),home.stat.logPath("tech","tech.promise."+Number(i));var n="IntersectionObserver"in window&&!IntersectionObserver.prototype.THROTTLE_TIMEOUT;home.stat.logPath("tech","tech.io."+Number(n));var o="Proxy"in window;home.stat.logPath("tech","tech.es6."+Number(o));var s=!!(new Image).loading;home.stat.logPath("tech","tech.loading."+Number(s));try{if(matchMedia("(any-pointer: coarse)").matches&&!t.isTablet&&!t.isTouch){var r,a=navigator.userAgent||"",c=a.indexOf("Mac OS")>-1,l=a.indexOf("iPhone OS")>-1,h=matchMedia("(any-hover: hover)").matches,d=Math.min(screen.width,screen.height);r=h?"touchscreen":c||l?d<700?"iphone":"ipad":d<600?"androidphone":"androidpad",home.stat.logPath("tech","tech.touch."+r)}}catch(m){}var u=new Date;BEM.channel("i-scroll-event").onFirst("scroll",(function(){home.stat.logPath("tech","tech.scroll",{customParams:{timems:new Date-u}})}))}}))},NpOj:function(t,e){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,i=this._positions[t.key],n=t.tail.axis,o={};return"top"===e||"bottom"===e?o.left=this._calcTailLeft(n,i):"left"!==e&&"right"!==e||(o.top=this._calcTailTop(n,i)),o},_calcTailTop:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=r.height,c=o.top-e.top,l=e.top+r.height-(o.top+n.height);return c>0&&(i+=c,a-=c),l>0&&(a-=l),"middle"===t?i+=(a-=s)/2:"bottom"===t&&(i+=a-=s),i<0&&(i=0),i},_calcTailLeft:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=o.left-e.left,c=r.width,l=e.left+r.width-(o.left+n.width);return a>0&&(i+=a,c-=a),l>0&&(c-=l),"center"===t?i+=(c-=s)/2:"right"===t&&(i+=c-=s),i},_calcOffsetByTail:function(t){var e=this.params.tail.height,i={};switch(t.to){case"top":i={top:-e};break;case"bottom":i={top:e};break;case"right":i={left:e};break;case"left":i={left:-e}}return i},_calcTailOffset:function(t){var e={},i=t.to,n=t.tail,o=n.offset,s=n.axis;return!!o&&("top"===i||"bottom"===i?(e.left=0,"left"===s?e.left+=o.left:"center"===s?(o.left&&(e.left+=o.left),o.right&&(e.left-=o.right)):"right"===s&&(e.left-=o.right)):"left"!==i&&"right"!==i||(e.top=0,"top"===s?e.top+=o.top:"middle"===s?(o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom)):"bottom"===s&&(e.top-=o.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}})},NpeO:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.on("popup-show",(function(){MBEM.channel("mini-suggest").trigger("show")})),this.on("input-change",(function(){MBEM.channel("mini-suggest").trigger("input-change")})),this.on("start-input",(function(){MBEM.channel("mini-suggest").trigger("start-input")}))},_fixScrollTop:function(){}})},OGeV:function(t,e){var i,n;i=MBEM.blocks,n=MBEM.decl,MBEM.decl=function(t,e,o){if(e=e||{},"object"==typeof t&&t.modName){var s;for(var r in s=t.block in i?i[t.block].prototype:MBEM.prototype,e)e.hasOwnProperty(r)&&"function"==typeof e[r]&&function(){var i=t,n=s[r],o=e[r];e[r]=function(){return this._simpleCheckMod(i.modName,i.modVal)?o.apply(this,arguments):n&&this.__base?n.apply(this,arguments):void 0}}();t=t.block}return n(t,e,o)},MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){this._modCache=t&&t.mods||this._extractInitMods(t),this.__base.apply(this,arguments)})),MBEM.prototype._extractInitMods=function(t){var e={};if(!t||!t.node)return e;for(var i,n,o=MBEM.cls.list(t.node.className),s=this.__self._name+"_",r=0;r<o.length;++r)0===o[r].indexOf(s)&&((n=(i=o[r].substring(s.length)).indexOf("_"))>-1?e[i.substring(0,n)]=i.substring(n+1):e[i]=!0);return e},MBEM.prototype._simpleCheckMod=function(t,e){return void 0===e?Boolean(this._modCache[t]):this._modCache[t]===e}},OPCa:function(t,e){!function(t){BEM.decl("i-visibilitychange",{init:function(){var e=t.document,i=this.changeThis(this.normalize);this.hiddenProp="hidden",this.hiddenProp in e?e.addEventListener("visibilitychange",this.changeThis((function(){this.change(e.hidden)}))):(this.hiddenProp="mozHidden")in e?e.addEventListener("mozvisibilitychange",i):(this.hiddenProp="webkitHidden")in e?e.addEventListener("webkitvisibilitychange",i):(this.hiddenProp="msHidden")in e?e.addEventListener("msvisibilitychange",i):"onfocusin"in e?e.onfocusin=e.onfocusout=i:t.onpageshow=t.onpagehide=t.onfocus=t.onblur=i},normalize:function(e){var i,n=t.document,o={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0};i=(e=e||t.event).type in o?o[e.type]:n[this.hiddenProp],n.hidden=i,$(t).trigger("visibilitychange"),this.change(i)},change:function(t){this.channel("sys").trigger("visibilitychange",{hidden:t}),this.channel("sys").trigger(t?"hidden":"visible")}}),BEM.create("i-visibilitychange").init()}(window)},OTBI:function(t,e){BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this._getPopup().setAnchor(t),this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this.redraw()},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",(function(){this._onClick()}))}})},OTT8:function(t,e){MBEM.decl("mini-suggest",{_buildItemContentMain:function(t,e){var i=this._buildItemContentTitle(t,e),n=this._buildItemContentInfo(t,e)+this._buildItemContentAdds(t,e)+this._buildItemContentButton(t,e);return!i||"nav"!==t[0]&&"fact"!==t[0]||(i='<span class="mini-suggest__item-title">'+i+"</span>"),"nav"!==t[0]&&"fact"!==t[0]||!t[5]||t[5].inline||(n='<div class="mini-suggest__item-subtitle">'+n+"</div>"),i+n},_buildItemContentInfo:function(t,e){var i=this.__base.apply(this,arguments),n="";return this._shouldAddContentInfoArrow(t)&&(n+='<span class="mini-suggest__item-info-arrow"></span>'),n+=e.content.icon||"",i&&(n+='<span class="mini-suggest__item-info">'+i+"</span>"),n},_shouldAddContentInfoArrow:function(t){return t[5]&&t[5].inline&&"fact"===t[0]&&!t[5].icon}})},OTXn:function(t,e){MBEM.closest=function(t,e){for(;t&&t!==document;){if(MBEM.cls.contains(t,e))return t;t=t.parentNode}}},OToY:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("adb",this._handleAdb,this)},_handleAdb:function(t,e){++this._adb.adr,e&&e.hidden&&(++this._adb.adh,this._adbe()&&++this._adb.adhb)},_clearCounters:function(){this.__base.apply(this,arguments),this._adb={adr:0,adh:0,adhb:0}},_getParamsList:function(){var t=this.__base();return t.push(this._adb),t},_adbe:function(){return this.params.direct.adb}})},OlQb:function(t,e){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_onArrowClick:function(t){var e=MBEM.closest(t,"mini-suggest__item");if(e){var i=e.getAttribute("data-text");this._changeText(i+" ","arrow",!0,(function(){this.trigger("item-arrow",{itemIndex:0|e.getAttribute("data-index"),val:i})}))}},_onPopupClick:function(t){var e=t.target;MBEM.cls.contains(e,"mini-suggest__arrow")?this._onArrowClick(e):this.__base.apply(this,arguments)},_addArrow:function(t,e){return t[1].trim()!==this._val.trim()&&(e.className+=" mini-suggest__item_arrow_yes",e.content.button="arrow"),e}})},OsvQ:function(t,e){BEM.DOM.decl("modal",{},{live:function(){var t=this.__base.apply(this,arguments);function e(){this.delMod("visible")}return this.liveBindTo("close","pointerclick",e),this.liveBindKey("close","space enter",e),t}})},Oy8Q:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"switchable",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._bindEvents()}},_bindEvents:function(){this.bindKeyTo("switch","space enter",this._switchDirection),this.bindTo("switch","pointerclick",this._switchDirection),this.bindTo("switch","mouseover mouseout focus blur",(function(t){this.toggleMod("switch-hovered","yes","mouseover"===t.type||"focus"===t.type)}))},_switchDirection:function(){}})},P9tx:function(t,e){BEM.DOM.decl("tumbler",{_onPointerenter:function(t){this.hasMod(this.elem("button"),"hovered")||this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onButtonPointerenter:function(t){this.hasMod("view","classic")&&this.delMod("hovered").setMod(this.elem("button"),"hovered","yes")},_onButtonPointerleave:function(t){this.hasMod("view","classic")&&this.delMod(this.elem("button"),"hovered").setMod("hovered","yes")}},{live:function(){return this.liveBindTo("box","pointerover pointerout",(function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("button","pointerover pointerout",(function(t){this.hasMod("disabled")||this.elem("button")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onButtonPointerenter(t):this._onButtonPointerleave(t))})),this.__base()}})},"PED/":function(t,e){BEM.DOM.decl("input",{_onIOSTouchStart:function(){}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","pointerclick",(function(t){t.preventDefault()})),this.liveBindTo("control","keyup",(function(){this._updateVal()}))}})},PEa7:function(t,e){!function(){"use strict";var t=$.Deferred();$((function(){t.resolve()})),BEM.decl("i-message-locker",{},{blockOrder:[],acquireLock:function(t,e){var i,n=$.Deferred(),o=this;return this._initOrder(),!(t in this._blockOrderMap)||this._locked?n.reject():(i=this._blockOrderMap[t],!this._showPretender||this._showPretender.index>i?(this._showPretender?this._showPretender.deferreds.forEach((function(t){t.reject()})):this._initDelay.done((function(){setTimeout((function(){var t=o._showPretender.deferreds;o._locked=o._showPretender.name,o._closeFunc=e,o._showPretender=null,t.forEach((function(t){t.resolve()})),BEM.channel("i-message-locker").trigger("lock",o._locked)}),0)})),this._showPretender={name:t,deferreds:[n],index:i}):this._showPretender&&this._showPretender.name===t?this._showPretender.deferreds.push(n):n.reject(),n)},releaseLock:function(t){this._locked&&this._locked===t&&(this._locked="",this._closeFunc=null,BEM.channel("i-message-locker").trigger("unlock",t))},forceClose:function(){this._closeFunc&&this._closeFunc()},_blockOrderMap:void 0,_showPretender:void 0,_locked:"",_initDelay:t,_initOrder:function(){if(!this._blockOrderMap){this._blockOrderMap={};for(var t=0;t<this.blockOrder.length;++t)this._blockOrderMap[this.blockOrder[t]]=t}}})}()},PwbH:function(t,e){$.extend({util:{}})},Q627:function(t,e){!function(){"use strict";BEM.decl("i-scroll-event",{},{init:function(){var t=100;home.getData("i-scroll-changes.data.scroll_slowdown_scroll_event")&&(t=1);var e=BEM.channel("i-scroll-event"),i=home.throttle((function(){var t=$(o).scrollTop();e.trigger("scroll",t)}),t),n=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},o=this.getScrollElem(),s=function(t){var e="scroll"===t?o:window;"addEventListener"in window?e.addEventListener(t,i,n):e.attachEvent("on"+t,i)};s("scroll"),s("resize"),s("orientationchange")},getScrollElem:function(){return window}}),setTimeout((function(){BEM.blocks["i-scroll-event"].init()}),0)}()},"QG2+":function(t,e){!function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var i=e.indexOf(t+"=");if(-1===i)return!1;i+=t.length+1;var n=e.indexOf(";",i);return decodeURIComponent(-1===n?e.substring(i):e.substring(i,n))}}(window.Lego)},"Qi+R":function(t,e){!function(){var t,e=!1,i=[];function n(){document[t]&&o()}function o(){i.forEach((function(t){t.fn.call(t.ctx,!0),t.awaitsCall=!1})),i=[]}home.delayedTask=function(s,r,a){var c,l;!e&&"addEventListener"in window&&(e=!0,window.addEventListener("beforeunload",o,!1),window.addEventListener("unload",o,!1),void 0!==document.hidden?(c="hidden",l="visibilitychange"):void 0!==document.webkitHidden&&(c="webkitHidden",l="webkitvisibilitychange"),t=c,window.addEventListener(l,n,!1));var h={fn:s,ctx:a,awaitsCall:!1},d=home.debounce((function(){h.awaitsCall&&(h.awaitsCall=!1,i=i.filter((function(t){return t!==h})),s.call(a,!1))}),r,!1,a);return function(){h.awaitsCall||(h.awaitsCall=!0,i.push(h)),d()}}}()},"R/OM":function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_canCheckAdVisibility:function(){return this.__base.apply(this,arguments)&&this._hasUserActivasion}})},"RDK/":function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._reqidInCookie=this.params.counter&&this.params.counter.reqidInCookie,this._reqidInCookie&&this._detachReqID()},_addAction:function(t,e){if(this._reqidInCookie){var i=Date.now(),n=e||{};this._firstActionTime=this._firstActionTime||i,n.time=i-this._firstActionTime,n.name=t,this._tpah.push(n)}else this.__base.apply(this,arguments)},_handleSubmit:function(){this._reqidInCookie&&(this._attachReqID(),2===this._reqidInCookie&&this._appendHiddenInput("suggest_exp_reqid",this._reqID)),this.__base.apply(this,arguments)},_attachReqID:function(){1===this._reqidInCookie||2===this._reqidInCookie?this._setReqidCookie(this._reqID,3,new Date(Date.now()+3e3).toUTCString()):this.__base.apply(this,arguments)},_detachReqID:function(){this._setReqidCookie("",-1,"Thu, 01 Jan 1970 00:00:01 GMT")},_setReqidCookie:function(t,e,i){var n="."+(location.hostname.match(/yandex\..+$/)||[])[0];document.cookie="suggest_reqid="+t+";domain="+n+";max-age="+e+";expires="+i+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")}})},RLKj:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._suggestId=Math.random().toString(36).substr(2),this._suggestListId="suggest-list-"+this._suggestId},_createPopup:function(){if(!this.__base.apply(this,arguments))return!1;this._popupContent.id=this._suggestListId;var t=this._input.getAttribute("aria-controls");return this._input.setAttribute("aria-controls",(t?t+" ":"")+this._suggestListId),this._popup}})},RYVR:function(t,e){!function(){"use strict";BEM.DOM.decl({block:"imageloader",modName:"tracking",modVal:"yes"},{onSetMod:{"full-visible":{yes:function(){this._calcTrackingCardsOnScroll(this._lastOffsetLeft||0)}}},getAlreadyShownCards:function(){return this._lastCard},_loadFirstCards:function(){this._lastCard=0,this.__base.apply(this,arguments)},_loadCards:function(t){this.__base.apply(this,arguments),this.hasMod("full-visible","yes")&&this._calcTrackingCardsOnScroll(t)},_calcTrackingCardsOnScroll:function(t){if(this._lastOffsetLeft=t,this._leftOffset){var e=this.domElem.outerWidth()-this._leftOffset+t,i=this._getViewedCards(e,.8);this._processViewedCardsInSight(i)}},_processViewedCardsInSight:function(t){if(!(t.length<=this._lastCard)){for(var e=this._lastCard;e<t.length;++e)home.stat.logDOMShow(t.eq(e),{visibilityCheck:!1,precise:!0});this.trigger("sightChange",t.length),this._lastCard=t.length}}})}()},Rl07:function(t,e){MBEM.encode=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},Rrak:function(t,e){BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(t,e){var i=!1;return Object.keys(e).forEach((function(n){var o=e[n];t[n]!==o&&(t[n]=o,i=!0)})),i}},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,i=this._scope;return i.is(BEM.DOM.scope)||(e=i.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),i=this._calcOffsets();return this.params.directions.map((function(n){var o={direction:n,width:0,height:0,left:0,top:0};return this._checkMainDirection(n,"bottom")?(o.top=t.top+t.height+i.main,o.height=e.bottom-o.top-i.viewport):this._checkMainDirection(n,"top")?(o.height=t.top-e.top-i.main-i.viewport,o.top=t.top-o.height-i.main):(this._checkSecondaryDirection(n,"center")?(o.height=e.bottom-e.top-2*i.viewport,o.top=t.top+(t.height-o.height)/2):this._checkSecondaryDirection(n,"bottom")?(o.height=t.top+t.height-e.top-i.secondary-i.viewport,o.top=t.top+t.height-o.height-i.secondary):this._checkSecondaryDirection(n,"top")&&(o.top=t.top+i.secondary,o.height=e.bottom-o.top-i.viewport),this._checkMainDirection(n,"left")?(o.width=t.left-e.left-i.main-i.viewport,o.left=t.left-o.width-i.main):(o.left=t.left+t.width+i.main,o.width=e.right-o.left-i.viewport)),this._checkSecondaryDirection(n,"right")?(o.width=t.left+t.width-e.left-i.secondary-i.viewport,o.left=t.left+t.width-o.width-i.secondary):this._checkSecondaryDirection(n,"left")?(o.left=t.left+i.secondary,o.width=e.right-o.left-i.viewport):this._checkSecondaryDirection(n,"center")&&this._checkMainDirection(n,"top","bottom")&&(o.width=e.right-e.left-2*i.viewport,o.left=t.left+t.width/2-o.width/2),o}),this)},_calcBestDrawingParams:function(){for(var t,e,i,n,o,s,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,h=l.length,d=0;d<h&&(t=l[d],e=this._calcPos(t,a,r),i=this._calcViewportFactor(e,c,r),(0===d||i>s||!s&&this.hasMod("direction",t))&&(n=t,s=i,o=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));d++);return{direction:n,left:o.left,top:o.top,tail:this._calcTailPos(n,a,r,o)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),i=t.scrollLeft(),n=t.width();return{top:e,left:i,bottom:e+t.height(),right:i+n}},_calcPos:function(t,e,i){var n={},o=this._calcOffsets();return this._checkMainDirection(t,"bottom")?n.top=e.top+e.height+o.main:this._checkMainDirection(t,"top")?n.top=e.top-i.height-o.main:this._checkMainDirection(t,"left")?n.left=e.left-i.width-o.main:this._checkMainDirection(t,"right")&&(n.left=e.left+e.width+o.main),this._checkSecondaryDirection(t,"right")?n.left=e.left+e.width-i.width-o.secondary:this._checkSecondaryDirection(t,"left")?n.left=e.left+o.secondary:this._checkSecondaryDirection(t,"bottom")?n.top=e.top+e.height-i.height-o.secondary:this._checkSecondaryDirection(t,"top")?n.top=e.top+o.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?n.left=e.left+e.width/2-i.width/2:this._checkMainDirection(t,"left","right")&&(n.top=e.top+e.height/2-i.height/2)),n},_calcTailPos:function(t,e,i,n){var o={},s=this._calcTailDimension()/2,r=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?o.top=-s:this._checkMainDirection(t,"top")?o.top=Math.floor(i.innerHeight-s):this._checkMainDirection(t,"left")?o.left=Math.floor(i.innerWidth-s):this._checkMainDirection(t,"right")&&(o.left=-s),this._checkSecondaryDirection(t,"right")?o.left=i.innerWidth-Math.ceil(Math.min(i.innerWidth,e.width)/2)-s-r:this._checkSecondaryDirection(t,"left")?o.left=Math.ceil(Math.min(i.innerWidth,e.width)/2)-s+r:this._checkSecondaryDirection(t,"bottom")?o.top=i.innerHeight-Math.ceil(Math.min(i.innerHeight,e.height)/2)-s-r:this._checkSecondaryDirection(t,"top")?o.top=Math.ceil(Math.min(i.innerHeight,e.height)/2)-s+r:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?o.left=Math.ceil(i.innerWidth/2)-s+r:o.top=Math.ceil(i.innerHeight/2)-s+r),{top:o.top,left:o.left,width:a,height:a}},_calcViewportFactor:function(t,e,i){var n=this.params.viewportOffset,o=Math.max(t.left,e.left+n),s=Math.min(t.left+i.width,e.right-n),r=Math.max(t.top,e.top+n),a=Math.min(t.top+i.height,e.bottom-n);return o<s&&r<a?(s-o)*(a-r)/i.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,i){return 0===t.indexOf(e)||i&&0===t.indexOf(i)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]})},S2b1:function(t,e){BEM.DOM.decl("popup2",{onSetMod:{visible:{yes:function(){this.__base.apply(this,arguments),this._bindFocusEvents()},"":function(){this.__base.apply(this,arguments),this._unbindFocusEvents(),this._returnFocus()}}},setParams:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e])},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this._getFocusable(this.domElem);this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_getFocusable:function(t){var e=$.identify(),i="a[href], link, ";return $.data(t,"popup-getFocusable-id",e),BEM.blocks["i-ua"].opera<13&&(i=""),t.find(i+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=!0;return!(parseInt($(this).prop("tabindex"),10)<0)&&($(this).parentsUntil('*[data-popup-getFocusable-id="'+e+'"]').each((function(){if("none"===$(this).css("display"))return t=!1})),t)}))},_returnFocus:function(){try{var t=document.activeElement;if(!$(t).closest(this.domElem).length)return}catch(e){}(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())}},{})},SEzg:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&(this._isSendBeaconAvailable="sendBeacon"in navigator&&-1===(navigator.userAgent||"").indexOf("UCBrowser"),this._clearCounters(),this.on("submit",this._handleSubmit,this).on("request",this._handleRequest,this).on("response",this._handleResponse,this).on("start-input",this._handleStartInput,this).on("input-change",this._handleInputChange,this).on("popup-show",this._handlePopupShow,this).on("popup-update",this._handlePopupUpdate,this).on("item-click",this._handleItemClick,this).on("item-tpah",this._handleItemTpah,this).on("button-click",this._handleButtonClick,this).on("input-enter",this._handleInputEnter,this))},_handleInputEnter:function(){this._path.submit="keyboard"},_handleSubmit:function(){this._addAction("submit"),this._sendCounters()},_handleRequest:function(){++this._responses.rqs},_handleResponse:function(t,e){var i=Date.now();++this._responses.rsp,e.items.length||++this._responses.ersp,!e.relevant&&e.items.length&&++this._responses.lrsp,void 0!==e.duration&&(this._params.times+=(this._params.times?".":"")+e.duration),this._cachedUrls[e.url]&&i-this._cachedUrls[e.url]<6e4&&++this._responses.cchd,e.url&&(this._cachedUrls[e.url]=i),e.items.length&&(this._lastRenderTime=i),this._meta=e.data[2]||{}},_handlePopupUpdate:function(t,e){++this._responses.rndr,this._lastRenderTime&&(this._params.render_times+=(this._params.render_times?".":"")+(Date.now()-this._lastRenderTime),this._lastRenderTime=null),this._countItemTypes(e.items)},_handlePopupShow:function(){this._changePathState("not_used")},_handleItemClick:function(t,e){var i=e.node.getAttribute("data-log-type")||("nav"===e.type?"nav":e.personal?"history":"phrase");e.personal&&(this._path.personal="nah_used"),this._addAction(i,{index:e.itemIndex+1,extend:e.logExtend}),this._changePathState(e.byKeyboard?"keyboard":"mouse")&&(this._path.index=e.itemIndex+1),this._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",++this._ratio.actionsCount,this.__self.itemTypeIsNavigable(e.type)&&(this._navigableText=e.val,this._sendCounters())},_handleItemTpah:function(t,e){this._changePathState("tpah"),this._path.index=0,this._addAction("word",{index:e.itemIndex+1}),++this._ratio.actionsCount,++this._responses.clks},_handleButtonClick:function(){++this._ratio.actionsCount,this._changePathState("suggest"),this._path.submit="button_by_mouse"},_handleInputChange:function(t,e){var i=Date.now();if(this._changePathState("edit"),this._path.index=0,"user"!==e.type&&"clear"!==e.type&&"tpah"!==e.type||(this._firstChangeTime=this._firstChangeTime||i,this._lastChangeTime=i),++this._ratio.actionsCount,"user"===e.type){var n=this._input.value.length-this._prevVal.length;n>0?this._addAction("add",{diffLength:n}):this._addAction("del",{diffLength:n})}else"clear"===e.type&&this._addAction("clear");"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._prevVal=this._input.value},_handleStartInput:function(){this._startInputTime=this._startInputTime||Date.now()},_changePathState:function(t){switch(t){case"not_used":if("not_shown"!==this._path.state)return!1;break;case"mouse":case"keyboard":case"tpah":if("edit"===this._path.state)return!1;break;case"edit":if("not_shown"===this._path.state||"not_used"===this._path.state)return!1;break;case"suggest":if("keyboard"!==this._path.state)return!1}return this._path.state=t,!0},_addAction:function(t,e){var i=Date.now(),n=e||{};!this._isReqIDAttached&&this._reqID&&this._attachReqID(),this._firstActionTime=this._firstActionTime||i,n.time=i-this._firstActionTime,n.name=t,this._tpah.push(n)},_sendCounters:function(){var t=this._getCounterUrl();this._clearCounters(),this._sendStatUrl(t)},_sendStatUrl:function(t){t+=(t.indexOf("?")>-1?"&":"?")+"_="+Date.now(),this._isSendBeaconAvailable&&navigator.sendBeacon(t," ")||MBEM.ajax(t)},_clearCounters:function(){this._params={times:"",render_times:""},this._path={service:this.params.counter.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:"button_by_mouse"},this._ratio={len:0,queryLen:0,actionsCount:0},this._firstChangeTime=null,this._lastChangeTime=null,this._startInputTime=null,this._reqID=this.__self._generateReqID(this.params.counter.yandexuid),this._isReqIDAttached=!1,this._tpah=[],this._firstActionTime=0,this._prevVal=this._input.value,this._startValLength=this._input.value.length,this._responses={rqs:0,rsp:0,rndr:0,ersp:0,lrsp:0,clks:0,cchd:0},this._typeCounts={},this._cachedUrls={},this._lastRenderTime=0,this._meta={},this._navigableText=null},_attachReqID:function(){this._appendHiddenInput("suggest_reqid",this._reqID),this._isReqIDAttached=!0},_getCounterUrl:function(){return this.params.counter.url+"/"+this._getCounterUrlParams().join("/").replace(/(\/+)/g,"/")},_getParamsList:function(){return[{text:this._navigableText||this._input.value,pos:this._getCaretPosition(),type_counts:JSON.stringify(this._typeCounts)},this.params.counter.params,this._getPath(),this._params,this._getRatio(),this._getChangeTimes(),this._getSession(),this._responses,{suggest_reqid:this._reqID},this._getTpah(),this._getMeta()]},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getRatio:function(){var t=this._startValLength+this._tpah.reduce((function(t,e){return"add"===e.name||"del"===e.name?t+(e.diffLength||0):t}),0);return{ratio:[t>=0?t:this._input.value.length,this._input.value.length,this._ratio.actionsCount].join(".")}},_getChangeTimes:function(){var t=Date.now();return{since_first_change:t-(this._firstChangeTime||t),since_last_change:t-(this._lastChangeTime||t),total_input_time:t-(this._startInputTime||t)}},_getSession:function(){return{session:Date.now()+Math.round(1e4*Math.random())}},_getTpah:function(){return{tpah_log:"["+this._tpah.map((function(t){var e=[t.name,"p"+(t.index||0),t.time];return void 0!==t.diffLength&&e.push(t.diffLength),t.extend&&e.push(t.extend),"["+e.join(",")+"]"})).join(",")+"]"}},_getCounterUrlParams:function(){return this._getParamsList().concat({"*data":"url="+document.location.origin}).reduce(function(t,e){return t.concat(this._getParams(e))}.bind(this),[]).concat(["/"])},_getParams:function(t){return Object.keys(t).reduce((function(e,i){return""===t[i]||e.push(i+"="+MBEM.encodeUriComponent(t[i]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",").replace(/\*/g,"%2A")),e}),[])},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return this._reqID&&(t.suggest_reqid=this._reqID),t},_countItemTypes:function(t){t.forEach((function(t){var e=this._getItemType(t);e&&this._incTypeCount(e)}),this)},_getItemType:function(t){var e,i;return Array.isArray(t)&&(t[5]&&t[5].personal?e="pers":(e=t[0],i=t[5]&&t[5].type)),i&&(e+="_"+i),e},_incTypeCount:function(t){void 0===this._typeCounts[t]&&(this._typeCounts[t]=0),this._typeCounts[t]++,t.indexOf("pers")>-1&&"nah_not_shown"===this._path.personal&&(this._path.personal="nah_not_used")},_getMeta:function(){var t={};for(var e in this.__self.metaProps)t[this.__self.metaProps[e]]=this._meta[e]||"";return t}},{_generateReqID:function(t){return(t=t||this._random(9)+this._random(9))+Date.now().toString().slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(2,Math.min(t,10)+2)},metaProps:{exprt:"exprt",r:"region",log:"log"}})},SLHL:function(t,e){var i,n;i=/^[a-z-]$/i,n=/^[0-9]$/,BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(t){var e;if(!$(".popup_visibility_visible").filter(":not(.b-topbar__popup, .suggest2)").length&&(!(e=$(".v_sform_bg")).length||"none"===e.css("display"))&&!$(".left-banner-opened").length&&this.domElem.is(":visible")){var o,s;try{o=document.activeElement.tagName.toLowerCase(),s=document.activeElement.getAttribute("contenteditable")}catch(l){}if(function(t){if(t.originalEvent&&!("altKey"in t.originalEvent))return!1;var e,o,s=t.charCode||t.keyCode||t.which||0,r=t.ctrlKey||t.altKey||t.metaKey;return t.originalEvent&&t.originalEvent.key?(o=i.test(t.originalEvent.key),e=n.test(t.originalEvent.key)):(o=[s>=65&&s<=90,s>=1025&&s<=1071,0===s,231===s,186===s,188===s,190===s,String.fromCharCode(s).toLowerCase()!==String.fromCharCode(s).toUpperCase()].some(Boolean),e=s>=48&&s<=57||s>=96&&s<=105),!r&&(e||o)}(t)&&"input"!==o&&"textarea"!==o&&!s){this.trigger("beforeFocus");var r=this.elem("control")[0],a=this.val();if(a.length>0&&" "!==a.slice(-1)&&(a+=" ",this.val(a)),r.createTextRange){var c=r.createTextRange();c.collapse(!1),c.select()}else r.selectionStart&&(r.focus(),r.setSelectionRange(a.length,a.length));this.setMod("focused","yes")}}}})},SPo1:function(t,e){BEM.DOM.declMix("mix-tabber-loader-keyboard",{},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("retry-button","space enter",(function(){this._onRetryClick()}))}})},SVst:function(t,e){BEM.DOM.decl("paas",{},{_load:function(){return this._loader=new Promise((function(t,e){home.loadScript("//yastatic.net/q/ya-paranja/client.js?build=morda",t,e)}))["catch"](function(t){this._loader=void 0,home.error.logError({block:"paas",sourceType:"network",method:"_load",message:"Error loading source for paas"},t)}.bind(this)),this._loader},show:function(t){(this._loader||this._load()).then((function(){(window.Ya||{}).Paranja&&(window.Ya.Paranja.init({from:"morda",product:t,mod:"iframe"}),window.Ya.Paranja.show())}))}})},SoFJ:function(t,e){
/**
 * Plugin for decoding URI-escaped strings in CP1251 encoding
 *
 * Copyright (c) 2011-2012 Roman Rozhdestvenskiy (sbmaxx@gmail.com)
 */
!function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function i(t,i){var n="";try{n=t(i)}catch(o){try{n=t(function(t){return t.replace(/%.{2}/g,(function(t){return e[t]||t}))}(i))}catch(s){n=i}}return n}t.extend({decodeURI:function(t){return i(decodeURI,t)},decodeURIComponent:function(t){return i(decodeURIComponent,t)}})}(jQuery)},TD8f:function(t,e){MBEM.offset=function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),i=document.documentElement.getBoundingClientRect();return{top:e.top-i.top,left:e.left-i.left}}},TJmz:function(t,e){BEM.DOM.decl({block:"checkbox",baseBlock:"control"},{onSetMod:{js:{inited:function(){var t=this.elem("control");this.toggleMod("checked","yes",t.prop("checked")),this.toggleMod("focused","yes",t.isFocused())}},hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},checked:function(t,e){this.elem("control").prop("checked",e),this.trigger("change",{checked:Boolean(e)})},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered").delMod("pressed")}}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return Boolean(this.elem("control").prop("checked"))},toggle:function(){this.toggleMod("checked","yes")},val:function(t){var e=this.elem("control");return void 0===t?e.val():(e.val(t),this)},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_onChange:function(t){this.toggleMod("checked","yes",t.target.checked)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){var e=this.elem("label"),i=t.target;this.domElem[0]===i&&this._onChange(t),i!==e[0]&&this.trigger("click",{domEvent:t}),this.setMod("focused","yes")},_onKeydown:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.setMod("pressed","yes")},_onKeyup:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.delMod("pressed")}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("pointerclick",(function(t){this.hasMod("disabled")||this._onClick(t)})).liveBindTo("control","keydown",(function(t){this.hasMod("disabled")||this._onKeydown(t)})).liveBindTo("control","keyup",(function(t){this.hasMod("disabled")||this._onKeyup(t)})).liveBindTo("control","change",(function(t){this._onChange(t)})),this.__base()}})},TNMt:function(t,e){Object.defineProperty(window,"$",{value:$,writable:!1,configurable:!1})},TU3U:function(t,e){BEM.decl("to-top",{_get$MediaGrid:function(){return this._$mediaGrid||(this._$mediaGrid=$(".media-grid")),this._$mediaGrid},_showAfterScrollTo:function(){return this._get$MediaGrid().offset().top}})},TW4b:function(t,e){home.getData("i-sw-reporter.on")&&"serviceWorker"in navigator&&setTimeout((function(){window.defaultMetrikaCounter&&Promise.resolve().then((function(){return navigator.serviceWorker.getRegistrations()})).then((function(t){var e=null;t.forEach((function(t){var i=home.parseUrl(t.scope).path;i=i.replace(/(^\/|\/$)/g,"").replace(/\//g,"_"),["active","installing","waiting"].forEach((function(n){t[n]&&((e=e||{})["sw-report"]=e["sw-report"]||{},e["sw-report"][i]=e["sw-report"][i]||{},e["sw-report"][i][n]=t[n].scriptURL||1)}))})),e&&window.defaultMetrikaCounter.params(e)}))["catch"]((function(){}))}),5e3)},TkuS:function(t,e){BEM.DOM.decl({block:"menu",modName:"type",modVal:"radio"},{getVal:function(){var t=this.getItems("checked","yes")[0];return t&&this.elemParams(t).val},setVal:function(t){return this.getItems().forEach((function(e){this.elemParams(e).val===t?this.setMod(e,"checked","yes"):this.delMod(e,"checked")}),this),this._onChange(),this},_onItemClick:function(t,e,i){this.__base.apply(this,arguments),this.hasMod(t,"checked","yes")||(this.delMod(this.elem("item","checked","yes"),"checked"),this.setMod(t,"checked","yes"),this._onChange())}})},Tv0U:function(t,e){!function(t){var e=0,i=[];function n(t){for(var e=0,i=0;i<t.length;++i)e+=t[i]*t[i];return Math.sqrt(e/t.length)}var o,s,r,a=[];t.enabled&&(t.getSetting("longTaskMetric")&&t._tti&&t._periodicTasks.push((function(){if(!t._tti.fired)return!0;var i=t.getSetting("maxLongTaskCounters")||10;if(++e>i)return!1;if(t._tti.eventsAfterTTI.length){var n=t._getCommonVars().slice();n.push("2796.2797="+t._getLongtasksStringValue(t._tti.eventsAfterTTI)),n.push("689.2322="+t.normalize(t.getTime())),t.sendCounter("690.2096.2796",n),t._tti.eventsAfterTTI=[]}return!0})),t.getSetting("scrollMetric")&&(r=!1,t.getTime(),addEventListener("scroll",(function(){var e=t.getTime();r?i.push(e-o):(r=!0,t.getTime()),o=e,clearTimeout(s),s=setTimeout((function(){r=!1}),500)})),t._periodicTasks.push((function(){if(i.length){var e=t._getCommonVars().concat(["d="+n(i)]);t.sendCounter("690.2096.768",e),i=[]}return!0}))),t.getSetting("scrollLatencyMetric")&&function(){try{if(!window.PerformanceScrollUpdateLatency)return!1;new PerformanceObserver((function(t){t.getEntries().forEach((function(t){a.push(t.duration)}))})).observe({entryTypes:["scrollUpdateLatency"]})}catch(t){return!1}return!0}()&&t._periodicTasks.push((function(){if(a.length){var e=t._getCommonVars().concat(["d="+n(a)]);t.sendCounter("690.2096.768.2373",e),a=[]}return!0})))}(Ya.Rum)},TvnF:function(t,e){MBEM.decl({block:"mini-suggest",modName:"request",modVal:"jsonp"},{_request:function(t,e,i){var n=document.createElement("script"),o=this._initRequestCallback(),s=this._prepareRequestUrl(t,{callback:o}),r=void 0!==document.currentScript,a=r?Math.random().toString().substr(2,5):o;this._callbackStorage[a]={start:Date.now(),url:s,text:t,callback:e},n.setAttribute("data-id",a),n.src=s,n.onload=function(){r||delete window[o],delete this._callbackStorage[a],n.parentNode.removeChild(n)}.bind(this),n.onerror=function(){r||delete window[o],delete this._callbackStorage[a],n.parentNode.removeChild(n),i&&i.call(this)}.bind(this),document.head.appendChild(n),this.trigger("request",{text:t})},_initRequestCallback:function(){var t=void 0!==document.currentScript;if(this._callbackName&&t)return this._callbackName;var e=this._callbackName=(this.params.jsonpCallbackPrefix||"onSuggestResponse")+Math.random().toString().substr(2,5);return this._callbackStorage=this._callbackStorage||{},window[e]=function(i){var n;if(t?document.currentScript&&(n=this._callbackStorage[document.currentScript.getAttribute("data-id")]):n=this._callbackStorage[e],n){var o=Date.now()-n.start;return n.callback.call(this,n.text,i,{url:n.url,duration:o})}}.bind(this),e}})},UUB4:function(t,e){BEM.DOM.decl({block:"tumbler"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._inputValues=this.elemParams(this.elem("input"))._values,this._labelsLength=this.elem("label").length,this._buttonWidth=this.elem("button").width(),this._maxLeft=this.elem("box").width()-this._buttonWidth}},checked:function(t,e){var i=this._inputValues[e?1:0],n=2===this._labelsLength?this.elem("text","side",e?"right":"left")[0].id:this.elem("text").length?this.elem("text")[0].id:"";this.elem("input").attr("aria-labelledby",n).val(i).prop("checked",e),this.elem("button").attr("aria-pressed",Boolean(e)),this.trigger("change",{checked:Boolean(e),value:this.val()})},disabled:function(t,e){this.__base.apply(this,arguments),this.findBlockOn("button","button2").setMod("disabled",e),this.elem("input").prop("disabled",Boolean(e))}},val:function(t){return void 0===t?this.elem("input").val():-1===this._inputValues.indexOf(t)||this.val()===t?this:this._toggle()},_toggle:function(){return this.toggleMod("checked","yes",!this.elem("input").prop("checked")),this},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onStickerClick:function(){this._toggle(),this.findBlockOn(this.elem("button"),"button2").setMod("focused","yes")},_onLabelClick:function(t){this._shouldChange(t)&&(this._toggle(),this.findBlockOn(this.elem("button"),"button2").setMod("focused","yes"))},_onButtonClick:function(){this._toggle()},_onButtonFocus:function(){this.setMod(this.elem("button"),"focused","yes"),this.setMod("focused","yes")},_onButtonBlur:function(){this.delMod(this.elem("button"),"focused"),this.delMod("focused")},_shouldChange:function(t){var e="left"===this.getMod(t.data.domElem,"side");if(2===this._labelsLength){var i=!e&&this.elem("input").prop("checked");if(e&&!this.elem("input").prop("checked")||i)return!1}return!0}},{live:function(){return this.liveInitOnBlockInsideEvent("focus","button2",(function(){this.hasMod("disabled")||this._onButtonFocus()})).liveInitOnBlockInsideEvent("blur","button2",(function(){this.hasMod("disabled")||this._onButtonBlur()})).liveInitOnBlockInsideEvent("click","button2",(function(t){this.hasMod("disabled")||this._onButtonClick()})).liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("sticker","pointerclick",(function(t){this.hasMod("disabled")||this._onStickerClick()})).liveBindTo("label","pointerclick",(function(t){this.hasMod("disabled")||this._onLabelClick(t)})).liveBindTo("button","keydown",(function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||BEM.blocks.keycodes.is(t.keyCode,"SPACE","LEFT","UP","RIGHT","DOWN")&&t.preventDefault()})).liveBindTo("button","keyup",(function(t){var e=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||(e.is(i,"LEFT","UP")?this.delMod("checked"):e.is(i,"RIGHT","DOWN")&&this.setMod("checked","yes"))})),this.__base()}})},Unpv:function(t,e){MBEM.decl("mini-suggest",{_setElements:function(){this.__base.apply(this,arguments),this._bemInput=$(this._input).closest(".input").bem("input"),this._bemInput.on("change",this._onBEMInput,this)},_bindHandlers:function(){this.__base.apply(this,arguments),this._form&&$(this._form).on("submit",function(t){t.originalEvent||this._onFormSubmit()}.bind(this))},_setInputVal:function(){this.__base.apply(this,arguments),setTimeout(function(){this._bemInput.trigger("change")}.bind(this),0)},_onBEMInput:function(t,e){e&&"sample"===e.source||this._onInput()}})},Uqfv:function(t,e){MBEM.decl({block:"mini-suggest",modName:"inverse-hl",modVal:"yes"},{_processResponse:function(){var t=this.__base.apply(this,arguments);return t.map((function(t){if(t[5]&&t[5].hl){var e=t[5].hl.reduce((function(t,e){return t[t.length-1].push(e[0]),t.push([e[1]]),t}),[[]]);0===e[0].length?e=[]:(0===e[0][0]?e.shift():e[0].unshift(0),e[e.length-1][0]===t[1].length?e.pop():e[e.length-1].push(t[1].length)),t[5].hl=e}return t}))}})},V8VG:function(t,e){MBEM.decl({block:"mini-suggest",modName:"ahead",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),this.on("response",this._onAheadResponse),this.on("item-delete",this._onItemDelete),this._bemInput=$(this._input).closest(".input").bem("input"),this._bemInput.on("ahead-fill",(function(){this._syncVal(),this._update()}),this)},_onAheadResponse:function(t,e){if(e.relevant){var i=e.data[2];this._bemInput.setAhead(e.text+(i&&i["continue"]||""))}},_onItemDelete:function(){this._bemInput.unsetAhead()}})},VEpq:function(t,e){MBEM.hl=function(t,e){var i=e.reduce((function(e,i){var n=i[0],o=i[1];return n!==e.lastIndex&&(e.text+=MBEM.encode(t.slice(e.lastIndex,n))),e.text+="<b>"+MBEM.encode(t.slice(n,o))+"</b>",e.lastIndex=o,e}),{text:"",lastIndex:0});return i.text+MBEM.encode(t.slice(i.lastIndex))}},VhOV:function(t,e){!function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return Boolean(t.getCookie("yandex_login"))}}(window.Lego)},VjMc:function(t,e){
/**
 * Observable plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 * @requires $.identify
 * @requires $.inherit
 */
!function(t){var e="__"+Number(new Date)+"storage",i=function(e,i){return t.identify(e)+(i?t.identify(i):"")},n={buildEventName:function(t){return t},on:function(n,o,s,r,a){if("string"==typeof n){t.isFunction(o)&&(r=s,s=o,o=void 0);for(var c,l=i(s,r),h=this[e]||(this[e]={}),d=n.split(" "),u=0;n=d[u++];)if(!(l in(c=h[n=this.buildEventName(n)]||(h[n]={ids:{},list:{}})).ids)){var m=c.list,p={fn:s,data:o,ctx:r,special:a};m.last?(m.last.next=p,p.prev=m.last):m.first=p,c.ids[l]=m.last=p}}else{var f=this;t.each(n,(function(t,e){f.on(t,e,o,a)}))}return this},onFirst:function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},un:function(n,o,s){if("string"==typeof n||void 0===n){var r=this[e];if(r)if(n){for(var a,c=n.split(" "),l=0;n=c[l++];)if(a=r[n=this.buildEventName(n)])if(o){var h=i(o,s),d=a.ids;if(h in d){var u=a.list,m=d[h],p=m.prev,f=m.next;p?p.next=f:m===u.first&&(u.first=f),f?f.prev=p:m===u.last&&(u.last=p),delete d[h]}}else delete this[e][n]}else delete this[e]}else{var _=this;s=o,t.each(n,(function(t,e){_.un(t,e,s)}))}return this},trigger:function(i,n){var o=this[e],s="string"==typeof i,r=s?i:i.type,a=this.buildEventName(r);if(s||(i.type=a,i.target||(i.target=this)),o&&(o=o[a])){var c,l=o.list.first;for(l&&s&&((i=t.Event(a)).target=this);l;)i.data=l.data,void 0!==(c=l.fn.call(l.ctx||this,i,n))&&(i.result=c,!1===c&&(i.preventDefault(),i.stopPropagation())),l.special&&l.special.one&&this.un(r,l.fn,l.ctx),l=l.next}return this}};t.observable=t.inherit(n,n)}(jQuery)},VznB:function(t,e){BEM.DOM.decl("zen-lib",{_runIncludedLoader:function(){}})},Vzvc:function(t,e){var i;BEM.channel("sys").on("visibilitychange",(function(t,e){e.hidden?i=Date.now():i&&(home.stat.logPath("tech","return",{customParams:{timems:Date.now()-i}}),i=null)}))},W3Dy:function(t,e){var i;i={},MBEM.channel=function(t){if(void 0!==t&&i[t])return i[t];var e=new MBEM.Observable;return void 0!==t&&(i[t]=e),e}},W5n3:function(t,e){!function(){if(!Object.assign){var t=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i};try{Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}catch(e){Object.assign=t}}}()},WAYw:function(t,e){BEM.DOM.decl({block:"widget-control",modName:"footer",modVal:"yes"},{onSetMod:{js:{inited:function(){this.bindTo(this.domElem,"pointerclick",this._onWidgetAction.bind(this,"hide")),this.bindKeyTo(this.domElem,"enter space",this._onWidgetAction.bind(this,"hide"))}}}})},WFGa:function(t,e){!function(){"use strict";BEM.decl("i-performance",{onSetMod:{js:{inited:function(){if(window.performance&&"onresourcetimingbufferfull"in window.performance&&"addEventListener"in window.performance){this._expandTimingBuffer=this._expandTimingBuffer.bind(this),window.performance.addEventListener("resourcetimingbufferfull",this._expandTimingBuffer);var t=window.performance.getEntriesByType("resource").length;t>=this.__self._DEFAULT_TIMING_BUFFER_SIZE?(this._timingBufferSize=Math.ceil(t/this.__self._DEFAULT_TIMING_BUFFER_SIZE)*this.__self._DEFAULT_TIMING_BUFFER_SIZE,this._expandTimingBuffer()):this._timingBufferSize=this.__self._DEFAULT_TIMING_BUFFER_SIZE}}}},checkUrlLoaded:function(t){var e=!0;return window.PerformanceObserver&&window.performance&&window.performance.getEntriesByName&&(e=!1,window.performance.getEntriesByName(t).forEach((function(t){"resource"===t.entryType&&(e=!0)}))),e},destruct:function(){this.__self._instance=null,"removeEventListener"in window.performance&&window.performance.removeEventListener("resourcetimingbufferfull",this._expandTimingBuffer),this.__base.apply(this,arguments)},_expandTimingBuffer:function(){this._timingBufferSize<this.__self._MAX_TIMING_BUFFER_SIZE?(this._timingBufferSize+=this.__self._DEFAULT_TIMING_BUFFER_SIZE,window.performance.setResourceTimingBufferSize(this._timingBufferSize)):window.performance.removeEventListener("resourcetimingbufferfull",this._expandTimingBuffer)}},{_DEFAULT_TIMING_BUFFER_SIZE:150,_MAX_TIMING_BUFFER_SIZE:1050,preparePerformanceBuffer:function(){this._instance||(this._instance=BEM.create(this.getName(),{}))},checkUrlLoaded:function(t){return this._instance||this.preparePerformanceBuffer(),this._instance.checkUrlLoaded(t)},destroy:function(){this._instance&&this._instance.destruct()}})}()},WISf:function(t,e){BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}})},Wdh0:function(t,e){MBEM.decl({block:"mini-suggest",modName:"prevent-empty",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),this.unbindFrom(this._input,"click"),this.bindTo(this._input,"click",MBEM.eventProxy("_onInputFocus",this))},_onEnter:function(){this._val?this.__base.apply(this,arguments):this._closeSuggest()},_onSubmitClick:function(t){this._val?this.__base.apply(this,arguments):(t.preventDefault(),this._closeSuggest())},_onInput:function(t){t&&this._input.value&&this._input.value!==this._val&&this._openSuggest(),this.__base.apply(this,arguments)}})},WhSy:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),!this._val&&this.params.url&&this.params.url.indexOf("history=1")>-1&&this._update()}})},Wky5:function(t,e){BEM.DOM.decl("to-top",{onSetMod:{js:{inited:function(){this.channel("i-scroll-event").on("scroll",this._updateVerticalScroll,this),this._updateVerticalScroll(null,window.pageYOffset),this.bindTo("click",this._scrollToTop)}},visible:{yes:function(){home.stat.logDOMShow(this.domElem)}}},_showAfterScrollTo:function(){return window.outerHeight},_updateVerticalScroll:function(t,e){var i=e>this._showAfterScrollTo();this.toggleMod("visible","yes",i)},_scrollToTop:function(){$("html,body").stop().animate({scrollTop:0},"fast")}})},X39R:function(t,e){!function(){var t=function(t){this.type=t,this.propagationStopped=!1};t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=function(){};e.prototype.on=function(t,e,i){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&this.on(n,t[n],e);return this}var o=this._handlerStorage||(this._handlerStorage={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},e.prototype.un=function(t,e){for(var i=this._handlerStorage||(this._handlerStorage={}),n=i[t]||(i[t]=[]),o=0;o<n.length;++o)if(n[o].fn===e)return n.splice(o,1),this;return this},e.prototype.trigger=function(e,i){for(var n,o=new t(e),s=this._handlerStorage||(this._handlerStorage={}),r=s[e]||(s[e]=[]),a=0;a<r.length;++a){var c=r[a];if(!1===(n=c.fn.call(c.ctx||this,o,i))&&o.stopPropagation(),o.propagationStopped)break}return n},MBEM.Observable=e}()},X48e:function(t,e){BEM.DOM.decl("divjson-table",{onSetMod:{js:{inited:function(){this._autoSizeTable()}}},_autoSizeTable:function(){var t=1,e=this.elem("sizer").width(),i=this.elem("table")[0];for(i.style.fontSize="";t>.3&&!this._isTextFits(i,e);)i.style.fontSize=t+"em",t-=.05},_isTextFits:function(t,e){if(t.offsetWidth>e+1)return!1;for(var i=Array.from(t.querySelectorAll("td")),n=0;n<i.length;n++){var o=i[n];if(o.offsetWidth+1<o.scrollWidth)return!1}return!0}})},X6wk:function(t,e){!function(){var t=null,e=!1,i=!1,n=document.createElement("div"),o=function(t){return n.innerHTML=t,n.firstChild};function s(n,s){if(s&&s.id){t||(t=o('<iframe style="display:none" src="'+n+'" name="ga"></iframe>'));var r=function(){t.contentWindow.postMessage&&t.contentWindow.postMessage({id:s.id,type:"params",params:s.params,labels:s.labels,remarketingOnly:s.remarketingOnly},"*")};i?r():t.onload=function(){i=!0,r()},e||(document.body.appendChild(t),e=!0)}}var r,a=null,c=!1;function l(t){return window.home&&home.getData&&home.getData("ga-counter."+t)}window.home=window.home||{},window.home.gaCounter={track:function(t){var e,i=l("morda");i&&i.customLabels&&i.customLabels[t]&&(e={id:i.id,params:null,labels:i.customLabels[t],remarketingOnly:i.remarketingOnly},s(i.iframeSrc,e))},trackEther:function(){var t=l("ether");t&&t.customLabels&&t.customLabels.ether&&(r=setTimeout((function(){var e={id:t.id,params:null,labels:t.customLabels.ether,remarketingOnly:t.remarketingOnly};s(t.iframeSrc,e)}),t.timeout))},stopTrackEther:function(){clearTimeout(r)},trackCancel:function(){this.track("cancel")},trackCancelPopup:function(){this.track("cancelPopup")}},home.pseudoReady((function(){var t=l("morda");t&&function(){if(t.swb)return!0;var e;try{e=localStorage.getItem("gaCounterShowTime")}catch(i){}return!e||Number(e)<t.ignoreLSBefore||+new Date-Number(e)>t.showTimeout}()&&setTimeout((function(){(function(){if(t.iframeSrcEx)i=t.iframeSrcEx+function(){for(var t=[],e=0,i=arguments.length;e<i;e++)arguments[e]&&t.push(arguments[e]);return t.length?"?"+t.join("&"):""}(t.csc?"csc="+t.csc:"",t.refg?"refg=1":"",t.swb?"swb=1":""),a||(a=o('<iframe style="display:none" src="'+i+'" name="ga-ex"></iframe>')),c||(document.body.appendChild(a),c=!0);else if(t.iframeSrc){var e={id:t.id,params:t.params,labels:t.labels,remarketingOnly:t.remarketingOnly};s(t.iframeSrc,e)}var i})(),function(){try{localStorage.setItem("gaCounterShowTime",+new Date)}catch(t){}}()}),t.timeout)}))}()},XBkm:function(t,e){
/**
 * Debounce and throttle function's decorator plugin 1.0.6
 *
 * Copyright (c) 2009 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
$.extend({debounce:function(t,e,i,n){var o,s=function(){var s=arguments;n=n||this,i&&!o&&t.apply(n,s),clearTimeout(o),o=setTimeout((function(){i||t.apply(n,s),o=null}),e)};return 3===arguments.length&&"boolean"!=typeof i&&(n=i,i=!1),s.stop=function(){clearTimeout(o),o=null},s},throttle:function(t,e,i){var n,o,s,r=function(){o=arguments,s=!0,i=i||this,n||function(){s?(t.apply(i,o),s=!1,n=setTimeout(arguments.callee,e)):n=null}()};return r.stop=function(){clearTimeout(n),n=null},r}})},XF9F:function(t,e){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._enforceRepaint=this._enforceRepaint.bind(this)}},visible:{yes:function(){this.__base.apply(this,arguments),window.attachEvent&&this.elem("content")[0].attachEvent("onresize",this._enforceRepaint)},"":function(){this.__base.apply(this,arguments),window.detachEvent&&this.elem("content")[0].detachEvent("onresize",this._enforceRepaint)}}},_enforceRepaint:function(){this.domElem[0].className+=""}})},XMxx:function(t,e){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]})},"XW/Y":function(t,e){MBEM.decl({block:"mini-suggest",modName:"request"},{_prepareRequestUrl:function(t,e){var i=MBEM.appendUrlParams(this.params.url,this._getMainUrlParams(t));return e&&(i=MBEM.appendUrlParams(i,e)),i}})},YT7z:function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{__constructor:function(){this._freezeFocus=0,this.__base.apply(this,arguments)},_onClearClick:function(){this._freezeFocus=Date.now()+500,this.__base.apply(this,arguments)},_onInputBlur:function(){Date.now()<this._freezeFocus?this._input.focus():this.__base.apply(this,arguments)},_blur:function(){this._freezeFocus=0,this.__base.apply(this,arguments)}})},YxSv:function(t,e){!function(){"use strict";BEM.DOM.decl({name:"popup",modName:"focus",modVal:"capture"},{_onShown:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex","0").focus()},_onHidden:function(){this.__base.apply(this,arguments),this.domElem.removeAttr("tabindex")}})}()},ZLQd:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_prepareOverlayParent:function(){return this.domElem.parentElement},_customizeButton:function(){this._button&&(this._button.appendChild(this._createButtonBackground()),this._button.appendChild(this._createButtonForeground()))}})},Zdln:function(t,e){BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var i=this.domElem;e&&this.delMod("hovered"),this._href&&(e?i.removeAttr("href"):i.attr("href",this._href)),this.afterCurrentEvent((function(){i&&i.prop("disabled",e)}))},pressed:function(t,e){if(this.hasMod("disabled"))return!1;this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return void 0===t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent((function(){this.domElem&&this.trigger("click")}))}},{live:function(){this.liveBindTo("pointerclick",(function(t){this._onClick(t)})).liveBindTo("pointerpress",(function(t){this.isDisabled()||this._onPointerpress(t)}))}})},ZiWf:function(t,e){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return this._needFavicon(t)&&(e.content.thumb=""),e},_buildItemContentInfo:function(t){var e=this.__base.apply(this,arguments);return this._needFavicon(t)&&(e=this._buildFavicon(t[3])+e),e}})},ZqzM:function(t,e,i){var n,o,s,r={},a=!1,c=0,l=!0,h=[],d=!0;BEM.decl("i-xiva",{},{listen:function(t,e,i,n){var o=r[t],s=!o,a=n&&n.force;o||(r[t]=o={handlers:[]}),o.ignoreFilterByTime=n&&n.ignoreFilterByTime,o.ignoreBlurEvent=n&&n.ignoreBlurEvent,o.ts=e,o.handlers.push(i),this._init(a),s&&this._updateSubscription()},stopListen:function(t,e){var i=r[t];i&&(i.handlers=i.handlers.filter((function(t){return t!==e})),i.handlers.length||(delete r[t],this._updateSubscription()))},send:function(t){var e;this._hasXivaSupport()&&t&&t.ch&&(this._connected||this._init(!0),e=JSON.stringify(t),this._sendQueue.push(e),this._sendDelayed())},_sendQueue:[],_sendDelayed:function(){var t;if(this._connected)for(;this._sendQueue.length;)t=this._sendQueue.pop(),n&&t&&n.send(t)},connect:function(){l=!0,this._connect()},disconnect:function(t){l=t,n&&n.close&&n.close(1e3,"unload")},_deliverReceived:function(){var t,e;for(t=0,e=h.length;t<e;++t)(0,h[t].handler)(h[t].data,!0);h=[]},_toggleFocus:function(t){(d=t)&&this._deliverReceived()},_initFocusEvents:function(){var t=this;$.browser&&$.browser.msie?$(document).bind("focusout",(function(){t._toggleFocus(!1)})).bind("focusin",(function(){t._toggleFocus(!0)})):$(window).focus((function(){t._toggleFocus(!0)})).blur((function(){document.activeElement&&"IFRAME"===document.activeElement.tagName||t._toggleFocus(!1)}))},_bindOnUnload:function(){var t=this;$(window).on("beforeunload",(function(){t.disconnect(!1)}))},_init:function(t){var e=this;a&&!t||this._connected||(a=!0,this._initFocusEvents(),this._bindOnUnload(),this._connect=this._connect.bind(this),clearTimeout(this._connectTimeout),t?this._connect():this._connectTimeout=setTimeout((function(){e._connect()}),6e4))},_hasXivaSupport:function(){return Boolean(window.WebSocket)},_connect:function(){var t=this,e=home.getData("i-xiva.url");this._hasXivaSupport()&&e&&(n||i.e(1).then(i.t.bind(null,"6jwv",7)).then((function(){n||((n=new SockJS("//"+e+"/xiva",null,{protocols_whitelist:["websocket"]})).onopen=function(){t._connected=!0,t._updateSubscription(),t._checkConnection(),t._sendDelayed()},n.onmessage=t._onMessage.bind(t),n.onclose=function(e){t._connected=!1,n=null,t._reconnect(1e3===e.code)})}),(function(e){t._chunkErrorLogged||(t._chunkErrorLogged=!0,home.error.logError({block:"i-xiva",url:e.request},e)),t._reconnect(!0)})))},_reconnect:function(t){if(this._stopConnectionTimer(),l){c++;var e=0;t||(e+=c<=1?120*Math.random()*1e3:300*Math.random()*1e3),e+=c<=2?1e4:c<=6?3e4:6e4,setTimeout(this._connect,e)}},_stopConnectionTimer:function(){o&&(clearTimeout(o),o=null)},_checkConnection:function(){var t=this;this._stopConnectionTimer(),o=setTimeout((function(){t._connected&&(c=0)}),5e3)},_updateSubscription:function(){var t=this;s&&clearTimeout(s),s=setTimeout((function(){t._subscribeSend()}),100)},_subscribeSend:function(){var t;if(this._connected){for(var e in t={subscribe:{}},r)r.hasOwnProperty(e)&&(t.subscribe[e]=r[e].ts);n&&n.send(JSON.stringify(t))}},_onMessage:function(t){var e,i,n,o,s=$.trim(t.data);try{n=(e=JSON.parse(s)).ch+"_"+e.key,e.mts&&(this._timeDelta=Number(new Date)-e.mts);var a=r[n];if(a){i=parseInt(e.ts);var c=a.ts;if(c&&c<i||a.ignoreFilterByTime){a.ts=i,o=a.handlers;for(var l=0,u=o.length;l<u;++l)d||a.ignoreBlurEvent?o[l](e):h.push({handler:o[l],data:e})}}}catch(m){}},getTimeDelta:function(){return this._timeDelta}})},Zs4m:function(t,e){BEM.decl("i-intersection-observer-wrapper",{},{_listenEvents:function(){this.__base.apply(this,arguments),BEM.channel("i-reposition-event").on("change",this._throttledCallback)}})},ZsAA:function(t,e){BEM.DOM.decl("modal",{attachToScope:function(t){return this._popup.attachToScope(t)}})},Zw61:function(t,e){!function(t,e){var i=[],n=t.inherit,o=t.isFunction,s=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r={},a={};function c(t,e,i){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(i?"_"+i:"")}function l(t,e,i){var n,r,a;if(o(t))e[c(i,"*","*")]=t;else for(n in t)if(s(t,n))if(a=t[n],o(a))e[c(i,n,"*")]=a;else for(r in a)s(a,r)&&(e[c(i,n,r)]=a[r])}function h(t){var e;if(t.onSetMod&&(l(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)s(t.onElemSetMod,e)&&l(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}this.BEM=n(t.observable,{__constructor:function(t,e,i){var n=this;n._modCache=t||{},n._processingMods={},n._params=e,n.params=null,!1!==i?n._init():n.afterCurrentEvent((function(){n._init()}))},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,i,n,o){return"object"==typeof e&&(t.isFunction(i)||t.isFunction(n))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,i,n){return"object"==typeof e&&t.isFunction(i)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,i){var n=!0;return"object"!=typeof e||e instanceof t.Event||(n="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),n&&(this.__base(e=this.buildEvent(e),i),this._trigger(e,i)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,e,i){var n=arguments.length,o=!1;1==n?(i="",e=t,t=void 0,o=!0):2==n&&("string"==typeof t?(i=e,e=t,t=void 0):(i="",o=!0));var s=this.getMod(t,e)===i;return o?!s:s},getMod:function(t,e){var i=typeof t;if("string"===i||"undefined"===i){e=t||e;var n=this._modCache;return e in n?n[e]:n[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,i){return this._extractModVal(t,e,i)},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0);return n.length?n.reduce((function(t,e){return e in i&&(t[e]=i[e]),t}),{}):i},setMod:function(e,i,n){void 0===n&&("string"==typeof e?(n=void 0===i||i,i=e,e=void 0):n=!0);var o=this;if(!e||e[0]){!1===n||null===n?n="":!0!==n&&(n=n.toString());var s=(e&&e[0]?t.identify(e[0]):"")+"_"+i;if(this._processingMods[s])return o;var r,a=e?o._getElemMod(i,e,r=o.__self._extractElemNameFrom(e)):o.getMod(i);if(a===n)return o;this._processingMods[s]=!0;var c=!0,l=[i,n,a];e&&l.unshift(e),[["*","*"],[i,"*"],[i,n]].forEach((function(t){c=!1!==o._callModFn(r,t[0],t[1],l)&&c})),!e&&c&&(o._modCache[i]=n),c&&o._afterSetMod(i,n,a,e,r),delete this._processingMods[s]}return o},_afterSetMod:function(t,e,i,n,o){var s={modName:t,modVal:e,oldModVal:i};n&&(s.elem=n),this.trigger({modName:t,modVal:"*",elem:o},s).trigger({modName:t,modVal:e,elem:o},s)},toggleMod:function(t,e,i,n,o){"string"==typeof t&&(o=n,n=i,i=e,e=t,t=void 0),void 0===n?n="":"boolean"==typeof n&&(o=n,n="");var s=this.getMod(t,e);return(s==i||s==n)&&this.setMod(t,e,"boolean"==typeof o?o?i:n:this.hasMod(t,e,i)?n:i),this},delMod:function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},_callModFn:function(t,e,i,n){var o=c(t,e,i);return this[o]?this[o].apply(this,n):void 0},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"i-bem",blocks:r,decl:function(e,i,s){"string"==typeof e?e={block:e}:e.name&&(e.block=e.name),h(i||(i={}));var a,c,l=r[e.baseBlock||e.block]||this;if(e.modName){var d=(a=e.modName,(c=e.modVal)?Array.isArray(c)?function(t){for(var e=0,i=c.length;e<i;)if(t.hasMod(a,c[e++]))return!0;return!1}:function(t){return t.hasMod(a,c)}:function(t){return t.hasMod(a)});t.each(i,(function(t,e){o(e)&&(i[t]=function(){var n;if(d(this))n=e;else{var o=l.prototype[t];o&&o!==i[t]&&(n=this.__base)}return n?n.apply(this,arguments):void 0})}))}if(s&&"boolean"==typeof s.live){var u=s.live;s.live=function(){return u}}var m,p=l;return e.baseMix&&(p=[p],e.baseMix.forEach((function(t){p.push(r[t])}))),e.block==l._name?(m=n.self(p,i,s))._processLive(!0):((m=r[e.block]=n(p,i,s))._name=e.block,delete m._liveInitable),m},declMix:function(t,e,i){return h(e||(e={})),r[t]=n(e,i)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new r[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,i,n,o){return"object"==typeof e&&(t.isFunction(i)||t.isFunction(n))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,i,n){return"object"==typeof e&&t.isFunction(i)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==i.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=i.length;t&&i.splice(0,t).forEach((function(t){t.fn.call(t.ctx||this)}),this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,i=e?0:1,n=arguments.length;for(e&&(t=this);i<n;)delete t[arguments[i++]];return this},channel:function(e,i){if("boolean"==typeof e&&(i=e,e=void 0),e||(e="default"),!i)return a[e]||(a[e]=new t.observable);a[e]&&(a[e].un(),delete a[e])}}))}(jQuery)},"a+6J":function(t,e){BEM.decl("i-voice",{},{hasMicSupport:function(t){try{if("Promise"in window&&(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)){var e;if(navigator.enumerateDevices?e=navigator.enumerateDevices.bind(navigator):(window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(e=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(e=function(t){navigator.mediaDevices.enumerateDevices().then(t)})),!e)return void t({message:"API is Not supported"});e((function(e){var i=e.some((function(t){return"audio"===t.kind||"audioinput"===t.kind}));t(!i&&{message:"Mic is not available"})}))}else t({message:"API is Not supported"})}catch(i){t({message:"API is Not supported"})}}})},a52g:function(t,e){BEM.DOM.decl("etrains",{onSetMod:{direction:function(t,e){var i=this.params.urls&&this.params.urls[e||"fwd"];i&&this.elem("title-link").attr("href",i)}},toggle:function(){this.toggleMod("direction","rev"),home.stat.logPath("click","rasp."+this.params.counterType+".changeway")}},{live:function(){this.liveBindTo("direction","pointerclick",(function(){this.toggle()}))}})},aBkz:function(t,e){BEM.DOM.decl({name:"widget",modName:"name",modVal:"stocks"},{reload:function(){"_stocks-1"===this.params.id?this.reloadTopNews():this.__base.apply(this)},reloadTopNews:function(){$("#wd-wrapper-_topnews-1").bem("widget").getInstance().reload(!1,!1,!0)}})},aJtm:function(t,e){BEM.DOM.decl("covid-athome",{_onClose:function(t){this._yabsSend(t),this.destruct()},_yabsSend:function(t){var e=t.data.domElem,i=this.params.closeUrl,n=e.attr("href"),o="_blank"===e.attr("target");i&&BEM.blocks["i-yabs-sender"].sendClose(t,i,o?void 0:n)}},{live:function(){this.liveBindTo("close","click",(function(t){this._onClose(t)})),this.liveBindKey("close","space enter",(function(t){this._onClose(t)})),this.liveBindTo("more","click",(function(t){this._yabsSend(t)}))}})},aL1Z:function(t,e){BEM.DOM.decl("divjson2-visibility",{onSetMod:{js:{inited:function(){this._actions={},this.params.actions.forEach((function(t){var e=void 0!==t.percent?t.percent:50;e/=100;var i=this.__self._instances[e]||BEM.blocks["i-intersection-observer-wrapper"].create(this.__self._onIntersection,{threshold:e});i.observe(this.domElem[0]),t.observer=i,this._actions[String(i.thresholds)]=t}),this)}}},_onIntersection:function(t,e){var i=this._actions&&this._actions[String(e.thresholds)];i&&(clearTimeout(i.timeout),t.isIntersecting&&(i.timeout=setTimeout(function(){i.log&&home.stat.logPath("show",this.params.layoutName+"."+i.log),i.url&&((new Image).src=i.url);var e=0===i.limit?1/0:i.limit||1;i.count=(i.count||0)+1,i.count>=e&&i.observer.unobserve(t.target)}.bind(this),void 0!==i.duration?i.duration:800)))}},{_instances:{},_onIntersection:function(t,e){t.forEach((function(t){$(t.target).bem("divjson2-visibility")._onIntersection(t,e)}))}})},aPu7:function(t,e){!function(t,e){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendHeroElement=t.onReady=function(){});t.getVarsList=function(){var e=t._vars;return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")}))},t.setVars=function(e){Object.keys(e).forEach((function(i){t._vars[i]=e[i]})),k(),E()};var i,n,o={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},s={visible:1,hidden:2,prerender:3},r={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},a={"first-paint":2793,"first-contentful-paint":2794},c=Object.keys(a).length,l=t.getTime,h=window.PerformanceObserver,d=window.performance||{},u=d.timing||{},m=d.navigation||{},p=navigator.connection,f={},_={},g=t._deltaMarks,v=document.createElement("link"),b=document.createElement("a"),y="function"==typeof d.getEntriesByType,w=u.navigationStart;function k(){i=t.getVarsList(),t.getSetting("sendClientUa")&&i.push("1042="+encodeURIComponent(navigator.userAgent))}function E(){n=i.concat(["143.2129="+w])}if(k(),E(),t.ajaxStart=0,t.ajaxComplete=0,h)try{new h((function(t,e){var n=t.getEntriesByType("navigation")[0];if(n){e&&e.disconnect();var o=[];X(o,n),K(o),Q("690.2096.2892",i.concat(o))}})).observe({entryTypes:["navigation"]})}catch(tt){}function M(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):t()}function x(){t.getSetting("disableOnLoadTasks")||(removeEventListener("load",x),function(){var e=t.getSetting("periodicStatsIntervalMs");e||null===e||(e=15e3),e&&(C=setInterval(R,e)),addEventListener("beforeunload",R)}(),function(){if(h){N(d.getEntriesByType("navigation")),N(d.getEntriesByType("resource"));try{new h((function(t){N(t.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(tt){}t._periodicTasks.push(U)}}(),function(){if(h)try{new h((function(t,e){var i=t.getEntries()[0];i&&(O("first-input",i.processingStart-i.startTime),e.disconnect())})).observe({type:"first-input",buffered:!0})}catch(tt){}}(),function(){if(h){var t=new h((function(t){var e=t.getEntries();null==A&&(A=0);for(var i=0;i<e.length;i++){var n=e[i];n.hadRecentInput||(A+=n.value)}}));try{t.observe({type:"layout-shift",buffered:!0})}catch(tt){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(tt){}H()}})),addEventListener("beforeunload",H)}}(),function(){if(h&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){var e=new h((function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];z=n.renderTime||n.loadTime}W||(I("largest-loading-elem-paint",z),W=!0)}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(tt){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(tt){}$()}})),addEventListener("beforeunload",$)}}())}function T(){var e=u.domContentLoadedEventStart,n=u.domContentLoadedEventEnd;if(0!==e||0!==n){var r=0===u.responseStart?w:u.responseStart,a=0===u.domainLookupStart?w:u.domainLookupStart,c=i.concat(["2129="+w,"1036="+(a-w),"1037="+(u.domainLookupEnd-u.domainLookupStart),"1038="+(u.connectEnd-u.connectStart),u.secureConnectionStart&&"1383="+(u.connectEnd-u.secureConnectionStart),"1039="+(u.responseStart-u.connectEnd),"1040="+(u.responseEnd-r),"1040.906="+(u.responseEnd-a),"1310.2084="+(u.domLoading-r),"1310.2085="+(u.domInteractive-r),"1310.1309="+(n-e),"1310.1007="+(e-r),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(o).forEach((function(t){t in u&&u[t]&&c.push(o[t]+"="+J(u[t],w))})),t.vsStart?(c.push("1484="+(s[t.vsStart]||2771)),t.vsChanged&&c.push("1484.719=1")):c.push("1484="+s.visible),m&&(m.redirectCount&&c.push("1384.1385="+m.redirectCount),1!==m.type&&2!==m.type||c.push("770.76="+m.type)),K(c),Q("690.1033",c)}else setTimeout(T,50)}M((function(){w&&setTimeout((function(){t.sendTimeMark=I,t.sendResTiming=j,t.timeEnd=D;for(var e=t._defRes;e.length;){var i=e.shift();j(i[0],i[1])}for(var n=t._defTimes;n.length;){var o=n.shift();I(o[0],o[1],!1,o[2])}Object.keys(g).forEach((function(t){O(t)})),T(),function s(){if(y&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){for(var e=d.getEntriesByType("paint"),i=0;i<e.length;i++){var n=e[i],o=a[n.name];o&&!S[n.name]&&(S[n.name]=!0,B++,I("1926."+o,n.startTime))}if(B<c)try{new h((function(t,e){s(),e&&e.disconnect()})).observe({entryTypes:["paint"]})}catch(tt){}}}(),t.getSetting("sendAutoElementTiming")&&V(),q(),"complete"===document.readyState?x():addEventListener("load",x)}),0)})),t._getCommonVars=function(){return i};var C,S={},B=0;function I(e,i,n,o){void 0===i&&(i=l()),void 0!==n&&!0!==n||t.mark(e,i);var s=Z(e);if(s.push("207="+J(i)),P(s,o)){Q("690.2096.207",s),f[e]=f[e]||[],f[e].push(i);var r=t._markListeners[e];r&&r.length&&r.forEach((function(t){t(i)}))}}function P(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;var i=t.reduce((function(t,e,i){return"string"==typeof e&&(t[e.split("=")[0]]=i),t}),{});Object.keys(e).forEach((function(n){if("function"!=typeof e[n]){var o=i[n],s=n+"="+e[n];void 0===o?t.push(s):t[o]=s}}))}return!0}function D(t,e){var i=g[t];i&&0!==i.length&&(i.push(l(),e),O(t))}function O(e,i,n){var o,s,r,a=g[e];if(void 0!==i?o=(s=t.getTime())-i:a&&(o=a[0],s=a[1],r=a[2]),void 0!==o&&void 0!==s){var c=Z(e);c.push("207.2154="+J(o),"207.1428="+J(s),"2877="+J(s-o)),P(c,n)&&P(c,r)&&(Q("690.2096.2877",c),delete g[e])}}function j(e,i){Y(i,(function(n){if(n){var o=Z(e);t.getSetting("sendUrlInResTiming")&&o.push("13="+encodeURIComponent(i)),X(o,n[0]),Q("690.2096.2044",o)}}))}function R(){var e=!1;t._periodicTasks.forEach((function(t){t()&&(e=!0)})),e||clearInterval(C)}t.getTimeMarks=function(){return f},t._periodicTasks=[];var A,F=0;function N(t){if(t&&t.length)for(var e=_,i=0;i<t.length;i++){var n=L(t[i]);if(n){var o=n.domain+"-"+n.extension,s=e[o]=e[o]||{count:0,size:0};s.count++,s.size+=n.size}}}function L(t){var e=t.transferSize;if(null!=e){b.href=t.name;var i=b.pathname;if(0!==i.indexOf("/clck")){var n=i.lastIndexOf("."),o="";return-1!=n&&i.lastIndexOf("/")<n&&i.length-n<=5&&(o=i.slice(n+1)),{size:e,domain:b.hostname,extension:o}}}}function U(){var e=t.getSetting("maxTrafficCounters")||250;if(F>=e)return!1;for(var n=Object.keys(_),o="",s=0;s<n.length;s++){var r=n[s],a=_[r];o+=encodeURIComponent(r)+"!"+a.count+"!"+a.size+";"}return o.length&&(F++,Q("690.2096.361",i.concat(["d="+o,"t="+J(l())]))),_={},F<e}function H(){if(null!=A){var t=Math.round(1e6*A)/1e6;Q("690.2096.4004",i.concat("s="+t)),A=null}}var z=null,W=!1;function $(){null!=z&&(I("largest-contentful-paint",z),z=null)}var V=h?function(){if(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())try{new h((function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];I("element-timing."+n.identifier,n.startTime)}})).observe({type:"element",buffered:!0})}catch(tt){}}:function(){};function q(e,i,n){if(t._tti){var o=l(),s=function(e,s,r){var a={2796.2797:G(r,i),689.2322:J(o)};n&&Object.keys(n).forEach((function(t){a[t]=n[t]})),I(e||"2795",s,!0,a),t._tti.fired=!0};!function r(){var n,a=i||o,c=l(),h=t._tti.events||[],d=h.length;0!==d&&(n=h[d-1],a=Math.max(a,Math.floor(n.startTime+n.duration))),c-a>=3e3?s(e,a,h):c-a>=2e4?s(e,(i||o)+2e4,h):setTimeout(r,1e3)}()}}function K(t){p&&t.push("2437="+(r[p.type]||2771),void 0!==p.downlinkMax&&"2439="+p.downlinkMax,p.effectiveType&&"2870="+p.effectiveType,void 0!==p.rtt&&"rtt="+p.rtt,void 0!==p.downlink&&"dwl="+p.downlink)}function Y(t,e){if(!y)return e(null);v.href=t;var i=v.href,n=0,o=100;setTimeout((function s(){var t=d.getEntriesByName(i);if(t.length)return e(t);n++<10?(setTimeout(s,o),o+=o):e(null)}),0)}function G(t,e){return e=e||0,(t=t||[]).filter((function(t){return t.startTime-e>=-50})).map((function(t){var e=t.name?t.name.split("-").map((function(t){return t[0]})).join(""):"u",i=Math.floor(t.startTime);return e+"-"+i+"-"+Math.floor(i+t.duration)})).join(".")}function Z(e){return n.concat(["1701="+e,t.ajaxStart&&"1201.2154="+J(t.ajaxStart),t.ajaxComplete&&"1201.2052="+J(t.ajaxComplete)])}function X(t,e){Object.keys(o).forEach((function(i){if(i in e){var n=e[i];(n||0===n)&&t.push(o[i]+"="+J(n))}}))}function J(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function Q(e,i){var n=encodeURIComponent(window.YaStaticRegion||"unknown");i.push("-cdn="+n);var o=i.filter(Boolean).join(",");t.send(null,e,o)}t.sendTTI=q,t.sendHeroElement=function(t){I("2876",t)},t._subpages={},t.makeSubPage=function(e,i){var n=t._subpages[e];t._subpages[e]=void 0===n?n=0:++n;var o=!1;return{689.2322:J(void 0!==i?i:l()),2924:e,2925:n,isCanceled:function(){return o},cancel:function(){o=!0}}},t._getLongtasksStringValue=G,t.getResourceTimings=Y,t.pushConnectionTypeTo=K,t.pushTimingTo=X,t.normalize=J,t.sendCounter=Q,t.sendDelta=O,t.sendTrafficData=U,t.finalizeLayoutShiftScore=H,t.finalizeLargestContentfulPaint=$,t.onReady=M}(Ya.Rum)},"aY9+":function(t,e){BEM.decl("i-metrika",{},{add:function(t){var e=(t=t||{}).id;if(!e)throw new Error("i-metrika: Counter id wasn't passed");var i=$.Deferred();try{window["yaCounter"+e]?i.resolve(window["yaCounter"+e]):(window["yaCounter"+e]=new window.Ya.Metrika(t),$(document).one("yacounter"+e+"inited",(function(){i.resolve(window["yaCounter"+e])})))}catch(n){i.reject()}return i.promise()}})},ayR3:function(t,e){BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),i.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.prvntKeys)&&t.preventDefault(),i.is(e,this.params.pressKeys)&&(this.delMod("pressed"),i.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("pointerclick",(function(t){this.hasMod("disabled")||this._onClick(t)})).liveBindTo("keydown",(function(t){this._onKeydown(t)})).liveBindTo("keyup",(function(t){this._onKeyup(t)})),this.__base()}})},b37U:function(t,e){BEM.decl("i-zen-initializer",{onSetMod:{js:{inited:function(){var t=$(".infinity-zen");if(t.length){var e=function(){var e;null===(e=t.bem("infinity-zen"))||void 0===e||e.forceLoad()},i=this.params.type;if("instant"===i)e();else if("async"===i)setTimeout(e,0);else if("viewed"===i){var n,o=window.pageYOffset+window.innerHeight,s=null===(n=t.offset())||void 0===n?void 0:n.top;s&&s<o&&e()}}}}}})},b4vc:function(t,e){var i;i=/\s+/,MBEM.cls={list:function(t){return t.split(i).filter(Boolean)},contains:function(t,e){return MBEM.cls.list(t.className).indexOf(e)>-1},add:function(t,e){var i=MBEM.cls.list(t.className);return-1===i.indexOf(e)&&i.push(e),t.className=i.join(" "),this},remove:function(t,e){var i=MBEM.cls.list(t.className),n=i.indexOf(e);return n>-1&&i.splice(n,1),t.className=i.join(" "),this},toggle:function(t,e,i){return void 0===i&&(i=!MBEM.cls.contains(t,e)),MBEM.cls[i?"add":"remove"](t,e)}}},b7em:function(t,e){BEM.DOM.decl("select",{onSetMod:{opened:{yes:function(){if(this.hasMod("disabled"))return!1;this._drawPopup();var t=this.findElem(this._popup.domElem,"item","selected","yes");this.elem("button").attr({"aria-activedescendant":t.attr("id"),"aria-expanded":!0})},"":function(){this.elem("button").attr("aria-expanded",!1).removeAttr("aria-activedescendant"),this._getPopup().hide()}}},_getPopupContent:function(t){return{block:t,elem:"list"}},_getPopupMix:function(t){return{block:t,elem:"popup",elemMods:{}}},_getPopup:function(){if(this._popup)return this._popup;var t=this,e=t.params,i=t.__self.getName(),n=this._getPopupContent(i),o=this._getPopupMix(i),s={animate:"no"},r={directions:[{to:"bottom",axis:"left",offset:{top:8}},{to:"top",axis:"left",offset:{bottom:8}}]};["size","layout","theme","width"].forEach((function(e){t.hasMod(e)&&(o.elemMods[e]=t.getMod(e))})),$.extend(o.elemMods,e.elemPopupMods),$.extend(s,e.popupMods),$.extend(r,e.popupParams);var a=$(BEMHTML.apply({block:"popup",mods:s,mix:o,js:r,content:{elem:"content",content:n}}));return this._popup=this.findBlockOn(a,"popup"),this._popup.on({show:function(){t._curItemIndex=t._getSelectedIndex();var e=t._items.eq(t._curItemIndex);t.delMod(t._items,"selected").setMod(e,"hovered","yes").setMod(e,"selected","yes")},"outside-click":function(e,i){t._isOutsideClicked(e,i)?e.preventDefault():t._blurButton()},hide:function(){t.delMod("opened").delMod(t._items,"hovered").delMod(t.findElem(t._popup.domElem,"popup"),"scrollable")}}).bindTo("mousedown",(function(t){t.preventDefault()})),BEM.DOM.append(BEM.DOM.scope,t._popup.domElem),t._redrawList(),t._outPopup=t.findBlockOutside("button","popup"),t._outPopup&&t._outPopup.on("outside-click",(function(e,i){t._popup.containsDomElem($(i.target))&&e.preventDefault()})),t._popup},_calcPopupDimensions:function(){this._popupContent||(this._popupContent=this._getPopup().findBlockInside("popup").elem("content"));var t=parseInt(this.params.rows,10),e=this._getPopup();if(t&&this.findElem(this._popupContent,"item").size()>t){this._rowHeight=this._getRowHeight();var i=parseInt(e.domElem.css("height"),10),n=t*this._rowHeight;i!==n&&(e.setSize({height:n}),i>n&&this.setMod(this.findElem(e.domElem,"popup"),"scrollable","yes"))}else e.setSize({height:"auto"})},_drawPopup:function(){var t=this.findBlockInside("select");this._getPopup().show(t),this._calcPopupDimensions(),this._scrollToCurrent()},_scrollToCurrent:function(){if(this._popupContent&&!(this._curItemIndex<0)){var t,e=this._items.eq(this._curItemIndex).get(0).offsetTop,i=this._popupContent,n=i.scrollTop(),o=e-n,s=2*this._rowHeight;o>i.height()-s?t=e-s:n&&o<s&&(t=e-i.height()+s),t&&i.scrollTop(t)}}},{SHADOW_OFFSET:1})},bN1B:function(t,e){!function(){"use strict";var t={},e={};function i(t){var e=home.getData("bundles.data.host");return e?t.replace("//yastatic.net",e):t}home.bundles=home.bundles||{},home.bundles.loaded={},home.bundles.load=function(n,o){if(t[n])return t[n];var s=home.getData("bundles.data");if(home.getData("bundles.placed",[]).indexOf(n)>-1)return t[n]=new Promise((function(t){e[n]=t})),t[n];o=o||{};var r=home.bundles.staticURL&&home.bundles.staticURL[n]||s&&s.staticURL&&s.staticURL[n];return t[n]=Promise.race([new Promise((function(t,e){setTimeout(e,o.timeout||1e4)})),Promise.all([!1===o.css?null:new Promise((function(t){var e=s.root+"/"+s.page+"__"+n+"/_"+s.page+"__"+n+(s.cssSuffix||"")+".css";r&&r["css"+(s.cssSuffix||"")]&&(e=i(r["css"+(s.cssSuffix||"")])),home.loadCss(e,{callback:t,noFlash:!0})})),new Promise((function(t,o){var a=document.createElement("script");e[n]=t,a.onerror=function(){o(new Error("Failed to load js from bundle "+n))};var c=s.root+"/"+s.page+"__"+n+"/_"+s.page+"__"+n+"."+s.locale+(s.jsSuffix||"")+".js";r&&r["js"+(s.jsSuffix||"")]&&(c=i(r["js"+(s.jsSuffix||"")])),a.src=c,document.getElementsByTagName("head")[0].appendChild(a)}))])])["catch"]((function(e){throw t[n]=null,e}))},home.bundles.notify=function(i){t[i]?e[i]&&e[i]():t[i]=Promise.resolve(),t[i].then((function(){home.bundles.loaded[i]=!0,home.bundles.initBlocks()}))}}()},bXpa:function(t,e){BEM.DOM.decl("i-geolocation",{},{get:function(t,e){if(1===arguments.length&&(e=t,t={}),(t=$.extend({enableHighAccuracy:!0,timeout:15,cacheTime:15},t)).timeout*=1e3,t.maximumAge=1e3*t.cacheTime*60,delete t.cacheTime,"geolocation"in navigator){var i=!1,n=setTimeout((function(){i=!0,e({error:4})}),t.timeout+300);navigator.geolocation.getCurrentPosition((function(t){i||(clearTimeout(n),e(t))}),(function(t){i||(clearTimeout(n),e({error:t.code}))}),t)}else e({error:0})}})},cTAP:function(t,e){BEM.DOM.decl("weather",{onSetMod:{js:{inited:function(){var t,e;(null===(t=this.params.onboarding)||void 0===t?void 0:t.phrases.length)&&(null===(e=this._getSearchInput())||void 0===e||e.on("change",this._validateInputValue,this))}}},_validateInputValue:function(){var t,e,i=this._getSearchInput();i&&"string"==typeof(t=i.val())&&-1!==(null===(e=this.params.onboarding)||void 0===e?void 0:e.phrases.indexOf(t))&&(i.un("change",this._validateInputValue,this),this._onboardingShow())},_getSearchInput:function(){return this._searchInput||(this._searchInput=this.findBlockOutside($(".search2 .input"),"input")),this._searchInput},_onboardingShow:function(){var t;this.setMod("onboarding-animated","yes"),BEM.blocks["i-yabs-sender"].sendShow(null===(t=this.params.onboarding)||void 0===t?void 0:t.linknext),home.stat.logPath("show","weather.onboarding")}},{})},cW4x:function(t,e){BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var i=this._getControl();i.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),i.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",(function(t){this._onFocusin(t)})),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",(function(t){t.preventDefault()}))}})},czxu:function(t,e){BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){if(this.isDisabled())return!1;this.bindToWin("unload",(function(){this.delMod("focused")})).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),this.trigger("focus")},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){if(this.isDisabled())return!1;!e&&this.delMod("pressed")},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,i=t.keyCode;!this._keyDowned&&e.is(i,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",(function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,i===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))})))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)})).liveBindTo("focusin focusout",(function(t){this.toggleMod("focused","yes","focusin"===t.type)})),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",(function(t){this.domElem.height()})),this.__base()}})},dqG4:function(t,e){BEM.DOM.decl("dropdown2",{onSetMod:{opened:function(t,e){if(this.__base.apply(this,arguments),this._switcher){var i="yes"===e?"true":"false",n=this._switcher.domElem||this._switcher;n.attr("aria-expanded",i)}}}})},drW9:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[5];return i&&"ad"===i.type&&(e.className=e.className.replace(" mini-suggest__item_subtype_ad","")),e},_buildItemContent:function(t,e){return this.__base.apply(this,arguments)+(e.content.warn||"")}})},"e+S3":function(t,e){BEM.DOM.decl({block:"popup",modName:"type",modVal:"relative"},{setRelativeContainer:function(t){this._parentContainer=t},_findParent:function(){return this._parentContainer},setParent:function(t){return this._parent=t,this}})},eDbF:function(t,e){MBEM.resolveUrl=function(t,e){return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)?t:"/"===t.substr(0,1)?document.location.origin+t:(e?"https":"http")+"://"+t}},ePSr:function(t,e){BEM.DOM.decl({block:"divjson",baseMix:["mix-tabber","mix-divjson"]},{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("state-setter","space enter",(function(t){this._selectTabChecked(String(t.data.domElem.data("set-state")))})),t}})},eQor:function(t,e){home.l10n=function(t){for(var e=t.split("."),i=home.lang,n=0;n<e.length;++n){if("__proto__"===e[n])return"";if(!i||!i[e[n]])return"";i=i[e[n]]}return i}},eeV8:function(t,e){var i;BEM.decl("i-common__string",{},{cleverSubstring:function(t,e,i){return t.length>e+i?t.substring(0,e-1)+"":t},escapeHTML:(i={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},function(t){return String(t).replace(/&(?!\w+;)|[<>"']/g,(function(t){return i[t]||t}))}),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}})},egSt:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("item-select",this._handleItemSelect,this)},_handleItemSelect:function(t,e){e.personal?this._path.personal="nah_used":"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._changePathState("keyboard")&&(this._path.index=e.itemIndex+1),++this._ratio.actionsCount},_handleItemClick:function(){this._responses.clks++,this.__base.apply(this,arguments)}})},ej2x:function(t,e){var i=home.getData("service-worker-connector.isMordaInstallingEnabled"),n=home.getData("service-worker-connector.shouldUnregisterSw"),o=home.getData("service-worker-connector.homePageNoArgs"),s=o+"/chrome/",r=o+"/portal/service-worker/white/_fake_newtab.js";i&&!n&&navigator.serviceWorker.getRegistration(s).then((function(t){t&&t.active&&t.active.scriptURL!==r||setTimeout((function(){navigator.serviceWorker.register(r,{scope:"./portal/home-app/"})}),100)})),n&&navigator.serviceWorker.getRegistration(s).then((function(t){!t||t.active&&t.active.scriptURL!==r||t.unregister()}))},el0A:function(t,e){!function(){var t=Object.prototype.toString;function e(e){return"[object Object]"===t.call(e)}function i(t,n,o){var s,r;for(s in t=Object(t),n=Object(n))void 0!==(r=o&&o(t[s],n[s],s))?t[s]=r:e(t[s])&&e(n[s])?t[s]=i(t[s],n[s],o):t[s]=n[s];return t}$.extend($.util,{merge:i,mergeBemjson:function(t,e){return i(t,e,(function(t,e,i){if("mix"===i)return[].concat(t,e)}))}})}()},er8n:function(t,e){!function(t){function e(t){var e=[];return t.replace(/(\d+)|\.|[^.\d]+/g,(function(t,i){i?e.push(Number(i)):e.push(t)})),e}home.compareVersions=function(t,i){if(t===i)return 0;if(void 0===t||void 0===i||null===t||null===i)return NaN;for(var n=e(String(t)),o=e(String(i)),s=Math.max(n.length,o.length),r=0;r<s;++r){var a=n[r],c=o[r];if(void 0===a)return-1;if(void 0===c)return 1;if("."===a&&"."!==c)return-1;if("."===c&&"."!==a)return 1;if(typeof a!=typeof c&&(a=String(a),c=String(c)),a!==c)return a>c?1:-1}return 0}}()},eyWT:function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.width=this._input.offsetWidth+"px",this._popup.style.left=MBEM.offset(this._input).left+"px")}})},f7na:function(t,e){BEM.DOM.decl("widget",{onSetMod:{js:function(){this.tuned=!1,this._initWidget(),setTimeout(this.createControl.bind(this),0),this.channel("widget").on("hidePreferences",this.onHidePreferences,this),this.channel("widget").on("reload",this.onReload,this)},drag:{on:function(){this.createDrag(),this.getInstance().stopAutoReload()},"":function(){this.getInstance().queueAutoReload()}},removed:function(t,e){var i=this.getInstance(),n="yes"===e;i&&(i.params.removed=n),this.setMod("alt-removed","yes"),this.channel("widget").trigger("commit",{type:n?"remove":"recover",id:this.getId(),widget:this}),n?this.getInstance().stopAutoReload():this.getInstance().queueAutoReload()},state:{remove:function(){var t=this.__self.getRmPopup(),e=this.changeThis((function(){this.setMod("removed","yes")})),i=this.changeThis((function(){this.delMod("state")}));t.show(this,e,i,this.domElem.closest(".widgets-list__item"))},"":function(){this.elem("buttons").detach(),this.getInstance().queueAutoReload(),this.unbindFromWin("widgetLoaded")}}},_initWidget:function(){var t=this.params.initParams;t&&(this._instance=Widget.Bind(this.params.id,t.params))},destruct:function(){this.channel("widget").un("hidePreferences",this.onHidePreferences,this),this.channel("widget").un("reload",this.onReload,this),this.__base.apply(this,arguments)},onHidePreferences:function(t,e){this===e.elem&&this.hasMod("state","add")&&!this.tuned&&this.abortAdd()},onReload:function(t,e){this.control2&&this.domElem.is(e.widget.$().parent())&&(this.control2&&this.control2.domElem&&BEM.DOM.destruct(this.control2.domElem),this.control2=null,this.createControl())},createControl:function(){if(!this.hasMod("empty","yes")&&(this.control2&&!this.control2.domElem&&(this.control2=null),!this.control2)){var t,e=this.getId(),i=this.getInstance(),n={};i?t=(n=i.params).havePrefsFrom&&n.isWidgetWorkNormal:(t=this.params.showPrefs&&-1===["_afisha","_teaser","_geo","_stream_now","_covid","_covid_isolation","_covid_speed"].indexOf(e),n.prefsUrl="/?widget_edit=1#open="+this.params.id,("_services"===e&&home.getData("widgets.disable_services_prefs")||"_weather"===e&&home.getData("widgets.disable_weather_prefs"))&&(t=null)),this.control2=BEM.blocks["widget-control"].create(this.domElem,{name:this.params.id.replace(/^_/,"").replace(/-.+$/,""),statName:this.params.isWidgetList?"custom_widget":void 0,hidden:this.hasMod("collapsed","yes"),items:{hide:!this.params.isWidgetList,settings:t,settingsHref:n.prefsUrl,remove:this.params.isWidgetList},customItems:this._getMenuCustomItems()}),this.control2.on({settings:function(t,e){e&&e.item&&e.item[0]&&"A"===e.item[0].tagName||this.showPrefs()},remove:this.remove,hide:this._toggle.bind(this,!1),show:this._toggle.bind(this,!0)},this)}},_getMenuCustomItems:function(){return[]},createDrag:function(){return this.elem("drag").length||(this.domElem.append('<div class="widget__drag"></div>'),this.dropElemCache("drag")),this.elem("drag")},getInstance:function(){return this._instance},getId:function(){return this.params.id||this.getInstance().id},markChanged:function(t,e){var i=this.getInstance();i&&i.markChanged(t,e),e&&(this.tuned=!0,this.channel("widget").trigger("tuned",{type:"tuned",elem:this}))},remove:function(){this.hasMod("drag","on")?this.setMod("removed","yes"):this.setMod("state","remove"),this.channel("widget").trigger("remove",{id:this.getId(),widget:this})},showPrefs:function(){return this.__self.queryPrefs(this),!1},reload:function(){location.reload()},_toggle:function(t){this.toggleMod("collapsed","yes",!t),BEM.blocks["i-reposition-event"].trigger()}},{live:function(){return this.liveBindTo("force-remove","pointerclick",(function(){this.setMod("removed","yes")})),this.liveBindTo("remove","pointerclick",(function(){this.remove()})),this.liveBindTo("prefs","pointerclick",(function(){this.showPrefs()})),!1},queryPrefs:function(t){var e=this.getPrefsPopup();e&&e.show(t,(function(){this.reload(),BEM.channel("widget").trigger("settingsSaved")}))},getRmPopup:function(){return this.rmPopup||(this.rmPopup=$(".b-wdgt-remove").bem("b-wdgt-remove")),this.rmPopup},getPrefsPopup:function(){if(!this.prefsPopup){var t=$(".b-wdgt-preferences");t.length&&(this.prefsPopup=t.bem("b-wdgt-preferences"))}return this.prefsPopup}})},"fA+c":function(t,e){!function(){"use strict";var t,e=!1,i=[];home.pseudoReady=function(n){e?setTimeout(n,0):(i.push(n),t||(t=setTimeout((function o(){if(document.body&&home["export"]){e=!0;for(var t=0;t<i.length;++t)setTimeout(i[t],0)}else setTimeout(o,100)}),100)))}}()},fJT3:function(t,e){BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some((function(e){return this[e]===t}),this)}})},fLeA:function(t,e){var i;i=Array.prototype.slice,Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=i.call(arguments,1);return function(){return e.apply(t,n.concat(i.call(arguments)))}})},fRV1:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"==typeof window&&(i=window)}t.exports=i},fUSH:function(t,e){$(document).ready((function(){var t=home&&home.getData&&home.getData("yandcache.data");t&&window.setTimeout((function(){var e=document.createElement("script");e.src=t.url,document.getElementsByTagName("head")[0].appendChild(e)}),t.timeout)}))},fje4:function(t,e){MBEM.decl("mini-suggest",{_shouldAddContentInfoArrow:function(t){return this.__base.apply(this,arguments)||t[5]&&"mt"===t[5].type}})},fpIa:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this._hasTabChange=MBEM.cls.contains(this.domElem,"mini-suggest_tab-change_yes"),this._tabChange=!1,this.__base.apply(this,arguments)},_showPopup:function(){this._tabChange||this.__base.apply(this,arguments)},_onInput:function(){this._tabChange=!1,this.__base.apply(this,arguments)},_bindHandlers:function(){if(this.__base.apply(this,arguments),this._hasTabChange){var t=!0;$(window).on("focus",function(){var e;try{e=document.activeElement}catch(i){}t||(t=!0,e===this._input&&(this._tabChange=!0),this._hidePopup())}.bind(this)).on("blur",function(){t=!1,this._hidePopup()}.bind(this)),this.bindTo(this._input,"click",(function(){this._tabChange&&(this._tabChange=!1,this._checkAndShowPopup())}))}}})},gBLq:function(t,e){BEM.DOM.declMix("mix-tabber-labels-preloader",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","mouseover mouseout",(function(t){var e=t.data.domElem.data("key");String(e)!==String(this._selectedKey)&&(clearTimeout(this._tabPreloadTimer),"mouseover"!==t.type||this._panels[e]||(this._tabPreloadTimer=setTimeout(function(){this._loadDataWrapped(e)["catch"]((function(){}))}.bind(this),200)))}))}})},ggkB:function(t,e){BEM.decl("i-voice",{},{startRecognize:function(t){var e=window.yandex&&window.yandex.messenger&&window.yandex.messenger.isPanelEnabled,i=this.__base.bind(this,t);t&&t.useAlice&&e?e((function(t){t?(window.yandex.messenger.openView("#dialogs/alice"),window.yandex.speechkit.startRecognition()):i()})):i()}})},gitU:function(t,e){MBEM.arrayFrom=function(t){return Array.prototype.slice.call(t)}},gm0g:function(t,e){BEM.DOM.decl("zen-lib",{_runIncludedLoader:function(){return window.YandexZen=window.YandexZen||{},window.YandexZen.loader=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=71)}([function(t,e,i){"use strict";var n=i(45),o={};o[i(1)("toStringTag")]="z",o+""!="[object z]"&&i(13)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(t,e,i){var n=i(34)("wks"),o=i(22),s=i(2).Symbol,r="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=r&&s[t]||(r?s:o)("Symbol."+t))}).store=n},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var n=i(7);n(n.S+n.F,"Object",{assign:i(86)})},function(t,e,i){var n=i(9);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){t.exports=!i(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(2),o=i(15),s=i(17),r=i(13),a=i(23),c=function l(t,e,i){var c,h,d,u,m=t&l.F,p=t&l.G,f=t&l.P,_=t&l.B,g=p?n:t&l.S?n[e]||(n[e]={}):(n[e]||{}).prototype,v=p?o:o[e]||(o[e]={}),b=v.prototype||(v.prototype={});for(c in p&&(i=e),i)d=((h=!m&&g&&void 0!==g[c])?g:i)[c],u=_&&h?a(d,n):f&&"function"==typeof d?a(Function.call,d):d,g&&r(g,c,d,t&l.U),v[c]!=d&&s(v,c,u),f&&b[c]!=d&&(b[c]=d)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,i){var n=i(4),o=i(53),s=i(36),r=Object.defineProperty;e.f=i(5)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),o)try{return r(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";var n,o,s,r,a=i(21),c=i(2),l=i(23),h=i(45),d=i(7),u=i(9),m=i(24),p=i(87),f=i(88),_=i(92),g=i(64).set,v=i(94)(),b=i(65),y=i(95),w=i(96),k=i(97),E=c.TypeError,M=c.process,x=M&&M.versions,T=x&&x.v8||"",C=c.Promise,S="process"==h(M),B=function(){},I=o=b.f,P=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[i(1)("species")]=function(t){t(B,B)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(B)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),D=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;v((function(){for(var n=t._v,o=1==t._s,s=0,r=function(e){var i,s,r,a=o?e.ok:e.fail,c=e.resolve,l=e.reject,h=e.domain;try{a?(o||(2==t._h&&A(t),t._h=1),!0===a?i=n:(h&&h.enter(),i=a(n),h&&(h.exit(),r=!0)),i===e.promise?l(E("Promise-chain cycle")):(s=D(i))?s.call(i,c,l):c(i)):l(n)}catch(d){h&&!r&&h.exit(),l(d)}};i.length>s;)r(i[s++]);t._c=[],t._n=!1,e&&!t._h&&j(t)}))}},j=function(t){g.call(c,(function(){var e,i,n,o=t._v,s=R(t);if(s&&(e=y((function(){S?M.emit("unhandledRejection",o,t):(i=c.onunhandledrejection)?i({promise:t,reason:o}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",o)})),t._h=S||R(t)?2:1),t._a=void 0,s&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},A=function(t){g.call(c,(function(){var e;S?M.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},N=function L(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw E("Promise can't be resolved itself");(e=D(t))?v((function(){var n={_w:i,_d:!1};try{e.call(t,l(L,n,1),l(F,n,1))}catch(s){F.call(n,s)}})):(i._v=t,i._s=1,O(i,!1))}catch(o){F.call({_w:i,_d:!1},o)}}};P||(C=function(t){p(this,C,"Promise","_h"),m(t),n.call(this);try{t(l(N,this,1),l(F,this,1))}catch(e){F.call(this,e)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(98)(C.prototype,{then:function(t,e){var i=I(_(this,C));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=S?M.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},"catch":function(t){return this.then(void 0,t)}}),s=function(){var t=new n;this.promise=t,this.resolve=l(N,t,1),this.reject=l(F,t,1)},b.f=I=function(t){return t===C||t===r?new s(t):o(t)}),d(d.G+d.W+d.F*!P,{Promise:C}),i(29)(C,"Promise"),i(66)("Promise"),r=i(15).Promise,d(d.S+d.F*!P,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!P),"Promise",{resolve:function(t){return k(a&&this===r?C:this,t)}}),d(d.S+d.F*!(P&&i(99)((function(t){C.all(t)["catch"](B)}))),"Promise",{all:function(t){var e=this,i=I(e),n=i.resolve,o=i.reject,s=y((function(){var i=[],s=0,r=1;f(t,!1,(function(t){var a=s++,c=!1;i.push(void 0),r++,e.resolve(t).then((function(t){c||(c=!0,i[a]=t,--r||n(i))}),o)})),--r||n(i)}));return s.e&&o(s.v),i.promise},race:function(t){var e=this,i=I(e),n=i.reject,o=y((function(){f(t,!1,(function(t){e.resolve(t).then(i.resolve,n)}))}));return o.e&&n(o.v),i.promise}})},function(t,e,i){"use strict";var n=i(7),o=i(56)(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(63)("includes")},function(t,e,i){"use strict";var n=i(63),o=i(100),s=i(32),r=i(18);t.exports=i(67)(Array,"Array",(function(t,e){this._t=r(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var n=i(2),o=i(17),s=i(16),r=i(22)("src"),a=Function.toString,c=(""+a).split("toString");i(15).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,i,a){var l="function"==typeof i;l&&(s(i,"name")||o(i,"name",e)),t[e]!==i&&(l&&(s(i,r)||o(i,r,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=i:a?t[e]?t[e]=i:o(t,e,i):(delete t[e],o(t,e,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[r]||a.call(this)}))},function(t,e,i){"use strict";var n=i(7),o=i(84);n(n.P+n.F*i(85)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(8),o=i(28);t.exports=i(5)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(55),o=i(25);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(54),o=i(39);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=!1},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(24);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(31),o=i(19);i(105)("keys",(function(){return function(t){return o(n(t))}}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(8).f,o=i(16),s=i(1)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){i(43)("match",1,(function(t,e,i){return[function(i){"use strict";var n=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},i]}))},function(t,e,i){var n=i(25);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports={}},function(t,e,i){"use strict";i(107);var n=i(4),o=i(47),s=i(5),r=/./.toString,a=function(t){i(13)(RegExp.prototype,"toString",t,!0)};i(6)((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?a((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)})):"toString"!=r.name&&a((function(){return r.call(this)}))},function(t,e,i){var n=i(15),o=i(2),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(21)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(9),o=i(2).document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var n=i(9);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(34)("keys"),o=i(22);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(54),o=i(39).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(7),o=i(61)(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},function(t,e,i){"use strict";var n=i(17),o=i(13),s=i(6),r=i(25),a=i(1);t.exports=function(t,e,i){var c=a(t),l=i(r,c,""[t]),h=l[0],d=l[1];s((function(){var e={};return e[c]=function(){return 7},7!=""[t](e)}))&&(o(String.prototype,t,h),n(RegExp.prototype,c,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},function(t,e,i){var n=i(9),o=i(20),s=i(1)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},function(t,e,i){var n=i(20),o=i(1)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(i){}}(e=Object(t),o))?i:s?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,i){var n=i(8).f,o=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in o||i(5)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(4);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n,o,s;void 0===(o="function"==typeof(n=s=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}return function e(i){function n(e,o,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=t({path:"/"},n.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(_){}o=i.write?i.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in s)s[l]&&(c+="; "+l,!0!==s[l]&&(c+="="+s[l]));return document.cookie=e+"="+o+c}e||(r={});for(var h=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<h.length;u++){var m=h[u].split("="),p=m.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var f=m[0].replace(d,decodeURIComponent);if(p=i.read?i.read(p,f):i(p,f)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(_){}if(e===f){r=p;break}e||(r[f]=p)}catch(_){}}return r}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}((function(){}))})?n.call(e,i,e,t):n)||(t.exports=o),t.exports=s()},,function(t,e,i){"use strict";i.r(e);var n="function"==typeof fetch?fetch.bind():function(t,e){return e=e||{},new Promise((function(i,n){var o=new XMLHttpRequest;for(var s in o.open(e.method||"get",t),e.headers)o.setRequestHeader(s,e.headers[s]);function r(){var t,e=[],i=[],n={};return o.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,(function(o,s,r){e.push(s=s.toLowerCase()),i.push([s,r]),t=n[s],n[s]=t?t+","+r:r})),{ok:1==(o.status/200|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:r,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return e})),entries:function(){return i},get:function(t){return n[t.toLowerCase()]},has:function(t){return t.toLowerCase()in n}}}}o.withCredentials="include"==e.credentials,o.onload=function(){i(r())},o.onerror=n,o.send(e.body)}))};e["default"]=n},function(t,e,i){var n=i(2),o=i(15),s=i(21),r=i(52),a=i(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e,i){e.f=i(1)},function(t,e,i){t.exports=!i(5)&&!i(6)((function(){return 7!=Object.defineProperty(i(35)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(16),o=i(18),s=i(56)(!1),r=i(38)("IE_PROTO");t.exports=function(t,e){var i,a=o(t),c=0,l=[];for(i in a)i!=r&&n(a,i)&&l.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~s(l,i)||l.push(i));return l}},function(t,e,i){var n=i(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(18),o=i(57),s=i(79);t.exports=function(t){return function(e,i,r){var a,c=n(e),l=o(c.length),h=s(r,l);if(t&&i!=i){for(;l>h;)if((a=c[h++])!=a)return!0}else for(;l>h;h++)if((t||h in c)&&c[h]===i)return t||h||0;return!t&&-1}}},function(t,e,i){var n=i(37),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(4),o=i(81),s=i(39),r=i(38)("IE_PROTO"),a=function(){},c=function(){var t,e=i(35)("iframe"),n=s.length;for(e.style.display="none",i(59).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[s[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[r]=t):i=c(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(2).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(26),o=i(28),s=i(18),r=i(36),a=i(16),c=i(53),l=Object.getOwnPropertyDescriptor;e.f=i(5)?l:function(t,e){if(t=s(t),e=r(e,!0),c)try{return l(t,e)}catch(i){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(19),o=i(18),s=i(26).f;t.exports=function(t){return function(e){for(var i,r=o(e),a=n(r),c=a.length,l=0,h=[];c>l;)s.call(r,i=a[l++])&&h.push(t?[i,r[i]]:r[i]);return h}}},function(t,e){!function(e){"use strict";var i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var h="suspendedStart",d="suspendedYield",u="executing",m="completed",p={},f={};f[s]=function(){return this};var _=Object.getPrototypeOf,g=_&&_(_(I([])));g&&g!==i&&n.call(g,s)&&(f=g);var v=E.prototype=w.prototype=Object.create(f);k.prototype=v.constructor=E,E.constructor=k,E[a]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},l.awrap=function(t){return{__await:t}},M(x.prototype),x.prototype[r]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,i,n){var o=new x(b(t,e,i,n));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},M(v),v[a]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return r.type="throw",r.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],r=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),S(i),p}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;S(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}}}function b(t,e,i,n){var o=e&&e.prototype instanceof w?e:w,s=Object.create(o.prototype),r=new B(n||[]);return s._invoke=function(t,e,i){var n=h;return function(o,s){if(n===u)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw s;return{value:void 0,done:!0}}for(i.method=o,i.arg=s;;){var r=i.delegate;if(r){var a=T(r,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=u;var c=y(t,e,i);if("normal"===c.type){if(n=i.done?m:d,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=m,i.method="throw",i.arg=c.arg)}}}(t,i,r),s}function y(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function w(){}function k(){}function E(){}function M(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(i,o){function s(){return new Promise((function(e,s){!function r(e,i,o,s){var a=y(t[e],t,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(a.arg)}(i,o,e,s)}))}return e=e?e.then(s,s):s()}}function T(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=y(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,i){var n=i(1)("unscopables"),o=Array.prototype;null==o[n]&&i(17)(o,n,{}),t.exports=function(t){o[n][t]=!0}},function(t,e,i){var n,o,s,r=i(23),a=i(93),c=i(59),l=i(35),h=i(2),d=h.process,u=h.setImmediate,m=h.clearImmediate,p=h.MessageChannel,f=h.Dispatch,_=0,g={},v=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){v.call(t.data)};u&&m||(u=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return g[++_]=function(){a("function"==typeof t?t:Function(t),e)},n(_),_},m=function(t){delete g[t]},"process"==i(20)(d)?n=function(t){d.nextTick(r(v,t,1))}:f&&f.now?n=function(t){f.now(r(v,t,1))}:p?(s=(o=new p).port2,o.port1.onmessage=b,n=r(s.postMessage,s,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),v.call(t)}}:function(t){setTimeout(r(v,t,1),0)}),t.exports={set:u,clear:m}},function(t,e,i){"use strict";var n=i(24);function o(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)}t.exports.f=function(t){return new o(t)}},function(t,e,i){"use strict";var n=i(2),o=i(8),s=i(5),r=i(1)("species");t.exports=function(t){var e=n[t];s&&e&&!e[r]&&o.f(e,r,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(21),o=i(7),s=i(13),r=i(17),a=i(32),c=i(101),l=i(29),h=i(102),d=i(1)("iterator"),u=!([].keys&&"next"in[].keys()),m=function(){return this};t.exports=function(t,e,i,p,f,_,g){c(i,e,p);var v,b,y,w=function(t){if(!u&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=e+" Iterator",E="values"==f,M=!1,x=t.prototype,T=x[d]||x["@@iterator"]||f&&x[f],C=T||w(f),S=f?E?w("entries"):C:void 0,B="Array"==e&&x.entries||T;if(B&&(y=h(B.call(new t)))!==Object.prototype&&y.next&&(l(y,k,!0),n||"function"==typeof y[d]||r(y,d,m)),E&&T&&"values"!==T.name&&(M=!0,C=function(){return T.call(this)}),n&&!g||!u&&!M&&x[d]||r(x,d,C),a[e]=C,a[k]=m,f)if(v={values:E?C:w("values"),keys:_?C:w("keys"),entries:S},g)for(b in v)b in x||s(x,b,v[b]);else o(o.P+o.F*(u||M),e,v);return v}},function(t,e,i){"use strict";var n=i(7),o=i(24),s=i(31),r=i(6),a=[].sort,c=[1,2,3];n(n.P+n.F*(r((function(){c.sort(void 0)}))||!r((function(){c.sort(null)}))||!i(106)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),o(t))}})},function(t,e,i){var n=i(9),o=i(4),s=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(23)(Function.call,i(60).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},function(t,e,i){i(43)("split",2,(function(t,e,n){"use strict";var o=i(44),s=n,r=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!o(t))return s.call(i,t,e);var n,c,l,h,d,u=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=void 0===e?4294967295:e>>>0,_=new RegExp(t.source,m+"g");for(a||(n=new RegExp("^"+_.source+"$(?!\\s)",m));(c=_.exec(i))&&!((l=c.index+c[0].length)>p&&(u.push(i.slice(p,c.index)),!a&&c.length>1&&c[0].replace(n,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(c[d]=void 0)})),c.length>1&&c.index<i.length&&r.apply(u,c.slice(1)),h=c[0].length,p=l,u.length>=f));)_.lastIndex===c.index&&_.lastIndex++;return p===i.length?!h&&_.test("")||u.push(""):u.push(i.slice(p)),u.length>f?u.slice(0,f):u}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function(i,o){var s=t(this),r=null==i?void 0:i[e];return void 0!==r?r.call(i,s,o):n.call(String(s),i,o)},n]}))},function(t,e,i){i(72),i(73),t.exports=i(112)},function(t,e,i){window.fetch||(window.fetch=i(50)["default"]||i(50))},function(t,e,i){"use strict";i.r(e),i(74)},function(t,e){var i=window,n=function(t,e,n,o){var s,r=i.document,a=r.createElement("link");if(e)s=e;else{var c=(r.body||r.getElementsByTagName("head")[0]).childNodes;s=c[c.length-1]}var l=r.styleSheets;a.rel="stylesheet",a.href=t,a.media="only x",function u(t){if(r.body)return t();setTimeout((function(){u(t)}))}((function(){s.parentNode.insertBefore(a,e&&!o?s:s.nextSibling)}));var h=function m(t){for(var e=a.href,i=l.length;i--;)if(l[i].href===e)return t();setTimeout((function(){m(t)}))};function d(){a.addEventListener&&a.removeEventListener("load",d),a.media=n||"all"}return a.addEventListener&&a.addEventListener("load",d),a.onloadcssdefined=h,h(d),a};i.loadCSS=n;var o=n.relpreload={};if(o.support=function(){try{return i.document.createElement("link").relList.supports("preload")}catch(t){return!1}},o.poly=function(){for(var t=i.document.getElementsByTagName("link"),e=0;e<t.length;e++){var n=t[e];"preload"===n.rel&&"style"===n.getAttribute("as")&&(i.loadCSS(n.href,n,n.getAttribute("media")),n.rel=null)}},!o.support()){o.poly();var s=i.setInterval(o.poly,300);i.addEventListener&&i.addEventListener("load",(function(){o.poly(),i.clearInterval(s)})),i.attachEvent&&i.attachEvent("onload",(function(){i.clearInterval(s)}))}},function(t,e,i){i(51)("asyncIterator")},function(t,e,i){"use strict";var n=i(2),o=i(16),s=i(5),r=i(7),a=i(13),c=i(77).KEY,l=i(6),h=i(34),d=i(29),u=i(22),m=i(1),p=i(52),f=i(51),_=i(78),g=i(80),v=i(4),b=i(9),y=i(18),w=i(36),k=i(28),E=i(58),M=i(82),x=i(60),T=i(8),C=i(19),S=x.f,B=T.f,I=M.f,P=n.Symbol,D=n.JSON,O=D&&D.stringify,j=m("_hidden"),R=m("toPrimitive"),A={}.propertyIsEnumerable,F=h("symbol-registry"),N=h("symbols"),L=h("op-symbols"),U=Object.prototype,H="function"==typeof P,z=n.QObject,W=!z||!z.prototype||!z.prototype.findChild,$=s&&l((function(){return 7!=E(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=S(U,e);n&&delete U[e],B(t,e,i),n&&t!==U&&B(U,e,n)}:B,V=function(t){var e=N[t]=E(P.prototype);return e._k=t,e},q=H&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},K=function nt(t,e,i){return t===U&&nt(L,e,i),v(t),e=w(e,!0),v(i),o(N,e)?(i.enumerable?(o(t,j)&&t[j][e]&&(t[j][e]=!1),i=E(i,{enumerable:k(0,!1)})):(o(t,j)||B(t,j,k(1,{})),t[j][e]=!0),$(t,e,i)):B(t,e,i)},Y=function(t,e){v(t);for(var i,n=_(e=y(e)),o=0,s=n.length;s>o;)K(t,i=n[o++],e[i]);return t},G=function(t){var e=A.call(this,t=w(t,!0));return!(this===U&&o(N,t)&&!o(L,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,j)&&this[j][t])||e)},Z=function(t,e){if(t=y(t),e=w(e,!0),t!==U||!o(N,e)||o(L,e)){var i=S(t,e);return!i||!o(N,e)||o(t,j)&&t[j][e]||(i.enumerable=!0),i}},X=function(t){for(var e,i=I(y(t)),n=[],s=0;i.length>s;)o(N,e=i[s++])||e==j||e==c||n.push(e);return n},J=function(t){for(var e,i=t===U,n=I(i?L:y(t)),s=[],r=0;n.length>r;)!o(N,e=n[r++])||i&&!o(U,e)||s.push(N[e]);return s};H||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=u(arguments.length>0?arguments[0]:void 0),e=function i(e){this===U&&i.call(L,e),o(this,j)&&o(this[j],t)&&(this[j][t]=!1),$(this,t,k(1,e))};return s&&W&&$(U,t,{configurable:!0,set:e}),V(t)}).prototype,"toString",(function(){return this._k})),x.f=Z,T.f=K,i(41).f=M.f=X,i(26).f=G,i(40).f=J,s&&!i(21)&&a(U,"propertyIsEnumerable",G,!0),p.f=function(t){return V(m(t))}),r(r.G+r.W+r.F*!H,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)m(Q[tt++]);for(var et=C(m.store),it=0;et.length>it;)f(et[it++]);r(r.S+r.F*!H,"Symbol",{"for":function(t){return o(F,t+="")?F[t]:F[t]=P(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),r(r.S+r.F*!H,"Object",{create:function(t,e){return void 0===e?E(t):Y(E(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:J}),D&&r(r.S+r.F*(!H||l((function(){var t=P();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))}))),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(b(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!q(e))return e}),n[1]=e,O.apply(D,n)}}),P.prototype[R]||i(17)(P.prototype,R,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(t,e,i){var n=i(22)("meta"),o=i(9),s=i(16),r=i(8).f,a=0,c=Object.isExtensible||function(){return!0},l=!i(6)((function(){return c(Object.preventExtensions({}))})),h=function(t){r(t,n,{value:{i:"O"+ ++a,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[n].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!s(t,n)&&h(t),t}}},function(t,e,i){var n=i(19),o=i(40),s=i(26);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var r,a=i(t),c=s.f,l=0;a.length>l;)c.call(t,r=a[l++])&&e.push(r);return e}},function(t,e,i){var n=i(37),o=Math.max,s=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):s(t,e)}},function(t,e,i){var n=i(20);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(8),o=i(4),s=i(19);t.exports=i(5)?Object.defineProperties:function(t,e){o(t);for(var i,r=s(e),a=r.length,c=0;a>c;)n.f(t,i=r[c++],e[i]);return t}},function(t,e,i){var n=i(18),o=i(41).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(e){return r.slice()}}(t):o(n(t))}},function(t,e,i){var n=i(7),o=i(61)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},function(t,e,i){var n=i(44),o=i(25);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(t))}},function(t,e,i){var n=i(1)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(o){}}return!0}},function(t,e,i){"use strict";var n=i(19),o=i(40),s=i(26),r=i(31),a=i(55),c=Object.assign;t.exports=!c||i(6)((function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n}))?function(t,e){for(var i=r(t),c=arguments.length,l=1,h=o.f,d=s.f;c>l;)for(var u,m=a(arguments[l++]),p=h?n(m).concat(h(m)):n(m),f=p.length,_=0;f>_;)d.call(m,u=p[_++])&&(i[u]=m[u]);return i}:c},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(23),o=i(89),s=i(90),r=i(4),a=i(57),c=i(91),l={},h={};(e=t.exports=function(t,e,i,d,u){var m,p,f,_,g=u?function(){return t}:c(t),v=n(i,d,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(s(g)){for(m=a(t.length);m>b;b++)if((_=e?v(r(p=t[b])[0],p[1]):v(t[b]))===l||_===h)return _}else for(f=g.call(t);!(p=f.next()).done;)if((_=o(f,v,p.value,e))===l||_===h)return _}).BREAK=l,e.RETURN=h},function(t,e,i){var n=i(4);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(r){var s=t["return"];throw void 0!==s&&n(s.call(t)),r}}},function(t,e,i){var n=i(32),o=i(1)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[o]===t)}},function(t,e,i){var n=i(45),o=i(1)("iterator"),s=i(32);t.exports=i(15).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||s[n(t)]}},function(t,e,i){var n=i(4),o=i(24),s=i(1)("species");t.exports=function(t,e){var i,r=n(t).constructor;return void 0===r||null==(i=n(r)[s])?e:o(i)}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(2),o=i(64).set,s=n.MutationObserver||n.WebKitMutationObserver,r=n.process,a=n.Promise,c="process"==i(20)(r);t.exports=function(){var t,e,i,l=function(){var n,o;for(c&&(n=r.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(s){throw t?i():e=void 0,s}}e=void 0,n&&n.enter()};if(c)i=function(){r.nextTick(l)};else if(!s||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);i=function(){h.then(l)}}else i=function(){o.call(n,l)};else{var d=!0,u=document.createTextNode("");new s(l).observe(u,{characterData:!0}),i=function(){u.data=d=!d}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,i()),e=o}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,i){var n=i(2).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){var n=i(4),o=i(9),s=i(65);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var i=s.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){var n=i(13);t.exports=function(t,e,i){for(var o in e)n(t,o,e[o],i);return t}},function(t,e,i){var n=i(1)("iterator"),o=!1;try{var s=[7][n]();s["return"]=function(){o=!0},Array.from(s,(function(){throw 2}))}catch(r){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var s=[7],a=s[n]();a.next=function(){return{done:i=!0}},s[n]=function(){return a},t(s)}catch(r){}return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(58),o=i(28),s=i(29),r={};i(17)(r,i(1)("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=n(r,{next:o(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(16),o=i(31),s=i(38)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,i){"use strict";var n=i(104)(!0);i(67)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})}))},function(t,e,i){var n=i(37),o=i(25);t.exports=function(t){return function(e,i){var s,r,a=String(o(e)),c=n(i),l=a.length;return c<0||c>=l?t?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===l||(r=a.charCodeAt(c+1))<56320||r>57343?t?a.charAt(c):s:t?a.slice(c,c+2):r-56320+(s-55296<<10)+65536}}},function(t,e,i){var n=i(7),o=i(15),s=i(6);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*s((function(){i(1)})),"Object",r)}},function(t,e,i){"use strict";var n=i(6);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,i){i(5)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(47)})},function(t,e,i){var n=i(7);n(n.S,"Object",{setPrototypeOf:i(69).set})},function(t,e,i){i(43)("replace",2,(function(t,e,i){return[function(n,o){"use strict";var s=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,s,o):i.call(String(s),n,o)},i]}))},function(t,e,i){var n=i(2),o=i(111),s=i(8).f,r=i(41).f,a=i(44),c=i(47),l=n.RegExp,h=l,d=l.prototype,u=/a/g,m=/a/g,p=new l(u)!==u;if(i(5)&&(!p||i(6)((function(){return m[i(1)("match")]=!1,l(u)!=u||l(m)==m||"/a/i"!=l(u,"i")})))){l=function(t,e){var i=this instanceof l,n=a(t),s=void 0===e;return!i&&n&&t.constructor===l&&s?t:o(p?new h(n&&!s?t.source:t,e):h((n=t instanceof l)?t.source:t,n&&s?c.call(t):e),i?this:d,l)};for(var f=function(t){t in l||s(l,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},_=r(h),g=0;_.length>g;)f(_[g++]);d.constructor=l,l.prototype=d,i(13)(n,"RegExp",l)}i(66)("RegExp")},function(t,e,i){var n=i(9),o=i(69).set;t.exports=function(t,e,i){var s,r=e.constructor;return r!==i&&"function"==typeof r&&(s=r.prototype)!==i.prototype&&n(s)&&o&&o(t,s),t}},function(t,e,i){"use strict";function n(t,e,i,n,o,s,r){try{var a=t[s](r),c=a.value}catch(l){return void i(l)}a.done?e(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(o,s){var r=t.apply(e,i);function a(t){n(r,o,s,a,c,"next",t)}function c(t){n(r,o,s,a,c,"throw",t)}a(void 0)}))}}i.r(e),i(75),i(76),i(83),i(62),i(42),i(30),i(11),i(14),i(3),i(10),i(12),i(0),i(103);var s=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){(this._events[t]||(this._events[t]=[])).push(e)},e.off=function(t,e){var i=this._events[t];if(i){var n=i.indexOf(e);n>=0&&i.splice(n,1)}},e.once=function(t,e){var i=this;this.on(t,e),this.on(t,(function n(){i.off(t,e),i.off(t,n)}))},e.subscribe=function(t,e){var i=this;return this.on(t,e),function(){i.off(t,e)}},e.emit=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=this._events[t];o&&o.slice().forEach((function(t){t.apply(void 0,i)}))},t}(),r=function(t){var e=t.source,i=t.container;return new Promise((function(t,n){var o,s=document.createElement("link");s.rel="stylesheet",s.href=e,s.media="inapplicable",s.onload=function(){s.media="all",t(s)},s.onerror=function(){i.removeChild(s),n(new Error("Failed to load css: '"+e+"'."))},o=function(){return i.appendChild(s)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function r(){document.removeEventListener("DOMContentLoaded",r),o()})):o()}))},a=function(t){var e=t.source,i=t.container,n=t.asyncAttr,o=void 0===n||n,s=t.defer,r=void 0!==s&&s;return new Promise((function(t,n){var s=document.createElement("script");s.src=e,s.async=o,s.defer=r,s.crossOrigin="anonymous",s.onload=function(){t(s)},s.onerror=function(){i.removeChild(s),n(new Error("Failed to load script: '"+e+"'."))},i.appendChild(s)}))},c=function(t){return"/"===t[t.length-1]?t.slice(0,-1):t},l=function(t){var e=t.staticBase,i=t.appName,n=t.bundleName,o=t.target,s=t.lang,r=t.bundleSuffix,a=void 0===r?"":r;return c(e)+"/"+i+"/"+function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(Boolean).join(".")}(n+a,o,s,"bundle","js")},h=function(t){var e=t.staticHost,i=t.version;return c(e)+(i?"/"+i:"")},d=function(t){var e=t.YandexZen&&t.YandexZen.app;if(!e)throw new Error("App has not been loaded correctly.");return e};function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,i){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return i&&p(o,i.prototype),o}).apply(null,arguments)}function _(t){var e="function"==typeof Map?new Map:void 0;return(_=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return f(t,arguments,m(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,t)})(t)}i(70),i(27);var g,v,b,y,w=function(t){try{return decodeURIComponent(t)}catch(e){return null}},k=/[?&]([^&#]*)/,E=function(t,e){var i=Object.assign({},function(t){var e={},i=t.indexOf("?");if(-1===i)return e;for(var n=i;;){var o=t.slice(n).match(k);if(!o)break;n+=o[0].length;var s=o[1].split("="),r=s[0],a=s[1];if(r&&a){var c=w(r),l=w(a);c&&l&&(e[c]=l)}}return e}(t),e),n=t.indexOf("?"),o=t.indexOf("#"),s=-1!==o?o:t.length,r=-1!==n?n:s;return t.slice(0,r)+function(t){var e,i=(e=t,Object.keys(e));return 0===i.length?"":i.reduce((function(e,i){var n=t[i];return i&&void 0!==n?e+(0===e.length?"?":"&")+encodeURIComponent(i)+"="+encodeURIComponent(n):e}),"")}(i)+t.slice(s)},M=function(t){var e=t.ok,i=t.url,n=t.status,o=t.statusText;if(!e)throw new Error(i+" "+n+" ("+o+")");return function(t){var e=t.headers.get("Content-Type");return e&&-1!==e.indexOf("application/json")?t.json():t.text()}(t)},x=function(t,e){void 0===e&&(e={});var i=e,n=i.params,o=i.timeout,s=void 0===o?6e4:o,r=i.credentials,a=void 0===r?"include":r,c=function(t,e){if(null==t)return{};var i,n,o={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(i,["params","timeout","credentials"]),l=n?E(t,n):t;return new Promise((function(t,e){fetch(l,Object.assign({credentials:a},c)).then(M).then(t,e),function(t){return new Promise((function(e){setTimeout(e,t)}))}(s).then((function(){e(new Error("Request timeout."))}))}))},T=function(t,e){return void 0===e&&(e={}),x(t,Object.assign({},e,{method:"GET",params:Object.assign({},e.params||{},{rnd:String(Date.now())})}))},C=function(t){void 0===t&&(t={});var e=Object.assign({Accept:"application/json"},t.headers),i=t.method,n=void 0===i?"POST":i,o=t.body;return e["Content-Type"]||(e["Content-Type"]="application/json",o&&"string"!=typeof o&&(o=JSON.stringify(o))),Object.assign({},t,{method:n,headers:e,body:o})},S=function(t,e){return void 0===e&&(e={}),x(t,C(e))},B=function(t,e){return void 0===e&&(e={}),x(t,C(e))};!function(t){t.PackShown="packShown",t.BulkEventLogged="bulkEventLogger",t.ApiResponseTtlExpired="apiResponseTtlExpired",t.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",t.NotShownPackUpdated="notShownPackUpdated",t.LastShownPackUpdated="lastShownPackUpdated",t.UpdatePreload="updatePreload"}(g||(g={})),function(t){t.Export="export",t.Layout="layout",t.More="more",t.Bulk="bulk",t.Subs="subs",t.Profile="profile",t.CountryLang="language",t.Blocked="blocked",t.Preferences="preferences",t.Subscribers="subscribers",t.Category="category",t.Categories="categories",t.Suggest="suggest",t.Multisearch="multisearch",t.BlockedSuggest="blocked_suggest",t.VideoRecommend="video_recommend",t.VideoRelated="video_related",t.VideoFeed="video_more",t.GetVideoViewerData="get_video_popup_data",t.PublisherConfig="publisher_config",t.CommentsCounter="comments_counter",t.SendAppLinkSms="send_app_link_sms",t.SocialProfile="social_profile",t.SocialActivityFeed="social_activity_feed",t.SocialProfileEdit="social_profile_edit",t.ProfileCompleteOnboarding="profile_complete_onboarding",t.ProfileDeactivate="profile_deactivate",t.ProfileCancelDeactivate="profile_cancel_deactivate",t.AllChannelsLink="all_channels_link",t.CurrentUserInterests="current-user-interests",t.CurrentUserSubscriptions="current-user-subscriptions",t.Teasers="teasers",t.SupportLink="support_link"}(v||(v={})),function(t){t.SessionCache="cacheStorage",t.MultiSessionCache="multiCacheStorage"}(b||(b={})),function(t){t.Network="network",t.CacheBeforeNetwork="cache-before-network",t.CacheAfterNetwork="cache-after-network"}(y||(y={})),v.Export,v.More,Boolean(!1),Object.keys(v).reduce((function(t,e){return t[e]=null,t}),{}),b.SessionCache,(I={})[v.Export]="export",I[v.VideoFeed]="video-more",I[v.Layout]="layout",I[v.Teasers]="teasers",I[v.PublisherConfig]="publisher-config",I[v.CurrentUserSubscriptions]="current-user-subscriptions",{}[v.CurrentUserInterests]="api/social/current-user-interests",_(Error),_(Error);var I,P=function(t,e,i){var n=function(t,e){var i,n,o,s,r,a=t.method,c=t.params,l=t.mode,h=t.headers,d={params:c,headers:Object.assign({},e?(i=e,n=i.userInfo,o=i.zenFeatures,s=i.clientExperiments,r={},n&&n.oauthToken&&(r.Authorization="OAuth "+n.oauthToken),Object.keys(o||{}).length>0&&(r["Zen-Features"]=JSON.stringify(o)),r["Zen-Client-Experiments"]=["zen-version:2.1326.0"].concat(Array.isArray(s)&&s.length>0?s:[]).join(", "),r["X-ZenLib-Version"]="2.1326.0",r):{},h),mode:l,method:a};return t.body?Object.assign({},d,{body:t.body}):d}(e,i),o=n.method,s=n.body,r=D(o,s);return O(r)(t,n)},D=function(t,e){return t?e&&"GET"===t?"POST":t:e?"POST":"GET"},O=function(t){switch(t){case"PUT":return B;case"POST":return S;case"GET":default:return T}},j=function(t){return"static"in t},R=(i(33),function(t){return"number"==typeof t}),A=function(t){return"boolean"==typeof t},F=function(t){return"string"==typeof t},N=function(t){return void 0===t},L=function(t){return null!==t&&"object"==typeof t},U=function(t){return Array.isArray(t)},H=function(t){return F(t)&&t.length>0};i(68),i(48);var z,W,$,V,q,K,Y=function(t){var e,i=t.oauthToken,n=t.login,o=t.deviceId,s=t.partnerId,r=t.profileId,a=t.yandexuid;return i||n||(e=("; "+document.cookie).match(/; yandex_login=([^;]*)/))&&e[1]||s||o||r||a||function(){var t=("; "+document.cookie).match(/; yandexuid=([^;]*)/);return t&&t[1]}()},G=function(t){var e=t.clid,i=t.host,n=t.lang,o=t.countryCode,s=t.tld,r=t.userInfo,a=t.exps,c=t.teethType,l=t.isAdblock;return{clid:e,host:i,countryCode:o,tld:s||"",lang:n,userId:Y(r||{})||"",exps:a,teethType:c,isAdblock:l}},Z=function(t){function e(e){return t.call(this,function(t){return"MultiformatCacheError: "+t}(e))||this}return u(e,t),e}(_(Error)),X=function(t){var e=t["static"],i=e.appRender,n=e.jsResources,o=e.cssResources,s=t.received_at;if(!(i&&n&&o&&s))throw new Z("Invalid cache record")},J=function(t,e){return N(t)&&N(e)},Q=function(t,e){return J(t,e)||F(t)&&F(e)&&t===e},tt=function(t,e){return J(t,e)||R(t)&&R(e)&&t===e},et=function(t,e){return J(t,e)||A(t)&&A(e)&&t===e},it=function(t,e){return J(t,e)||U(t)&&U(e)&&(n=e,(i=t).length===n.length&&i.reduce((function(t,e){return t&&n.includes(e)}),!0));var i,n},nt=function(t,e,i,n,o){void 0===n&&(n=Q),void 0===o&&(o=!0);var s=t[i],r=e[i];if(!n(s,r)){var a={"Validation param":i.toString()};throw o&&(a["Validation expected"]='"'+r+'":'+typeof r,a["Validation received"]='"'+s+'":'+typeof s),new wt("Validation error",void 0,a)}},ot="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),st=null,rt=function(t,e){return(ot?(st||(st=new Promise((function(t,e){var i=ot.open("zen-db",1);i.onerror=function(){e(i.error)},i.onupgradeneeded=function(){i.result.createObjectStore("zen-api-cache")},i.onsuccess=function(){t(i.result),i.result.onclose=function(){st=null}}}))),st):Promise.reject(new Error("indexedDB is not supported."))).then((function(i){return new Promise((function(n,o){var s=i.transaction("zen-api-cache",t);s.oncomplete=function(){n()},s.onerror=function(){o(s.error||new Error("IDB transaction error"))},e(s.objectStore("zen-api-cache"))}))}))},at={get:(K=o(regeneratorRuntime.mark((function ve(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Can't get value from null storage");case 1:case"end":return t.stop()}}),ve)}))),function(){return K.apply(this,arguments)}),put:(q=o(regeneratorRuntime.mark((function be(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),be)}))),function(){return q.apply(this,arguments)})},ct={get:function(t){return function(t){var e;return rt("readonly",(function(i){e=i.get(t)})).then((function(){return e.result}))}(t)},put:function(t,e){return function(t,e){return rt("readwrite",(function(i){i.put(e,t)}))}(t,e)},remove:function(t){return function(t){return rt("readwrite",(function(e){e["delete"](t)}))}(t)},isEnabled:function(){return Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB))},keys:function(){return(t=[],rt("readonly",(function(e){var i=e.openKeyCursor?e.openKeyCursor():e.openCursor();i.onsuccess=function(){i.result&&(t.push(i.result.key),i.result["continue"]())}})).then((function(){return t}))).then((function(t){var e=[];return t.forEach((function(t){F(t)&&e.push(t)})),e}));var t}};!function(t){t.GIF="gif"}(z||(z={})),function(t){t.Color="color",t.Color2="color2",t.WhiteFlat="white-flat",t.WhiteFlat2="white-flat-2",t.WhiteFlat3="white-flat-3",t.Grey="grey",t.Grey2="grey-2",t.DarkGrey="dark-grey",t.DarkGrey2="dark-grey-2",t.WhiteImage="white-image",t.WhiteImage2="white-image-2",t.White="white",t.Default="default"}(W||(W={})),function(t){t.bright="bright",t.black="black",t.white="white"}($||($={})),function(t){t.Feed="feed",t.Category="category",t.Categories="categories",t.Profile="profile",t.SwitchableSubs="switchable_subs",t.Suggest="suggest",t.Blocked="blocked",t.BlockedSuggest="blocked_suggest",t.VideoRecommend="video_recommend",t.VideoRelated="video_related",t.Preferences="preferences",t.Language="language",t.SendAppLinkSms="send_app_link_sms",t.CommentsCounter="comments_counter",t.GetVideoViewerData="get_video_popup_data"}(V||(V={}));var lt,ht,dt,ut,mt={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241,width:"undefined"!=typeof window?window.innerWidth:0,height:"undefined"!=typeof window?window.innerHeight:0},need_background_image:!0,color_theme:$.white,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","multisearch","blocked","preferences","subscribers","blocked_suggest","video_recommend","video_related","language","send_app_link_sms","comments_counter","comments_infos","social_profile","social_activity_feed","social_profile_edit","social_interests_feedback","profile_onboarding_shown","profile_complete_onboarding","profile_deactivate","profile_cancel_deactivate","get_video_popup_data","get_online_viewer_count","video_more"],stat_params_with_context:!0,carousel_support:!0},pt=function(t){var e=t.columnCount,i=t.rowPlaceholders,n=t.cardPlaceholders,o=t.theme,s=t.isVideoDisabled,r=t.screen,a=t.disabledYandexBlockIds,c=t.redesign,l=Object.assign({},mt,{row_placeholders:i,card_placeholders:n,color_theme:o,screen:{width:(null==r?void 0:r.width)||mt.screen.width,height:(null==r?void 0:r.height)||mt.screen.height,dpi:(null==r?void 0:r.dpi)||mt.screen.dpi},redesign:c});return s&&(l.no_videos=!0,delete l.video_providers),a&&(l.disabled_yandex_block_ids=a),e&&(l.column_count=e),l},ft=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(_(Error)),_t=function(t,e){return new Promise((function(i,n){t.then(i,n),setTimeout((function(){n(new ft("Request timeout."))}),e)}))},gt=function(t){window.localStorage.setItem("retries",JSON.stringify(t))},vt=function(){var t=[],e=window.localStorage.getItem("retries");if(!e)return t;try{var i=JSON.parse(e);return function(t){if(!Array.isArray(t))throw new Error}(i),i}catch(n){return console.error(n),t}},bt=function(t){return t.isCacheRecord=!0,t},yt=function(t){var e=t.args,i=t.cacheRecord,n=t.validateByStoreTtl,o=void 0!==n&&n;try{if(!i)throw new Error("No cache record");j(i)&&(X(i),function(t,e){var i=t.received_at,n=t["static"],o=n.ttl,s=n.storeTtl,r=1e3*(e?s:o);if(!(R(i)&&R(r)&&i+r>Date.now()))throw new Z("Invalid cache "+(e?"store-ttl":"ttl")+".")}(i,o),function(t,e){try{nt(t,e,"clid")}catch(i){nt(t,e,"clid",tt)}nt(t,e,"host"),nt(t,e,"lang"),nt(t,e,"countryCode"),nt(t,e,"tld"),nt(t,e,"userId"),nt(t,e,"teethType"),nt(t,e,"exps",it,!1),nt(t,e,"isAdblock",et)}(G(e.params),i.validationParams))}catch(s){throw e.outputBus.emit("invalidatePack"),s}return i},wt=function(t){function e(e,i,n,o){var s;return void 0===n&&(n={}),(s=t.call(this,e)||this).key=i,s.meta=n,s.type=o,s}return u(e,t),e.prototype.concat=function(t){for(var e in t.key&&(this.meta[t.key]=t.message),t.meta)this.meta[e]=t.meta[e]},e}(_(Error)),kt=function(t){var e=function(e){return void 0===e&&(e=!1),_t(function(e){return function(t,e){var i=t.params,n=i.host,o=i.clid,s=i.cache,r=i.staticHostname,a=i.exps,c=i.countryCode,l=i.tld,h=i.debugParams,d=i.exps,u=pt(i),m={"Zen-Features":JSON.stringify(u)};(null==s?void 0:s.precacheRid)&&(m["zen-request-id"]=null==s?void 0:s.precacheRid),e&&(m["X-Retry-Request"]="true");var p=d&&d.includes("zen_ssr_v2:exp"),f="501"===o,_={clid:o,key:null==s?void 0:s.precacheKey,staticHostname:r||"https://zen.yandex.ru/",countryCode:c,tld:l,debugParams:h,ssr:p?"v2":void 0,isNtp:f},g=n&&n.match(/^https:\/\/([^/]+)/);return g&&g[0]!==_.staticHostname&&(_.host=g[1]),function(t,e,i){var n=t.staticHostname,o=t.host,s=t.key,r=t.clid,a=t.countryCode,c=t.tld,l=t.debugParams,h=void 0===l?{}:l,d=t.ssr,u=t.isNtp,m=Object.assign({key:s,clid:r,host:o,country_code:a,tld:c,ssr:d},h);if(u){var p=E(n+"api/v3/launcher/export",m);return P(p,e,i).then((function(t){return{data:t,isCacheRecord:!1,received_at:Date.now()}}))}var f=E(n+"api/v3/launcher/export-cached",m);return P(f,e,i).then((function(t){return Object.assign({},t,{received_at:Date.now()})}))}(_,{headers:m},{clientExperiments:a})}(t,e).then((function(e){if(j(e)){var i=t.cache,n=t.outputBus;X(e),i.put(function(t,e){var i=t.params;return j(e)?Object.assign({},e,{validationParams:G(i)}):e}(t,e)),n.emit("renderCachePut",e)}return e}))}(e),15e3)["catch"]((function(e){var i,n=new wt(e.message,"Network",e.meta);throw e instanceof ft&&(n.type="timeout"),(null===(i=t.params.cache)||void 0===i?void 0:i.precacheRid)&&t.outputBus.emit("ssrSchemeFailed",n),n}))},i=t.params.retryBudget;return function(t){var e=t.windowSize,i=void 0===e?100:e,n=t.retryBudget,o=void 0===n?1:n,s=t.retryCharge,r=void 0===s?3:s,a=t.func,c=t.retryFunc,l=t.storeState,h=void 0===l?gt:l,d=t.loadState,u=void 0===d?vt:d,m=t.errorFilter,p=void 0===m?function(){return!0}:m,f=[];try{f=u()}catch(g){return console.error(g),a}var _=function(t){f.push(t),f.length===i&&f.shift(),h(f)};return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=!1,s=0,l=function(){return n?(++s,_(1)):(s=0,_(0)),n&&c?c.apply(void 0,e):a.apply(void 0,e)};return function h(){return l()["catch"]((function(t){if(f.reduce((function(t,e){return t+e}),0)/f.length*100<=o&&p(t)&&s<r)return n=!0,h();throw t}))}()}}({retryBudget:void 0===i?20:i,func:e,retryFunc:function(){return e(!0)},errorFilter:function(t){return t instanceof wt&&"timeout"===t.type}})()},Et=function(t){return t.cache.get().then((function(e){return yt({args:t,cacheRecord:e,validateByStoreTtl:!0})})).then((function(t){return bt(t)}))["catch"]((function(t){throw new wt(t.message,"Any cache",t.meta)}))},Mt=function(t){var e=new wt("Getting SSR cache error");return function(i){return t.reduce((function(t,n){return t["catch"]((function(t){return e.concat(t),n(i)}))}),Promise.reject(new wt))["catch"]((function(t){throw e.concat(t),e}))}},xt=Mt([function(t){return t.cache.get().then((function(e){return yt({args:t,cacheRecord:e})})).then((function(t){return bt(t)}))["catch"]((function(e){var i=new wt(e.message,"Fresh cache",e.meta);throw t.outputBus.emit("ssrSchemeFailed",i),i}))},kt,Et]),Tt=Mt([kt,Et]);!function(t){t.Chromium="chromium",t.Firefox="firefox",t.Edge="edge",t.Legacy="legacy",t.Node="node"}(ht||(ht={})),(lt={})[ht.Chromium]=["Chrome >= 55"],lt[ht.Firefox]=["Firefox >= 51"],lt[ht.Edge]=["Edge >= 13"],lt[ht.Legacy]=["Chrome >= 42","Firefox >= 45","Edge >= 12","IE >= 11","Android >= 4.4","iOS >= 7"],lt[ht.Node]=["Node >= 8"],ht.Chromium,ht.Chromium,ht.Chromium,ht.Firefox,ht.Edge,ht.Legacy,ht.Legacy,ht.Legacy,ht.Legacy,ht.Legacy,ht.Chromium,ht.Chromium,ht.Chromium,ht.Chromium,ht.Legacy,ht.Legacy,ht.Chromium,ht.Chromium,ht.Chromium,ht.Chromium,ht.Legacy,ht.Legacy,i(46),function(t){t.Network="network",t.Logic="logic",t.Unknown="unknown"}(dt||(dt={})),function(t){t.Front="frontend",t.Backend="backend",t.Unknown="somebody"}(ut||(ut={})),_(Error);var Ct={},St=function(t,e){var i=void 0===e?{}:e,n=i.invalidate,o=void 0!==n&&n,s=i.crossorigin,r=void 0!==s&&s,a=i.useCredentials,c=void 0!==a&&a;if(Ct[t]&&!o)return Ct[t].promise;var l=document.createElement("script");l.src=t,l.async=!0,r&&(l.crossOrigin=c?"use-credentials":"anonymous");var h=new Promise((function(e,i){l.onload=function(){Ct[t].loaded=!0,e()},l.onerror=function(e){Ct[t].error=e,i(e)}}));return Ct[t]&&document.head&&document.head.removeChild(Ct[t].script),document.head&&document.head.appendChild(l),Ct[t]={script:l,promise:h,loaded:!1,error:null},h};St.isRequested=function(t){return Boolean(Ct[t])},St.isLoaded=function(t){return Boolean(Ct[t]&&Ct[t].loaded)},St.isFailed=function(t){return Boolean(Ct[t]&&Ct[t].error)};var Bt,It,Pt=new(function(){function t(){this._starts={},this._results={}}var e=t.prototype;return e.start=function(t){var e=this._starts[t],i=this._results[t];e||i||(this._starts[t]=Date.now())},e.finish=function(t){var e=this._starts[t],i=this._results[t];e&&!i&&(this._results[t]=Date.now()-e)},e.getResults=function(){return Object.assign({},this._results)},e.getInProgress=function(){var t=this;return Object.keys(this._starts).filter((function(e){return"number"!=typeof t._results[e]})).sort()},t}()),Dt=function(){return window.YandexZen=window.YandexZen||{}},Ot=function(t){return L(t)&&Boolean(t._isZenLoggerEventInfo)},jt=function(t){return L(t)&&H(t.stack)},Rt=function(t){if(!L(t))return!1;try{return JSON.stringify(t),!0}catch(e){return!1}},At=function(t,e){Dt()[t]=e};!function(t){t.Error="ERROR",t.Warning="WARNING",t.Log="LOG"}(Bt||(Bt={})),function(t){t.Runtime="RUNTIME",t.Longterm="LONGTERM",t.Ignore="IGNORE"}(It||(It={}));var Ft,Nt,Lt={appName:"cached-render-morda-desktop-loader",appVersion:"2.1326.0",target:"legacy"},Ut=function(){function t(t){this._sessionStart=Date.now(),this._context={},this._sessionId=t.sessionId,this._handler=t.handler}var e=t.prototype;return e._getSessionTimestamp=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?Math.round(window.performance.now()):Date.now()-this._sessionStart},e._createEventInfoWithLoggerContext=function(t){var e,i=function s(t,e){if(void 0===e&&(e=0),Ot(t))return t;var i="",n=null,o=null,r=null,a=null;if(H(t))i=t;else if(jt(t)){if(Ot((r=t)._zenLoggerEventInfo))return r._zenLoggerEventInfo;i=r.message}else if(L(t)){var c=t;i=c.message,n=c.details||null,o=c.context||null,a=c.cause||null}return H(i)||(i="Unnamed event"),Rt(n)||(n=null),L(o)||"function"==typeof o||(o=null),jt(r)||(r=null),a?(a=e<10?s(a,e+1):null)&&(i=i+": "+a.message):a=null,{message:i,details:n,context:o,error:r,cause:a,_isZenLoggerEventInfo:!0}}(t),n=Object.assign({},Lt,this._context);if("function"==typeof i.context)try{e=i.context(n)}catch(o){e=n}else e=L(i.context)?Object.assign({},n,i.context):n;return Rt(e)?Object.assign({},i,{context:e}):Object.assign({},i,{context:Lt})},e._dispatchLoggerEvent=function(t,e){this._handler({logger:this,logLevel:e.logLevel,storageLevel:e.storageLevel,sessionId:this._sessionId,sessionTimestamp:this._getSessionTimestamp(),info:this._createEventInfoWithLoggerContext(t)})},e.setHandler=function(t){try{this._handler=t(this._handler)}catch(e){}},e.setContext=function(t){try{this._context="function"==typeof t?t(this._context):t}catch(e){this._context=Lt}},e.error=function(t,e){this._dispatchLoggerEvent(t,{logLevel:Bt.Error,storageLevel:e&&e.storageLevel||It.Runtime})},e.warn=function(t,e){this._dispatchLoggerEvent(t,{logLevel:Bt.Warning,storageLevel:e&&e.storageLevel||It.Longterm})},e.log=function(t,e){this._dispatchLoggerEvent(t,{logLevel:Bt.Log,storageLevel:e&&e.storageLevel||It.Ignore})},t}(),Ht=function(t,e){var i=window.Ya&&window.Ya.Rum;if(i&&"function"==typeof i.logError&&t.storageLevel===It.Runtime)try{var n=t.info,o=n.context,s=n.details,r=function(t,e){switch(t.logLevel){case Bt.Error:return e.ERROR_LEVEL.ERROR;case Bt.Warning:return e.ERROR_LEVEL.WARN;case Bt.Log:return e.ERROR_LEVEL.INFO}}(t,i),a=Object.assign({},s,{rids:o.rids}),c={project:"zen",version:o.appVersion};n.error?i.logError({level:r,service:o.appName,additional:a},n.error,c):i.logError({level:r,message:n.message,service:o.appName,additional:a},void 0,c),e()}catch(l){e(new Error("Empty error"))}else e()},zt=(i(110),function(t){return function(e){var i=t.errorsLimit,n=t.filterPatterns,o=t.filterRepetitiveErrors,s=n.slice(),r=0;return function(t){t.logLevel===Bt.Error?r>=i||!function(t,e){return e.every((function(e){return!(e instanceof RegExp&&e.test(t)||"string"==typeof e&&t===e)}))}(t.info.message,s)||e(t,(function(e){e||(o&&s.push(t.info.message),r++)})):e(t,(function(){}))}}}),Wt=((Ft={})[Bt.Error]=[Bt.Error],Ft[Bt.Warning]=[Bt.Error,Bt.Warning],Ft[Bt.Log]=[Bt.Error,Bt.Warning,Bt.Log],Ft),$t=((Nt={})[Bt.Error]=console.error,Nt[Bt.Warning]=console.warn,Nt[Bt.Log]=console.log,Nt),Vt=["//yastatic.net/react/"],qt=["Error No Zen state"],Kt=function(t,e,i){return e.some((function(e){return i?t===e:-1!==t.indexOf(e)}))};i(108);var Yt=function(t){function e(i){var n;return(n=t.call(this,i)||this).name=n.constructor.name,Object.setPrototypeOf(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),e.prototype),n}return u(e,t),e}(_(Error));function Gt(t,e){var i,n=null!=t;!function(t,e){var i;if(!t)throw new Yt(null!==(i=e)&&void 0!==i?i:"Assert condition failed")}(n,null!==(i=e)&&void 0!==i?i:n?"":"Expected 'value' to be defined, but receive "+t)}var Zt,Xt,Jt,Qt,te,ee,ie,ne,oe,se,re,ae,ce,le,he,de,ue,me,pe=function(t){for(var e={},i=0,n=Object.entries(t);i<n.length;i++){var o=n[i],s=o[0],r=o[1];null!=r&&(e[s]=r)}return e},fe=(i(109),function(t){return t.replace(/[^/]*\.zen\.crowdzeta\.kaizen\.yandex\.([^/]*)/,"zen.yandex.$1")}),_e=function(t){var e=t;return Gt(e.apiResponse),Gt(e.placeholders),Gt(e.rows),Gt(e.ttl),Gt(e.storeTtl),Gt(e.textMeasurmentState),Gt(e.containerId),e},ge=(Jt=(Xt=new s).on.bind(Xt),Qt=Xt.off.bind(Xt),te=document.head,ee={mountedRows:[]},ie=function(t,e){return Pt.start(e),t.then((function(t){return Pt.finish(e),t}))["catch"]((function(t){if(t instanceof ft)throw new Error("Resource not loaded in timeout: "+e);throw t}))},ne=function(t,e){var i,n=t.uri,o=t.id;return(i=function(){var t=e({source:n,container:te}),i=_t(t,6e4);return ie(i,o)},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,e)["catch"]((function(){return i.apply(void 0,e)}))})()},oe=function(t){return Promise.all(t.map((function(t){return ne(t,r)})))},se=function(t){return t.reduce((function(t,e){return t.then((function(){return ne(e,a)}))}),Promise.resolve())},re=function(t){return Promise.all(t.map((function(t){return ne(t,(function(t){return a(Object.assign({},t,{asyncAttr:!1,defer:!0}))}))}))).then((function(){}))},ae=function(t,e){return(t.exps&&t.exps.includes("zen_load_js_parallel:exp")?re:se)(e)},ce=function(t){void 0!==t&&Xt.emit("zenClicksCount",t)},le=function(t,e){return t.map((function(t,i){if(e&&e[i])return{uri:t,id:e[i]};var n=t.match(/([^/])*$/);return{uri:t,id:n&&n[0]||t}}))},he=function(t,e,i){var n=e["static"],o=n.appRender,s=n.cssResources,r=n.cssResourcesIds,a=n.placeholders,c=n.styles,l=n.rows,h=n.serverRenderedRows,d=n.clicksCount;return oe(le(s,r)).then((function(){!function(t){window.document.head.insertAdjacentHTML("beforeend",t)}(c),function(t,e,i){t.insertAdjacentHTML("afterbegin",e),Xt.emit("firstPaint",{isCache:i})}(t,o,i),a&&function(t){t.forEach((function(t){var e=document.getElementById(t.container);e&&Xt.emit("placeholder",Object.assign({},t,{container:e}))}))}(a),h&&function(t){t.forEach((function(t){var e=t.domElementId,i=t.grid,n=t.index,o=document.getElementById(e);o&&(Xt.emit("rowMounted",{container:o,grid:i,index:n}),ee.mountedRows.push(n))}))}(h),ce(d),Xt.emit("rowsChanged",l)}))},de=function(t,e){if(j(e)){var i=t.appContainer;if(!i)throw Error("No Zen container");return function(t,e,i){var n=e["static"],o=n.jsResources,s=n.jsResourcesIds,r=n.textMeasurmentState,a=e.isCacheRecord,c=o.map((function(t){return fe(t)}));return Promise.all([ae(t,le(c,s)),he(i,e,a)]).then((function(){var n=d(window),o=pt(t),s=t.exps&&t.exps.includes("zen_ssr_v2:exp");try{return s?n.initFromState(Object.assign({},t,{textMeasurmentState:r,zenFeatures:o}),e.data,!0,a):n.initFromContainer(Object.assign({},t,{textMeasurmentState:r,zenFeatures:o}),i,a),n}catch(c){throw Xt.emit("invalidatePack"),c}}))}(t,e,i)}return function(t,e){var i,n,o,s,r,a,c,u,m,p,f,_=(a=void 0===(r=(i=t).staticHost)?"https://yastatic.net/s3/zen-lib/":r,c=i.lang,u=i.fallbackVersion,m=i.isDev,p=i.isSlimBundle,f={staticBase:h({staticHost:a,version:m?"":u||"2.437.2"}),appName:"cached-render-morda-desktop",bundleName:p?"app-slim":"app",target:m?ht.Chromium:ht.Legacy,lang:c,bundleSuffix:(n={isAdblockEnabled:!0,isChunkedBundle:!0},o=n.isAdblockEnabled,s=n.isChunkedBundle,o&&s?"-external-react-inline-style":o?"-inline-style":s?"-external-react":"")},{jsResources:[{uri:"//yastatic.net/react/17.0.2/react-with-dom.min.js",id:"react-chunk"},{uri:l(f),id:"js"}],cssResources:[]}),g=_.cssResources,v=_.jsResources.map((function(t){return Object.assign({},t,{uri:fe(t.uri)})}));return e.data&&ce(e.data.clicks_count),Promise.all([ae(t,v),oe(g)]).then((function(){var i=d(window),n=pt(t);return i.initFromState(Object.assign({},t,{cache:null,zenFeatures:n,isSsrFallbackPack:!0}),e.data,!1,e.isCacheRecord),i}))}(t,e)},ue=function(){var t,e,i,n,o,s,r,a,c,l,h=(null===(t=window.YandexZen)||void 0===t||null===(e=t.timemarks)||void 0===e?void 0:e.jsStart)||0,d=Object.entries((null===(i=window.YandexZen)||void 0===i||null===(n=i.timemarks)||void 0===n?void 0:n.js)||{}).reduce((function(t,e){var i,n=e[0],o=e[1];return Object.assign({},t,((i={})[n]=o-h,i))}),{});Xt.emit("firstPaint",{isCache:!1,timemark:null===(o=window.YandexZen)||void 0===o||null===(s=o.timemarks)||void 0===s?void 0:s.html}),Xt.emit("timings",pe(Object.assign({},d))),Xt.emit("chunkTimings",pe({css:null===(r=window.YandexZen)||void 0===r||null===(a=r.timemarks)||void 0===a?void 0:a.styles,api:null===(c=window.YandexZen)||void 0===c||null===(l=c.timemarks)||void 0===l?void 0:l.api}))},Zt=o(regeneratorRuntime.mark((function ye(t){var e,i,n,o,s,r,a,c,l,h,u,m,p;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(s=null===(e=window)||void 0===e||null===(i=e.YandexZen)||void 0===i?void 0:i.state){f.next=4;break}throw new Error("No Zen state");case 4:if(r=_e(s),a=r.textMeasurmentState,c=r.apiResponse,l=r.containerId,h=r.zenFeatures,u=r.inserts,m=r.appPackageUrl,document.getElementById(l)){f.next=8;break}throw new Error("No Zen container");case 8:if(!(null===(n=window)||void 0===n||null===(o=n.YandexZen)||void 0===o?void 0:o.promises)){f.next=18;break}return f.prev=9,f.next=12,Promise.all(Object.values(window.YandexZen.promises));case 12:f.next=18;break;case 14:if(f.prev=14,f.t0=f["catch"](9),!f.t0.target||!f.t0.target.src){f.next=18;break}throw new Error("Failed to load "+f.t0.target.src);case 18:return(p=d(window)).initFromState(Object.assign({},t,{textMeasurmentState:a,zenFeatures:h,inserts:u,appPackageUrl:m}),c,!0,!1),ue(),f.abrupt("return",p);case 22:case"end":return f.stop()}}),ye,null,[[9,14]])}))),me=function(t){return Zt.apply(this,arguments)},{create:function(t){var e=function(){var t,e,i,n,o=function(){return"rid",t=Dt().rid,(N(t)?void 0:t)||Date.now().toString(36).slice(0,16)+"_"+Math.random().toString(36).slice(2,18);var t}(),s=(n=(t=Bt.Error,e=Wt[t],function(t){return function(i,n){e.includes(i.logLevel)&&$t[i.logLevel](i.info.message),t(i,n)}})(Ht),i=zt({errorsLimit:50,filterRepetitiveErrors:!0,filterPatterns:["NS_ERROR","Failed to fetch","request timeout"]})(n),function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(this,e)}catch(o){}}),r=new Ut({sessionId:o,handler:s});return At("rid",o),At("zenLogger",r),function(){var t,e,i,n,o,s;if((null===(t=window)||void 0===t||null===(e=t.Ya)||void 0===e||null===(i=e.Rum)||void 0===i?void 0:i.updateErrors)&&(null===(n=window)||void 0===n||null===(o=n.Ya)||void 0===o||null===(s=o.Rum)||void 0===s?void 0:s.getErrorSetting)){var r=window.Ya.Rum.getErrorSetting("transform"),a=function(t){var e=-1!==t.indexOf("/cached-render-morda-desktop-loader/"),i=-1!==t.indexOf("/2.1326.0/");return e&&i};window.Ya.Rum.updateErrors({transform:function(t){try{if(Kt(t.message,qt,!0)||a(t.file)||function(t){var e=t.split("\n").filter((function(t){return/https?:\/\//.test(t)}));if(0===e.length)return!1;for(var i=0,n=0,o=0;o<e.length;o++){var s=e[o];a(s)?i++:Kt(s,Vt,!1)&&n++}return i>0&&i+n===e.length}(t.stack))return t.service="cached-render-morda-desktop-loader",t.settings={project:"zen",version:"2.1326.0"},t}catch(t){}return"function"==typeof r?r(t):t}})}}(),r}();return t.isHtmlChunk?me(t).then((function(t){return t}))["catch"]((function(t){throw e.error(t),t})):ie(function(t,e){var i,n,o={cache:(n=ct.isEnabled()?ct:at,{get:function(){return n.get("cached-render-desktop")},put:function(t){return n.put("cached-render-desktop",t)}}),params:t,outputBus:e};return(null===(i=t.cache)||void 0===i?void 0:i.precacheRid)?Tt(o):xt(o)}(t,Xt),"api").then((function(e){return de(t,e)})).then((function(t){return Xt.emit("timings",Pt.getResults()),t}))["catch"]((function(i){throw e.error(i),t.appContainer&&(t.appContainer.innerHTML=""),i}))},on:Jt,off:Qt,forcedSymbolUsage:Symbol("foo"),store:ee});e["default"]=ge}])["default"],Promise.resolve()}})},"gx+b":function(t,e){!function(t){var e,i;try{e=t.localStorage,i="ya_ls_test",e.setItem(i,"1"),"1"!==e.getItem(i)?e=null:e.removeItem(i)}catch(a){e=null}var n=t.home||(t.home={}),o=t.console&&function(t){console.log(t)}||function(){},s=function(t){o("localStorage is disabled. "+(t||""))},r=function(t){try{return t()}catch(a){s(a)}};e?n.localStorage={setItem:function(t,i){return r((function(){return e.setItem(t,i)}))},getItem:function(t){return r((function(){return e.getItem(t)}))},removeItem:function(t){return r((function(){return e.removeItem(t)}))},clear:function(){return r((function(){return e.clear()}))},key:function(t){return r((function(){return e.key(t)}))}}:(n.localStorage={removeItem:s,setItem:s,getItem:s,clear:s},n.disabledLS=!0)}(window)},"h/Ey":function(t,e){BEM.DOM.decl("arrowed-list",{onSetMod:{js:{inited:function(){this._prevLeft=0,this._moveTo=-1,this.initEvents()},"":function(){this.unBindEvents()}}},initEvents:function(){if(!this._inited){var t=home.throttle(this.onScroll.bind(this),100);this._rafWrap(this.toggleArrows.bind(this)),this.bindTo("content","scroll",t),this.bindToWin("resize.arrowedlist",t),this.bindToWin("orientationchange.arrowedlist",t),this._inited=!0}},unBindEvents:function(){this.unbindFrom("content","scroll"),this.unbindFromWin("resize.arrowedlist"),this.unbindFromWin("orientationchange.arrowedlist"),this._inited=!1},destruct:function(){if(this._requestId)for(var t=0;t<this._requestId;t++)cancelAnimationFrame(this._requestId[t])},move:function(t,e){var i=this.elem("content");this.stopAnimation(),this._moveTo=t,e?(i.scrollLeft(t),this._afterMove()):(this.animate(t,{duration:this.params.duration||400,complete:this._afterMove.bind(this)}),this._moving=!0)},stopAnimation:function(){this.elem("content").stop()},animate:function(t,e){this.elem("content").animate({scrollLeft:t},e)},_getItems:function(){return this.elem("content").children().toArray()},_getContainerWidth:function(){return this.elem("content").prop("offsetWidth")},update:function(){var t=this.elem("content");this._contentWidth=t.width(),this._containerWidth=this._getContainerWidth();var e=this._containerWidth-this._contentWidth;this._scrollWidth=t[0].scrollWidth+e,this._scroll=t.scrollLeft(),this._stops=this._getStops()},_getStops:function(){var t=this._prepareStops();return this._filterStops(t)},_prepareStops:function(){var t=this._getItems(),e=0;return t.map((function(t,i){return 0===i&&(e=t.offsetLeft),t.offsetLeft-e}))},_filterStops:function(t){var e=this._scrollWidth-this._containerWidth;return(t=t.filter((function(t){return t>=0&&t<e}),this)).push(e),t},moveLeft:function(){this.update();for(var t=-1!==this._moveTo?this._moveTo:this._scroll,e=this.params.moveRatio*this._containerWidth,i=this._stops.length-1;i>=0&&this._stops[i]>=t-e-5;)i--;i<0&&t>this._stops[0]+5&&(i=0),i>=0&&this.move(this._stops[i])},moveRight:function(){this.update();for(var t=-1!==this._moveTo?this._moveTo:this._scroll,e=this.params.moveRatio*this._containerWidth,i=this._stops.length,n=0;n<i&&this._stops[n]<=t+e+5;)n++;n<i?this.move(this._stops[n]):this.move(this._stops[i-1])},seek:function(t,e){var i=t.closest(".arrowed-list__content > *"),n=this._getItems();i[0]&&this.move(i[0].offsetLeft-n[0].offsetLeft,e)},getVisibleItems:function(t){var e=this._getItems();return void 0===t&&(t=this._scroll),e.filter((function(e){var i=e.offsetLeft,n=$(e).width();return i<t+this._containerWidth&&i+n>t}),this)},onScroll:function(){var t;this._rafWrap(this.toggleArrows.bind(this)),this._moving||(t=this.elem("content").scrollLeft(),Math.abs(this._prevLeft-t)>=(this.params.valuableScroll||0)&&(this.channel("arrow-list").trigger("scroll"+(this.params.blockid?"."+this.params.blockid:"")),this.trigger("scroll"),this._prevLeft=t))},toggleArrows:function(){this.update();var t=this._scroll>4;this.toggleMod(this.elem("left"),"hidden","yes",!t),this.toggleMod("left","yes",t);var e=this._scroll+4<this._scrollWidth-this._containerWidth;this.toggleMod(this.elem("right"),"hidden","yes",!e),this.toggleMod("right","yes","",e)},_afterMove:function(){if(this.domElem){this._prevLeft=this.elem("content").scrollLeft(),this.channel("arrow-list").trigger("move"+(this.params.blockid?"."+this.params.blockid:"")),this.trigger("move"),this._moving=!1,this._moveTo=-1,this._rafWrap(this.toggleArrows.bind(this));var t=this.getVisibleItems();t.length&&this.trigger("visibleItems",t)}},getDefaultParams:function(){return{moveRatio:.33}},_rafWrap:function(t){var e,i="requestAnimationFrame"in window;this.params.rafExp&&i?(this._requestId||(this._requestId=[]),e=requestAnimationFrame(t),this._requestId.push(e)):t()},getScrollPosition:function(){return this._scroll}},{live:function(){return this.liveBindTo("left","click",(function(){this.moveLeft()})),this.liveBindTo("right","click",(function(){this.moveRight()})),this.liveBindKey("left","space enter",(function(t){this.moveLeft(),t.preventDefault()})),this.liveBindKey("right","space enter",(function(t){this.moveRight(),t.preventDefault()})),!1}})},h9xl:function(t,e){!function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},(function(e,i){function n(i){var n,o=i.type;return"mouse"===i.pointerType&&1!==i.which||(i.type=e,n=t.event.dispatch.apply(this,arguments),i.type=o),n}t.event.special[e]={setup:function(){t(this).on(i,n)},teardown:function(){t(this).off(i,n)}}}))}(jQuery)},hTyO:function(t,e){BEM.DOM.decl("notifier",{_fetchCounter:function(){var t=this.__base;setTimeout(t.bind(this),0)}},{live:function(){this.__base.apply(this),this.liveBindKey("enter space",(function(t){t.preventDefault(),this.onIconClick(t)}))}})},hkQl:function(t,e){var i=document.domain.match(/([^.]+(?:\.com?)?\.)?[^.]+$/)[0];try{window.top||(document.domain=i)}catch(n){}},hvDV:function(t,e){!function(){var t=$(window),e=$(document.documentElement),i=0,n=!1;function o(){e.hasClass("pointerfocus")&&(n=!0,setTimeout((function(){n=!1})))}document.documentMode<=11?e.on("focusin",(function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||o()})):t.on("blur",(function(){t.one("focus",o)})),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",n).toggleClass("utilityfocus",!n)},keydown:function(){clearTimeout(i),n=!1},"pointerdown pointerup click":function(t){n=!0,clearTimeout(i),i=setTimeout((function(){n=!1}),600)}})}()},icT8:function(t,e){MBEM.decl("mini-suggest",{_onDeleteClick:function(){this.__base.apply(this,arguments),this.trigger("item-delete")}})},imma:function(t,e){BEM.DOM.decl("services-new",{onSetMod:{js:function(){this._bindSearchScenario(),this._initPromo()}},_initPromo:function(){var t=this.elem("promo"),e=this.elem("promo-bubble"),i=this.elem("onboarding").length;t.length&&t.data("showUrl")&&((new Image).src=t.data("showUrl")),e.length&&"visible"===e.css("visibility")&&(home.stat.logPath("show",this.elem("promo-bubble").data("counter")),setTimeout(this._hidePromoBubble.bind(this),1e3*(this.params.sidePopupHideTimeout||10)),i&&home.localStorage.setItem("home:doNotShowServicesNewOnboarding","1"),this.bindToDoc("pointerclick",function(t){$(t.target).closest(e).length||this._hidePromoBubble()}.bind(this)))},_bindSearchScenario:function(){var t=this;this._searchInput=this.findBlockOutside($(".search2 .input"),"input"),this._searchItems=this.elem("item","search","yes"),this._searchInput&&this._searchInput.on("change",$.debounce((function(){t._updateUrls(this.val())}),300))},_updateUrls:function(t){var e=encodeURIComponent(t);this._urls||(this._urls={},(home.getData("services-new.data.fullList")||[]).forEach(function(t){this._urls[t.service]={url:t.url,search:t.search}}.bind(this))),this._searchItems.each(function(t,i){$(i).attr("href",home.stringf(this._urls[$(i).data("id")][e?"search":"url"].replace(/%25/g,"%"),e))}.bind(this))},_onPromoClick:function(t){var e=t.data("clickUrl");e&&((new Image).src=e)},_hidePromoBubble:function(){this.delMod(this.elem("promo-bubble"),"visible")}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("promo","pointerclick",(function(t){this._onPromoClick(t.data.domElem)})),this.liveBindKey("promo","enter",(function(t){this._onPromoClick(t.data.domElem)})),!1}})},ipYq:function(t,e){home.logBanner=function(){var t=home.getData("banner.logs")||[],e=!1,i=Date.now(),n=window.performance&&window.performance.now,o=function(t){console.log(t.time+"s",t.action,t.params)},s=n?function(){return Math.round(performance.now()/100)/10}:function(){return Math.round((Date.now()-i)/100)/10};home.logBanner={showLogs:function(){e=!0;for(var i=0;i<t.length;i++)o(t[i])},hideLogs:function(){e=!1},log:function(i){i&&(i.time=s(),t.push(i),e&&o(i))},setLogFunc:function(t){o=t}}},home.getData("banner.logsEnable")&&home.logBanner()},irDm:function(t,e){BEM.DOM.declMix("mix-tabber-wheel",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),home.getData("i-scroll-changes.data.scroll_speedup_wheel")){var t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0};this.elem("panels")[0].addEventListener("wheel",this._onWheel.bind(this),t)}}}},_processWheelOrient:function(t,e,i,n){var o;(!this._wheelPrevTime||e-this._wheelPrevTime>this.__self.WHEEL_FADE_TIME)&&(this._wheelOrient=void 0),void 0===this._wheelOrient?this._wheelOrient=i>n?"horizontal":"vertical":(i/n>this.__self.WHEEL_ORIENT_COEFFICIENT?o="horizontal":n/i>this.__self.WHEEL_ORIENT_COEFFICIENT&&(o="vertical"),o&&(this._wheelOrient=o)),"horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault()},_calcWheelDeltas:function(t){var e=t.deltaX,i=t.deltaY;return t.deltaMode!==t.DOM_DELTA_LINE&&t.deltaMode!==t.DOM_DELTA_PAGE||(e*=18,i*=18),{x:e,y:i}},_onWheel:function(t){if("deltaX"in t&&!this.__self._hasHorizontalScroll()){var e=this._calcWheelDeltas(t),i=e.x,n=e.y,o=Math.abs(i),s=Math.abs(n),r=Date.now();if(this._preventWheelTime&&r<this._preventWheelTime)return this._wheelPrevTime=r,void("horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault());this._processWheelOrient(t,r,o,s),this._wheelCounterX=this._wheelCounterX||0,this._wheelCounterY=this._wheelCounterY||0,this._wheelPrevTime=this._wheelPrevTime||r;var a=1-Math.min(1,(r-this._wheelPrevTime)/this.__self.WHEEL_FADE_TIME);if(this._wheelCounterX*=a,this._wheelCounterY*=a,this._wheelCounterX+=i,this._wheelCounterY+=n,Math.abs(this._wheelCounterX)>40&&Math.abs(this._wheelCounterX/this._wheelCounterY)>this.__self.WHEEL_ORIENT_COEFFICIENT){var c=this._wheelCounterX>0;this._wheelCounterX=0,this._wheelCounterY=0,this._preventWheelTime=r+this.__self.WHEEL_DEDUP_TIME;var l=this._keys.indexOf(this._selectedKey);(l+=c?1:-1)>=this._keys.length?l=0:l<0&&(l=this._keys.length-1),this._selectTab(this._keys[l])}this._wheelPrevTime=r}}},{WHEEL_FADE_TIME:1e3,WHEEL_ORIENT_COEFFICIENT:2.5,WHEEL_DEDUP_TIME:750,_hasHorizontalScroll:function(){return document.documentElement.scrollWidth>document.documentElement.offsetWidth},live:function(){this.__base.apply(this,arguments);var t=this;if(home.getData("i-scroll-changes.data.scroll_speedup_wheel"))return!1;var e=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!1};document.addEventListener("wheel",(function(e){var i=t.getName(),n=$(e.target).closest("."+i+"__panels");n.length&&n.closest("."+i).bem(i)._onWheel(e)}),e)}})},jUAr:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[0],n=t[5];if(n){var o=n.descr,s=n.mark,r=n.icon,a=n.type;s&&(s=Array.isArray(s)?s:[s],e.content.mark=s.map((function(t){return'<span class="mini-suggest__item-mark mini-suggest__item-mark_type_'+MBEM.encode(t)+'"></span>'})).join(""),e.className+=" mini-suggest__item_mark_yes"),o&&(o=Array.isArray(o)?o:[o],e.content.descr=o.map((function(t){return t?'<span class="mini-suggest__item-descr">'+MBEM.encode(t)+"</span>":""})).join("")),a&&(e.className+=" mini-suggest__item_subtype_"+a),r&&(e.content.icon='<span class="mini-suggest__item-icon mini-suggest__item-icon_size_'+MBEM.encode(r.size||"s")+'" style="background-image:url('+MBEM.encode(r.url)+');"></span>'),"nav"!==i&&"fact"!==i||(e.content.wrapper=['<div class="mini-suggest__item-content">',"</div>"]),n.img&&(n.img.url||n.img.icon)&&(e.content.thumb=this._buildThumb(n)),"nav"===i&&n.monochrome&&(e.className+=" mini-suggest__item_monochrome")}return e},_buildItemContent:function(t,e){return e.content.button&&(e.className+=" mini-suggest__item_with-button"),(e.content.thumb||"")+(e.content.wrapper&&e.content.wrapper[0]||"")+this._buildItemContentMain(t,e)+(e.content.wrapper&&e.content.wrapper[1]||"")},_buildThumb:function(t){var e="",i="",n="",o="";return t.img.badge&&!t.img.round&&(o+='<div class="mini-suggest__item-thumb-badge"',t.img.badgeColor&&(o+=' style="background-color:'+MBEM.encode(t.img.badgeColor)+';color:#333;"'),o+=">"+MBEM.encode(t.img.badge)+"</div>"),e+=" mini-suggest__item-thumb_orientation_"+(t.img.aspect&&!t.img.round?MBEM.encode(t.img.aspect):"square"),e+=" mini-suggest__item-thumb_size_"+(t.img.size?MBEM.encode(t.img.size):"m"),e+=t.img.shade?" mini-suggest__item-thumb_shade":"",e+=t.img.border||!t.img.icon&&"base"===t.type?" mini-suggest__item-thumb_border":"",e+=t.img.contain?" mini-suggest__item-thumb_contain":"",e+=t.img.cover?" mini-suggest__item-thumb_cover":"",e+=t.img.round?" mini-suggest__item-thumb_round":"",e+=t.img.icon?" mini-suggest__item-thumb_icon_"+t.img.icon:"",n+=t.img.color?"background-color:"+MBEM.encode(t.img.color)+";":"",'<div class="mini-suggest__item-thumb'+e+'"'+(i+=(n+=t.img.url?"background-image:url("+MBEM.encode(t.img.url)+");":"")?' style="'+n+'"':"")+">"+o+"</div>"},_buildItemContentAdds:function(t,e){return(e.content.mark||"")+(e.content.descr||"")}})},jWLv:function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"flat"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_theme_flat"}})},"jXs/":function(t,e){var i,n,o;n={isAuthenticated:!1,isFeedbackReceived:!1,isRequestSent:!1},o=function(){},BEM.decl("i-mda-auth",{},{authenticate:function(t){if(""===(i=Lego.params["mda-auth-url"]||home.getData("i-mda-auth.url")||""))return!1;var e=Lego.params["mda-auth-delay"]||10;o=t||function(){},setTimeout((function(){var t=document.createElement("iframe");t.style.visibility="hidden",t.style.position="absolute",t.setAttribute("src",i),t.name="i-mda-auth"+(Math.random()+"").substr(3,7),t.style.top=t.style.left=t.style.width=t.style.height=0,document.getElementsByTagName("body")[0].appendChild(t),n.isRequestSent=!0}),e)},isRequestSent:function(){return n.isRequestSent},isFeedbackReceived:function(){return n.isFeedbackReceived},isAuthenticated:function(){return n.isAuthenticated},getUrl:function(){return i},registerFeedback:function(t){var e="success"===t;n.isFeedbackReceived=!0,n.isAuthenticated=e,o(e)}})},jeyh:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this._adVisibilityChekers={},this._prevVisibilityCounterUrls={},this.__base.apply(this,arguments)},_renderItems:function(){this.__base.apply(this,arguments),this._isShown&&this._checkVisibilityAdvItems()},_syncItems:function(){this.__base.apply(this,arguments),this._adPositions=this._dataItems.reduce(function(t,e,i){if(e[5]&&"ad"===e[5].type){if(this._adIsHidden(this._items[i].firstChild))return this.trigger("adb",{hidden:!0}),t;this.trigger("adb"),t.push(i)}return t}.bind(this),[])},_hidePopup:function(){if(this._isShown){for(var t in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(t)&&clearTimeout(this._adVisibilityChekers[t]);this._adVisibilityChekers={}}this.__base.apply(this,arguments)},_showPopup:function(){this.__base.apply(this,arguments),this._dataItems&&this._checkVisibilityAdvItems()},_checkVisibilityAdvItems:function(){var t=this.params.direct,e={};if(this._adPositions.forEach(function(i){var n=this._dataItems[i],o=n&&n[5]&&n[5].linkht;if(t.counter_delay){if(this._prevVisibilityCounterUrls[o])return;e[o]=this._adVisibilityChekers[o]||setTimeout(function(){this._sendVisibilityCounter(o)}.bind(this),t.counter_delay)}else this._sendVisibilityCounter(o)}.bind(this)),t.counter_delay){for(var i in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(i)&&!e[i]&&(clearTimeout(this._adVisibilityChekers[i]),this._adVisibilityChekers[i]=null);this._adVisibilityChekers=e}},_adIsHidden:function(t){var e=t&&window.getComputedStyle(t,null);return"none"===e.display||"visible"!==e.visibility||"1"!==e.opacity||-1===["static","relative"].indexOf(e.position)},_onItemClick:function(t,e){var i=e.node.getAttribute("data-index"),n=this._dataItems[i],o=n&&n[5]&&n[5].linkht;o&&this._sendVisibilityCounter(o),this.__base.apply(this,arguments)},_sendVisibilityCounter:function(t){this._prevVisibilityCounterUrls[t]||(this._prevVisibilityCounterUrls[t]=!0,(new Image).src=t)}})},jfdc:function(t,e){!function(t){var e=0,i="__"+Number(new Date),n=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return n();var o="uniqueID"in t?"uniqueID":i;return e||o in t?t[o]:t[o]=n()}}(jQuery)},jm34:function(t,e){BEM.decl("i-block-renderer",{},{wrapRender:function(t,e){try{return this._params=t,e()}finally{this._params=null}},getCurrent:function(){return this._params||null}})},"k/MW":function(t,e){home.makeStyle=function(t){if(!t)return"";var e="";for(var i in t)if(t.hasOwnProperty(i)){if(!t[i]&&0!==t[i])continue;e&&(e+=";"),e+=i+":"+String(t[i])}return e}},kCSK:function(t,e){BEM.DOM.decl("tooltip",{_onEnter:function(){this.setMod("hovered","yes")},_onLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onEnter(t):this._onLeave(t))})),this.__base()}})},kHCm:function(t,e){!function(t){t.getData=function(e,i){var n,o,s,r="export",a=e.split("."),c=a.length;if(c>1){for(n=t[r]||{},o=0;o<c;o++)if(void 0===(n=n[a[o]]))return void 0===n?i:n;return void 0===n?i:n}return r="export",void 0===(s=t&&t[r]&&t[r][e])?i:s},t.dataCallbacks=t.dataCallbacks||[],t.subscribeData=function(e){t["export"]?e():t.dataCallbacks.push(e)}}(home)},kVI9:function(t,e){BEM.decl({name:"dataprovider-geo",baseBlock:"i-request_type_ajax"},{get:function(t,e){var i=Lego.params.locale||"ru",n=(location.host.match(/yandex\.(\w\w)$/)||["","ru"])[1].toUpperCase();return this.__base({v:9,search_type:"tune",results:15,lang:i+"_"+n,part:t,spn:[.01,.01].join()},(function(t){e.call(this,t.results.filter((function(t){return t.geoid})).map((function(t){return["geo"].concat(t)})),t.meta)}))}})},kepD:function(t,e){BEM.DOM.decl({block:"divjson2-tabs",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-divjson2-tabs"]},{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){var e=this.findBlockInside(t,"arrowed-list");e&&e.toggleArrows()}})},khhJ:function(t,e){MBEM.appendUrlParams=function(t,e){return t+(t.indexOf("?")>-1?"&":"?")+Object.keys(e).map((function(t){return t+"="+MBEM.encodeUriComponent(e[t])})).join("&")}},l7b8:function(t,e){BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{getDefaultParams:function(){var t=this.__base();return t.top="50%",t.left="50%",t},_isPercentVal:function(t){return"string"==typeof t&&t.indexOf("%")>0},show:function(t){return this._moveToContainer(),this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t||(t={left:this.params.left,top:this.params.top});var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/(-100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/(-100/parseInt(t.top,10))),this._show(t),this}})},laRw:function(t,e){MBEM.decl({block:"mini-suggest",modName:"empty",modVal:"yes"},{_handlePopupShow:function(t,e){e&&e.empty||this._changePathState("not_used")},_handlePopupUpdate:function(){this.__base.apply(this,arguments),this._changePathState("not_used")}})},lazP:function(t,e){function i(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s:s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==i["return"]||i["return"]()}finally{if(c)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}BEM.DOM.decl("traffic",{onSetMod:{js:{inited:function(){var t=this.elem("header-links");t.length&&this._autosizeHeaderLinks(t)}}},_autosizeHeaderLinks:function(t){var e=this,n=function(){var n,o,s=e.elem("header-link").toArray(),r=(null===(n=t.offset())||void 0===n?void 0:n.top)||0,a=i(s);try{for(a.s();!(o=a.n()).done;){var c,l=o.value,h=$(l);((null===(c=h.offset())||void 0===c?void 0:c.top)||0)-r>10&&e.setMod(h,"hidden","yes")}}catch(d){a.e(d)}finally{a.f()}};t.on("scroll",(function(){t.scrollLeft(0).scrollTop(0)})),this.bindToWin("resize",home.throttle((function(){e.delMod(e.elem("header-link"),"hidden"),n()}),100)),n()}})},m3bF:function(t,e){!function(t,e){var i={};/msie|trident/i.test(e)?i.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(i.opera=parseInt(e.split(/Version\//i)[1],10));var n,o={},s={};(n=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?o.wp=n[1]:(n=e.match(/Android\s+([\d.]+)/))?o.android=n[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?o.android="2.3":(n=e.match(/iPhone\sOS\s([\d_]+)/))?(o.ios=n[1].replace(/_/g,"."),s.iphone=!0):(n=e.match(/iPad.*OS\s([\d_]+)/))?(o.ios=n[1].replace(/_/g,"."),s.ipad=!0):(n=e.match(/Bada\/([\d.]+)/))?o.bada=n[1]:(n=e.match(/MSIE\s9/))?o.wp="7.5":o.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some((function(i){return t[i]&&(e=i)})),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),i=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:i}}}},{ios:o.ios,iphone:s.iphone,ipad:s.ipad,android:o.android,bada:o.bada,wp:o.wp,other:o.other,ua:e,ie:i.ie,opera:i.opera})}(window,navigator.userAgent)},m3dv:function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(window,"orientationchange resize",this._repositionPopup.bind(this))},_createPopup:function(){if(this._popup)return!1;var t=this.__base.apply(this,arguments),e=this.params.popupMods,i=this.params.popupMix;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(!o)continue;MBEM.cls.add(this._popup,"mini-suggest__popup_"+n+(!0===o?"":"_"+o))}if(i)for(var s=0;s<i.length;s++)MBEM.cls.add(this._popup,i[s]);return t},_appendPopup:function(t){(this.params.getPopupContainer&&this.params.getPopupContainer()||document.body).appendChild(t)},_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.top=MBEM.offset(this._input).top+this._input.offsetHeight+this.params.popupOffset+"px")},_showPopup:function(){this.__base.apply(this,arguments),MBEM.cls.add(this._popup,"mini-suggest__popup_visible"),this._repositionPopup()},_hidePopup:function(){this._isShown&&(this.__base.apply(this,arguments),MBEM.cls.remove(this._popup,"mini-suggest__popup_visible"))},getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.popupOffset=0,t}})},mCRL:function(t,e){BEM.DOM.declMix("mix-tabber-labels",{_getKeys:function(){var t=this.elem("tab");return t.length?t.toArray().map((function(t){return String($(t).data("key"))})):this.__base.apply(this,arguments)},_getDefaultKey:function(){var t=this.elem("tab","selected","yes");return t.length?String(t.data("key")):this.__base.apply(this,arguments)},_changeTab:function(t,e){this.__base.apply(this,arguments);var i=this.elem("tab","selected","yes"),n=this.elem("tab").filter('[data-key="'+t+'"]');this._toggleLabelSelection(i,!1,e),this._toggleLabelSelection(n,!0,e),e.focus&&n.focus()},_toggleLabelSelection:function(t,e,i){t.attr({tabindex:e?0:-1,"aria-selected":e?"true":"false","aria-controls":e?this._uniqId+"_panel_"+this._selectedKey:null}),this.toggleMod(t,"selected","yes","no",e),t.toggleClass("mix-tabber__tab_selected_yes mix-tabber__tab_selected_no")},_getPanelAttrs:function(t){return{"aria-labelledby":this._uniqId+"_tab_"+t}},_onTabClick:function(t){var e=t.data.domElem,i=String(e.data("key")),n=this._selectedKey===i;return this._selectTab(i,{from:"user"}),n?home.stat.redirect(e[0],e.data("stat-link")):home.stat.logPath("click",e.data("stat-select")),n}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","click",(function(t){return this._onTabClick(t)}))}})},mbKu:function(t,e){!function(){var t,e=[];function i(){var i=Ya.Rum.getSetting("clck"),n=e.join("\r\n");if(e=[],t=null,i&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(i,n))){var o=new XMLHttpRequest;o.open("POST",i),o.send(n)}}Ya.Rum.send=function(n,o,s,r,a,c,l){clearTimeout(t);var h=Ya.Rum.getSetting("slots"),d=Ya.Rum.getSetting("experiments"),u=["/reqid="+Ya.Rum.getSetting("reqid"),l?"/"+l.join("/"):"",o?"/path="+o:"",a?"/events="+a:"",h?"/slots="+h.join(";"):"",d?"/experiments="+d.join(";"):"",s?"/vars="+s:"","/cts="+(new Date).getTime(),"/*"];e.push(u.join("")),e.length<42?t=setTimeout(i,15):i()}}()},mcDQ:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments);return t[5]&&t[5].hl&&(e.content.title=MBEM.hl(t[1],t[5].hl)),t[5]&&t[5].inline&&(e.className+=" mini-suggest__item_inline"),e}})},mcHa:function(t,e){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=MBEM.arrayFrom(arguments).slice(1);return function(){var n=MBEM.arrayFrom(arguments);return e.apply(t,i.concat(n))}})},mr38:function(t,e){!function(){"use strict";var t;home.stat.addHandler=function(e,i){t||(t=[]),t.some((function(t){return t.func===i&&t.prefix===e}))||t.push({prefix:e,func:i,re:e?new RegExp("^"+e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"(\\.|\\(|$)"):/.*/})},home.stat.removeHandler=function(e,i){t&&(t=t.filter((function(t){return t.prefix!==e||t.func!==i})))},["logPath","redirect"].forEach((function(e){var i=home.stat[e];home.stat[e]=function(n,o,s){var r="redirect"===e?"click":n;if(o){var a=o.replace(/\([^)]+\)/g,"");return t&&t.forEach((function(t){if(t.re.test(a)){var i=t.func(r,o,e);i&&i.counter&&(o=i.counter)}})),i.call(home.stat,n,o,s)}}}))}()},myQs:function(t,e,i){(function(t){
/*! loadCSS: load a CSS file asynchronously. [c]2016 @scottjehl, Filament Group, Inc. Licensed MIT */
var e;e=void 0!==t?t:window,home.loadCss=function(t,i){var n=i||{},o=function(t,i,n,o){var s,r=e.document,a=r.createElement("link");if(i)s=i;else{var c=(r.body||r.getElementsByTagName("head")[0]).childNodes;s=c[c.length-1]}var l=r.styleSheets;a.rel="stylesheet",a.href=t,a.media=o?n||"all":"only x",function u(t){if(r.body)return t();setTimeout((function(){u(t)}))}((function(){s.parentNode.insertBefore(a,i?s:s.nextSibling)}));var h=function m(t){for(var e=a.href,i=l.length;i--;)if(l[i].href===e)return t();setTimeout((function(){m(t)}))};function d(){a.addEventListener&&a.removeEventListener("load",d),o||(a.media=n||"all")}return a.addEventListener&&a.addEventListener("load",d),a.onloadcssdefined=h,h(d),a}(t,n.before,n.media,n.noFlash);n.callback&&
/*! onloadCSS: adds onload support for asynchronous stylesheets loaded with loadCSS. [c]2016 @zachleat, Filament Group, Inc. Licensed MIT */
function(t,e){var i;function n(){!i&&e&&(i=!0,e.call(t))}t.addEventListener&&t.addEventListener("load",n),t.attachEvent&&t.attachEvent("onload",n),"isApplicationInstalled"in navigator&&"onloadcssdefined"in t&&t.onloadcssdefined(n)}(o,n.callback)}}).call(this,i("fRV1"))},"nJF/":function(t,e){BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",(function(t){this._onClick(t)})).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",(function(t){this.hasMod("disabled")||this._onKeydown(t)})).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",(function(t){this.hasMod("disabled")||this._onKeyup(t)})),this.__base()}})},nJe8:function(t,e){BEM.DOM.decl({block:"popup",modName:"wrapped",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.__base(),this._wrap()},"":function(){this.__base(),this._unwrap()}},wrapped:{"":function(){this._unwrap()}}},_wrap:function(){this._wrapper||(this._wrapper=this.elem("wrapper").detach()),this._wrapper&&this.domElem.wrap(this._wrapper)},_unwrap:function(){this._wrapper&&this.domElem.unwrap()},_captureZIndex:function(){var t=this._zIndex,e=this.__base.apply(this,arguments);return this._zIndex!==t&&this.elem("wrapper").css("z-index",this._zIndex),e},destruct:function(){this._unwrap(),this.__base()}})},nKr7:function(t,e){!function(){"use strict";BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.__base(),this.params.stat&&this.on("change",(function(){home.stat.logPath("click",this.params.stat)}))}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("click",(function(t){$(t.target).hasClass("checkbox")&&this.toggle()})),!1}})}()},nQka:function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent((function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var i=void 0!==t,n=this.elem("control");return t=i?null===t?"":t.toString():n.val(),this._val!==t&&(this._val=t,n.val()!==t&&n.val(t),this.trigger("change",e)),i?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var i=document.selection.createRange();if(i&&i.parentElement()===t){var n=t.value.length,o=t.createTextRange();o.moveToBookmark(i.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?n:-o.moveEnd("character",-n)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent((function(){this.domElem&&this._focus()})),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",(function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})),this.liveBindTo("control","input",(function(){this._updateVal()})),9===document.documentMode&&(this.liveBindTo("control","focusin",(function(){this.bindToDoc("selectionchange",this._updateVal)})),this.liveBindTo("control","focusout",(function(){this.unbindFromDoc("selectionchange")})))}})},nV1K:function(t,e){BEM.DOM.decl("desk-notif",{onSetMod:{js:function(){this._initStat(),this.findBlockInside("navi")&&BEM.channel("navi").on("show-item",function(t,e){this.findBlockInside(e.item,"desk-notif-card").onShow()}.bind(this))}},_getStatObject:function(t){return{name:t,height:$(".desk-notif-card_"+t+"_yes").outerHeight(!0)}},_toStatFormat:function(t){return t.replace(/-/g,"_")},_initStat:function(){setTimeout(this._sendStat.bind(this),0)},_sendStat:function(){var t=this.params.serverCards.map(this._getStatObject).map((function(t){return this._toStatFormat(t.name)+"="+t.height}),this).join(",");home.stat.logPath("notifications_height",t)}})},oABa:function(t,e){BEM.decl("i-messenger-unread",{},{listenCount:function(t){this._init(),void 0!==this._count&&t(this._count),this._countCallbacks=this._countCallbacks||[],this._countCallbacks.push(t)},_init:function(){if(!this._inited){this._inited=!0;var t=home.getData("i-messenger-unread.data");t&&(this._unreadUrl=t.unreadUrl,this._reqNum=0,setTimeout(this._fetchUnread.bind(this),0))}},_fetchUnread:function(){document.hidden||!1===window.navigator.onLine?this._restartTimer():$.ajax({url:home.addQueryToUrl(this._unreadUrl,{reqNum:++this._reqNum,parentOrigin:window.location.origin}),xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4,beforeSend:function(t){t.setRequestHeader("Content-Type","application/json")}}).asPromise().then(function(t){!t||t.Status&&t.Status>=400||(this._updateCount(Number(t.UnreadCount)||0),this._restartTimer(1e3*t.Ttl))}.bind(this),function(t){t.meta&&403===t.meta.status&&"Forbidden"===t.errorText||(home.error.logError({block:this.getName(),message:"_fetchUnread: ajax",source:"messenger_api"},t),this._restartTimer())}.bind(this))},_updateCount:function(t){this._count=t,this._countCallbacks&&this._countCallbacks.forEach((function(e){e(t)}))},_restartTimer:function(t){t||(t=1e4),home.getData("i-messenger-unread.data.disableAutoupdate")||setTimeout(this._fetchUnread.bind(this),t)}})},oQCc:function(t,e){!function(){"use strict";var t;home.cleverString={},t=function(t,e){var i=t.charCodeAt(),n=e.charCodeAt();return i>=55296&&i<=56319&&n>=56320&&n<=57343},home.cleverString.length=function(e){if(null==e)return 0;for(var i=0,n=e.length,o=0;i<n;)++i<n&&t(e[i-1],e[i])&&++i,++o;return o},home.cleverString.substring=function(e,i,n){if("string"!=typeof e)return e;"number"!=typeof i&&(i=0),n||0===n||(n=1/0);for(var o,s=[],r=i+n,a=0,c=e.split(""),l=c.length,h=0;a<=l;)o=1,a+1<l&&t(e[a],e[a+1])&&(o=2),h>=i&&h<r&&s.push(c.slice(a,a+o).join("")),a+=o,++h;return s.join("")},home.cleverString.cutMiddleOfString=function(t,e,i){var n=home.cleverString.length(t);return"string"!=typeof t||n<3||"number"!=typeof e||"number"!=typeof i?t:-1===e||-1===i?"":n>e+1+i?home.cleverString.substring(t,0,e)+""+home.cleverString.substring(t,n-i):t},home.cleverString.cutEndOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,e-1,0)},home.cleverString.cutStartOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,0,e-1)}}()},p0dP:function(t,e){home.bundles.initBlocks=function(){var t={};t[home.cls.full("direct-desktop")]=["direct-new-design"],$(".i-bundle-bem").each((function(){var e=$(this),i=e.data("bem"),n=e.data("depBundle"),o=[],s=!1;if(n){n=n.split(",");for(var r=0;r<n.length;++r)if(!home.bundles.loaded[n[r]])return}else for(var a in i){i.hasOwnProperty(a)&&t[a]&&o.push(t[a]);for(var c=0;c<o.length;c++){for(var l=0;l<o[c].length;l++)s=s||home.bundles.loaded[o[c][l]];if(!s)return}}for(var h in i)if(i.hasOwnProperty(h)&&!(h in BEM.blocks))return;e.removeClass("i-bundle-bem").addClass("i-bem"),BEM.DOM.init(e)}))},$((function(){BEM.afterCurrentEvent((function(){home.bundles.initBlocks()}))}))},pIfI:function(t,e){!function(){"use strict";var t=Object.prototype.toString;home.ltgtFilter=function(t){return String(t).replace(/</g,"&lt;").replace(/>/g,"&gt;")},home.jsonFilter=function(t){return String(t).replace(/[<>&\u2028\u2029]/g,(function(t){switch(t){case"<":return"\\u003c";case">":return"\\u003e";case"&":return"\\u0026";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return""}))},home.capitalize=function(t){return t?t[0].toUpperCase()+t.substr(1):""},home.isXivaSupported=function(t){return t.XivaUrl&&!t.isOldIE&&!t.isMSIE9},home.encodeParams=function(t){return JSON.stringify(t).replace(/"/g,"'")},home.getJPathValue=function(t,e){for(var i=t,n=e.split("."),o=0;i&&void 0!==i[n[o]];)i=i[n[o++]];return"object"==typeof i?"":i},home.formatNumber=function(t,e,i){if(isNaN(t))return t;e=e||",",i=i||"&nbsp;";var n=(t+="").lastIndexOf("."),o=[],s="",r=0,a="";for(-1!==n?s=e+t.substr(n+1):n=t.length;--n>-1;)a=t[n]+a,3==++r&&(o.push(a),a="",r=0);return a&&o.push(a),o.reverse().join(i)+s},home.deepExtend=function(e,i){if(!i)return e;for(var n in i)if("__proto__"!==n&&i.hasOwnProperty(n)){var o=i[n];Array.isArray(o)?(e[n]=Array.isArray(e[n])?e[n]:[],home.deepExtend(e[n],o)):"[object Date]"===t.call(o)||"object"!=typeof o||null===o?e[n]=o:(e[n]="[object Object]"===t.call(e[n])?e[n]:{},home.deepExtend(e[n],o))}return e},home.rnd=function(){return String(Math.random()).substr(2)},home.randomInteger=function(t,e){var i=t+Math.random()*(e+1-t);return Math.floor(i)},home.intersectionArrays=function(t,e){return t&&e?t.filter((function(t){return-1!==e.indexOf(t)})):[]}}()},pJ9q:function(t,e){BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:{inited:function(){var t=this;t.params.foot&&(t.foot=t.params.foot),t._preventRequest=!0,t.__base.apply(t,arguments),t._userVal=t.val();var e=t._focused;e&&t.delMod("focused"),t.elem("control").attr("autocomplete","off"),t._preventRequest=!1,e&&t.setMod("focused","yes"),t._items=[],t._curItemIndex=-1,t._doRequest=$.debounce(t._doRequest,t.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e=this._items.length,i=!1;if(e){var n=t.which-39,o=this._curItemIndex,s=0;do{i=(0===o&&-1===n||o+n>=e)&&this._onLeaveItem(this._items[o],!0),(o+=n)<0?o=e-1:o>=e&&(o=0)}while(!i&&!1===this._onEnterItem(this._items[o],!0)&&++s<e)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),i=[{elem:"items",tag:"ul",mix:[{block:e,elem:"popup-items"}]}],n=Array.isArray(t.params.popupMixs)?t.params.popupMixs:[],o={directions:"bottom-left"};t._hasPopupFade()&&i.push({block:e,elem:"fade"}),$.extend(o,t.params.popupParams),n.push({block:e,elem:"popup",elemMods:t.params.popupMods,js:{uniqId:t._uniqId}}),t._popup=$(BEMHTML.apply({block:"popup",mods:{animate:"no"},mix:n,js:o,content:{elem:"content",content:i}})).bem("popup").on({show:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},hide:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each({pointerover:t._onEnterItem,pointerout:t._onLeaveItem,pointerdown:t._onSelectItem,pointerup:t._onItemMouseUp},(function(e,i){BEM.blocks["b-autocomplete-item"].on(t._popup.domElem,e,(function(e){i.call(t,e.block)}))})),BEM.DOM.init(t._popup.domElem)}return t._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var i=this._items,n=this._curItemIndex;n>-1&&i[n].delMod("hovered"),(n=this._getItemIndex(t))>-1&&i[n].setMod("hovered","yes"),this._curItemIndex=n,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var i=this._curItemIndex;return i>-1&&i===this._getItemIndex(t)&&(this._items[i].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var i=t.select(e||!1),n="object"==typeof i?i.needUpdate:!1!==i,o="object"==typeof i&&i.needEvent;this._preventRequest=!0,n&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().hide():(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),n||(this._preventHide=!0),this.afterCurrentEvent((function(){this.domElem&&this.setMod("focused","yes").del("_preventRequest","_preventHide")}))),(n||o)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().hide()},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),(function(e){t.trigger("data-received",e);var i=t._getPopup(),n=e.items||e;t.foot&&n.length&&-1===$.inArray(t.foot,n)&&n.push(t.foot),n.length?(t._curItemIndex=-1,BEM.DOM.update(i.elem("items"),t._buildItemsHtml(n),(function(){i.isShown()||(i.show(t.elem("box")),t._setWidth()),t._items=i.findBlocksInside("b-autocomplete-item"),t.trigger("update-items")}))):i.hide()}))},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var e=this;return BEMHTML.apply($.map(t,(function(t,i){var n,o={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:e.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(n=t.concat().pop())&&$.extend(o,n),o})))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}})},"pL+S":function(t,e){BEM.DOM.decl({block:"divjson-tabs",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels","mix-tabber-labels-keyboard","mix-divjson-tabs"]},{_onPanelChange:function(t,e){this.__base.apply(this,arguments);var i=this.findBlockInside(e,"arrowed-list");i&&i.toggleArrows()}})},pQu5:function(t,e){var i;i={},BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,i,n){return $.isFunction(i)||(n=i,i=this.params.onError),this._get(t,e,i,$.extend({},this.params,n)),this},_get:function(t,e,n,o){var s=this._buildCacheKey(t,o),r=i[o.cacheGroup];o.cache&&r&&s in r.data?this.afterCurrentEvent((function(){e.call(this.params.callbackCtx,r.data[s])}),this):this._do(t,e,n,o)},_do:function(t,e,i,n){},_onSuccess:function(t,e,i,n){n.cache&&!this._preventCache&&this.putToCache(n,t,i),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(t,e,n){var o=i[t.cacheGroup]||(i[t.cacheGroup]={keys:[],data:{}});o.keys.length>=t.cacheSize&&delete o.data[o.keys.shift()];var s=this._buildCacheKey(e,t);return o.data[s]=n,o.keys.push(s),this},dropCache:function(){return delete i[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:i})},pWjS:function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_setElements:function(){this.__base.apply(this,arguments),this._form=this.domElem,this._input=this.elem("input")[0],this._button=this.elem("button")[0],this._clear=this.elem("input-clear")[0]},_bindHandlers:function(){this.__base.apply(this,arguments),this._handleClick(this._clear,MBEM.eventProxy("_onClearClick",this))._handleClick(this._button,MBEM.eventProxy("_onSubmitClick",this)).bindTo(this._form,"submit",MBEM.eventProxy("_onFormSubmit",this))},_doSubmit:function(){this._simpleCheckMod("submit-exp","yes")&&this._dispatchInternalSubmitEvent(),this._dispatchNativeSubmitEvent()},_dispatchInternalSubmitEvent:function(){this.trigger("submit")},_dispatchNativeSubmitEvent:function(){var t=document.createEvent("Event");t.initEvent("submit",!0,!0),!1!==this._form.dispatchEvent(t)&&setTimeout(function(){this._form.submit()}.bind(this),0)},_onFormSubmit:function(){this._simpleCheckMod("submit-exp","yes")||this._dispatchInternalSubmitEvent(),this._blurAfterFormSubmit()},_blurAfterFormSubmit:function(){this._blur()},_onSubmitClick:function(t){t.preventDefault(),this.trigger("button-click"),setTimeout(this._doSubmit.bind(this),0)},_onClearClick:function(){document.activeElement!==this._input&&(this._renderItems([]),this._input.focus()),this._changeText("","clear")},_onItemClick:function(t,e){this.__base.apply(this,arguments),this.__self.itemTypeIsSearchable(e.type,e.subtype)&&setTimeout(function(){this._doSubmit()}.bind(this),0)},_openSuggest:function(){MBEM.cls.add(document.body,"body_search_yes"),this.__base.apply(this,arguments)},_closeSuggest:function(){MBEM.cls.remove(document.body,"body_search_yes"),this.__base.apply(this,arguments)},_appendHiddenInput:function(t,e){var i=this._form[t];i||((i=document.createElement("input")).type="hidden",i.name=t,this._form.appendChild(i)),i.value=e}})},paKB:function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_allowReRequest:function(t,e){return this.__base.apply(this,arguments)&&e[2]&&e[2].maybe_ads}})},pt8I:function(t,e){Ya.Rum.enabled&&addEventListener("load",(function i(){removeEventListener("load",i);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var e=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,o=e.length;n<o;n++){var s=e[n],r=s.src;if(!r){var a=getComputedStyle(s).backgroundImage;if(a){var c=a.match(/^url\(["']?(.*?)["']?\)$/);c&&(r=c[1])}}r&&t.sendResTiming(s.getAttribute("data-rCid"),r)}}))},q6V1:function(t,e,i){"use strict";function n(t){if(!("getAttribute"in t)&&"length"in t){for(var e=new Array(t.length),i=0;i<t.length;++i)e[i]=t[i];return e}return[t]}i.r(e),i("W5n3"),i("w2lv"),i("jfdc"),i("VjMc"),i("fLeA"),i("Zw61"),i("7wSh"),i("BWkO"),i("+IdE"),i("TNMt"),i("rcUG"),i("OPCa"),i("gx+b"),i("LFQX"),i("Hmvx"),home.getTouchEvents=function(t){var e=t.originalEvent;return e.touches&&e.touches.length?e.touches:e.changedTouches},home.getTouchEvent=function(t){var e,i=home.getTouchEvents(t);return{x:(e=i&&i.length?i[0]:t.originalEvent).pageX||e.clientX,y:e.pageY||e.clientY}},i("CktI"),i("eQor"),i("JanQ"),i("h9xl"),i("PwbH"),i("el0A"),i("2yRt"),i("SoFJ"),i("wvCv"),i("QG2+"),i("u1mq"),i("VhOV"),i("m3bF"),i("0bai"),i("cW4x"),i("FnIi"),i("42Ai"),i("tf2I"),i("nJF/"),i("fJT3"),i("hvDV"),i("kHCm"),i("jXs/"),i("1/IC"),i("6yJk"),$((function(){var t=home&&home.getData&&home.getData("fingerprint.data");t&&t.enabled&&setTimeout((function(){var e=t.zmblt;try{window.Ya.F.calibrate("Yandex-UI-Icons-Private",(function(i){null!==i&&Number(i)!==Number(e)&&((new Image).src=t.cookieUrl+"&zmblt="+i)}))}catch(i){}}),0)})),i("ut9o"),i("I0X4"),i("6hPz"),i("BhxO"),i("IITb"),i("9gJZ"),i("EhiD"),i("fA+c"),i("X6wk"),i("fUSH"),i("MA0M"),i("sZdo"),i("GDua"),function(){var t,e,i,o={},s={},r=/([^.(]+)(?:\(([^)]*)\))?\.?/g,a=/^([^=]+)=(.+)$/,c={show:!0};home.stat={},home.stat.attr="data-statlog",home.stat.brfix=1,home.stat.getCustomPageParams=function(){var t=home&&home.getData&&home.getData("redir-stats.data")||"",e="",i="";window.Ya&&Ya.Rum&&Ya.Rum.getTime&&(e+="/timefs="+Math.floor(Ya.Rum.getTime()));var n=home.getData?home.getData("timing.vars"):"";return n&&(n[1964]?i="/mexp=0":n[1965]&&(i="/mexp=1")),t+e+i},home.stat._sendPost=function(e,i,n){var o;if("XDomainRequest"in window?o=new XDomainRequest:"XMLHttpRequest"in window&&(o=new XMLHttpRequest),o){o.open("post",n||t,!0),o.withCredentials=!0;try{o.setRequestHeader("Accept","text/plain, */*; q=0.01"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}catch(s){}i&&("onreadystatechange"in o?o.onreadystatechange=function(){4===o.readyState&&i()}:o.onload=o.onerror=i),o.send(e)}};var l,h=function(t){return"/dtype=clck/table=morda"+home.stat.getCustomPageParams()+"/session_id="+o.showId+"/events="+encodeURIComponent(JSON.stringify(t.map((function(t){return{event:t.type,url:t.url,"parent-path":o.statRoot,blocks:t.array}})))).replace(/\*/g,"%2A")+"/*"},d=function(i){if(e){var n=h(e);!function(e){if(o.useBeacon&&"sendBeacon"in navigator)return navigator.sendBeacon(t,e)}(n)?home.stat._sendPost(n,i):i&&i(),e=null}};home.stat.flushQueue=d;var u=function(t,e){var i=e,n=[];t.replace(r,(function(t,e,i){n.push({key:e,params:i?i.split(";"):[]})}));for(var o=0;o<n.length;++o){var s,c=n[o].params,l=n[o].key;!i.some((function(t){if(t.ctag===l)return s=t,!0}))&&(s={ctag:l},i.push(s)),c.length&&c.forEach((function(e){var i=e.match(a);try{s[i[1]]=decodeURIComponent(i[2])}catch(n){home.error.logError({block:"home__stat",message:"Cannot decode counter",method:"convertPathToData",meta:{counter:t,decodingUri:i[2]}})}})),o+1<n.length&&(i=s.children=s.children||[])}return e};home.stat.logPath=function(t,n,r){var a,h,m;if(r&&"clean"===r.mode&&function(t){t&&e&&e.length&&0===(e=e.filter((function(e){return e.type!==t}))).length&&(e=null)}(t),r&&r.customParams&&(n+=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+encodeURIComponent(t[i]));return e.length?"("+e.join(";")+")":""}(r.customParams)),o.enabled&&t&&n){if(e||(e=[]),"show"===t){if(n in s)return;s[n]=!0}c[t]&&(m=function(t){if(!c[t])throw new Error(t+" is not mergeable type");for(var i=0;i<e.length;++i)if(e[i].type===t)return e[i]}(t)),m=m||(e[e.length]={type:t,url:r&&r.url,array:[]}),u(n,m.array),r&&r.callback?(d(a=function(){h||(h=!0,r.callback())}),void 0!==r.callbackTimeout&&setTimeout(a,r.callbackTimeout)):(l||(l=home.delayedTask((function(){i=!1,d()}),25)),i||(i=!0,l()))}else r&&r.callback&&setTimeout(r.callback,0)},home.stat.redirect=function(e,i){if(!o.enabled||!i)return!0;var n,s,r=e.href;if(o.useBeacon&&"sendBeacon"in navigator&&(s=h([{type:"click",url:r,array:u(i,[])}]),navigator.sendBeacon(t,s)))return!0;if("_blank"===e.target)return s=h([{type:"click",url:r,array:u(i,[])}]),home.stat._sendPost(s),!0;if(!e.getAttribute("data-statlog-timeout")&&-1===r.indexOf("/lid="+o.statRoot)){if(n=e.getAttribute("data-statlog-url"))e.href=n;else{var a=function(t){var e=[];return{counter:t.replace(/\(([^)]+)\)/g,(function(t,i){return e.push(i.replace(/;/g,",")),""})),vars:e=e.length?"/vars="+e.join(","):""}}(i);e.href=o.redirHost+"redir/dtype=clck/table=morda"+home.stat.getCustomPageParams()+"/lid="+o.statRoot+"."+a.counter+"/sid="+o.showId+a.vars+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(r.match(/^http/)?r:location.protocol+"//"+location.host+(r.match("^/")?r:"/"+r)))}e.setAttribute("data-statlog-orig-href",r),e.setAttribute("data-statlog-timeout",setTimeout((function(){e.href=r,e.removeAttribute("data-statlog-timeout"),e.removeAttribute("data-statlog-orig-href")}),500))}return!0},home.stat.collectShows=function(t,e){var i=[],o=[];return n(t).forEach((function(t){i=i.concat(n(t.querySelectorAll("["+home.stat.attr+"], [data-stat-select]"))),(t.getAttribute(home.stat.attr)||t.getAttribute("data-stat-select"))&&i.push(t)})),i.forEach((function(t){var i=t.getAttribute(home.stat.attr)||t.getAttribute("data-stat-select"),n=t.getAttribute("data-statlog-showed")||i in s,r=!!t.getAttribute("data-statlog-precise");i&&!n&&(!r||e&&e.precise)&&(e&&!1===e.visibilityCheck||function(t){return t&&(0!==t.offsetWidth||0!==t.offsetHeight)}(t))&&o.push(e&&e.convertCounters&&e.convertCounters(i)||i)})),o},home.stat.logDOMShow=function(t,e){o.enabled&&home.stat.collectShows(t,e).forEach((function(t){home.stat.logPath("show",t)}))},home.stat._countShows=function(t){o.enabled&&t.forEach((function(t){s[t]=!0}))},home.stat.clearShows=function(){o.enabled&&(s={})},home.stat.getRoot=function(){return o.enabled&&o.statRoot||""},home.stat.setCounter=function(t,e){n(t).forEach((function(t){t.setAttribute(home.stat.attr,e)}))};var m=function(t){var e,i=t.target||t.srcElement;if((t.which||t.button)<2){for(;i&&1===i.nodeType&&!(e=i.getAttribute(home.stat.attr));)i=i.parentNode;e&&i&&("0"!==i.getAttribute("data-statlog-redir")&&i.href?i.href&&"click"===t.type&&!t.defaultPrevented&&!1!==t.returnValue&&(home.stat.redirect(i,e)||("preventDefault"in t?t.preventDefault():t.returnValue=!1)):"mousedown"===t.type&&home.stat.logPath("click",e))}},p=function(t,e){"addEventListener"in document?document.addEventListener(t,e,!1):document.attachEvent("on"+t,e)},f=function(){o.enabled&&(p("mousedown",m),p("click",m))};home.subscribeData((function(e){o=e||home.getData("statlog.config",{}),t=o.clckDemonHost+"counter","querySelectorAll"in document||(o.enabled=!1),f()})),home.stat._processClicks=m,home.stat._setConfig=function(e){t=(o=e).clckDemonHost+"counter",s={},f()}}(),home.debounce=function(t,e,i,n){var o;return 3===arguments.length&&"boolean"!=typeof i&&(n=i,i=!1),function(){var s=arguments;n=n||this,i&&!o&&t.apply(n,s),clearTimeout(o),o=setTimeout((function(){i||t.apply(n,s),o=null}),e)}},i("Qi+R"),i("Ak4E");var o=i("AZC8");function s(t,e){return function(t,e,i){if("undefined"==typeof home||!t)return i;var n,o,s,r=e.split("."),a=r.length;if(a>1){for(n=t||{},o=0;o<a;o++)if(void 0===(n=n[r[o]]))return void 0===n?i:n;return void 0===n?i:n}return void 0===(s=t[e])?i:s}(home&&home["export"],t,e)}"undefined"!=typeof home&&(home.dataCallbacks=home.dataCallbacks||[]),$(document).ready((function(){var t=s("adb.data");if(t){var e,i=t.domain,n=t.sameSiteSupport,r=t.sourceMark,a=t.footerMark,c=t.adb,l=t.timeout,h=!1,d={blocks:[],resources:[],global:[]},u=!1,m=1;BEM.channel("adb").on("rendered",(function(t,e){setTimeout((function(){var t=e.elem,i=e.id;("zen-lib"!==i||a)&&!$(t).is(":visible")&&d.blocks.push(i)}),1e3)})),r&&BEM.channel("adb").on("download",(function(t,e){d.resources.push(e.id)})),setTimeout((function(){!function i(){if(!u){u=2===m,m++;var n=function(){var t=$('<div class="b-spec-adv" aria-hidden="true"></div>');$("body").append(t);var e=0===t.prop("clientWidth");return t.remove(),e}(),o=function(){var i=t.adg;return!(!i.str||!i.check)&&(e||(e=$('<div aria-hidden="true" style="position:absolute;left:-10px;top:0;width:1px;height:1px;overflow:hidden;">'+i.str+"</div>"),$("body").append(e)),0===$(i.check,e)[0].offsetWidth)}();n&&d.global.push("easylist"),o&&d.global.push("adguard"),home._cbsc&&d.global.push("styles"),(d.blocks.length||d.resources.length||d.global.length)&&!h?(u=!0,p(!0)):(l*=2,setTimeout((function(){i(),e&&e.remove(),u&&c&&t.selfClean&&p(!1)}),l))}}()}),l)}function p(e){var s,r=new Date,a="",l=r.getTime(),u=12096e5;e?(BEM.channel("adb").trigger("detect"),r.setTime(l+u),s=c?"Adb cookie extended":"Adb cookie set"):(r.setTime(l-u),s="Adb cookie remove");var m="; expires="+r.toUTCString();n&&(a="; sameSite=None"),document.cookie="computer=1"+m+";domain=."+i+a+"; secure=true; path=/",t.cookie&&(document.cookie=t.cookie+"=1"+m+";domain=."+i+a+"; secure=true; path=/"),h=!0,function(t,e){Object(o.a)({level:"info",block:"adb",message:e,meta:{params:JSON.stringify(t)},sourceType:"logic"})}(d,s)}})),i("H+lM"),i("Vzvc"),i("0F46"),i("pIfI"),i("rfak"),i("MXfC"),i("gitU"),i("mcHa"),i("AyFg"),i("H0Yh"),i("bN1B"),i("myQs"),i("34z/"),i("p0dP"),i("0laM"),i("4H+s"),i("bXpa"),i("D+8f"),i("NfXW"),i("ZqzM"),i("zb7N");var r=i("KC5a");function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&void 0!==t[i]&&e.push(i+"="+encodeURIComponent(t[i]));return e.length?"("+e.join(";")+")":""}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,(i=[{key:"getAttr",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return"";i.customParams&&(t+=c(i.customParams)),(t=String(t)).indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;"));var n=!1!==i.isRedirect;return' data-statlog="'+t+'"'+(n?"":' data-statlog-redir="0"')+(i.precise?' data-statlog-precise="1"':"")}},{key:"logShow",value:function(t,e){return t?(e&&(t+=c(e)),home.stat.logPath("show",t),t):""}},{key:"getClientCounter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;return(t=i?(t||"")+c(i):t)?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':""):""}},{key:"getAdaptiveCounter",value:function(t,e){return t?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':"")+' data-statlog-autoshow="1"':""}}])&&a(e.prototype,i),t}();function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}for(var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,(i=[{key:"add",value:function(t,e,i){home["export"][i]||(home["export"][i]={}),home["export"][i][t]?home.deepExtend(home["export"][i][t],e):home["export"][i][t]=e}},{key:"has",value:function(t,e){return Boolean(home.getData&&home.getData(e+"."+t))}}])&&h(e.prototype,i),t}(),u={stub:!0},m=function(){var t=f[p];u[t]=function(e){if(home.error&&(!home.getData||!0===home.getData("csp.report"))){var i=new Error("req.csp."+t+" was called on clientside");i.meta={url:e},i.block="home.views",home.error.logError(i)}}},p=0,f=["allowDefault","allowStyle","allowPlugin","allowObject","allowMedia","allowImg","allowFont","allowConnect","allowScript","allowChild","allowForm"];p<f.length;p++)m();var _={l10n:r.a,stat:new l,settingsJs:new d,csp:u,cls:{full:function(t){return t},part:function(t){return t},contains:function(t){return!1}},isClient:1},g={},v=1;function b(t,e,i){for(var n in i=i||{},_)i.hasOwnProperty(n)||(i[n]=_[n]);var o="object"==typeof window&&window.home&&home.getData&&home.getData("common.req")||{};for(var s in o)o.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(i[s]=o[s]);return function r(t,e){var n;if("function"==typeof t)if(t.isCached){t.__execViewUniq||(t.__execViewUniq=v++);var o=t.__execViewUniq;o in g?n=g[o]:(n=t(i,r),g[o]=n)}else n=t(e,i,r);return void 0===n&&(n=""),n}(t,e)}var y=i("uFzG"),w=i.n(y),k=i("w/5I"),E=i.n(k);function M(t){var e=String(t);return e.indexOf("&")>-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")>-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")>-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf('"')>-1&&(e=e.replace(/"/g,"&quot;")),e}function x(t){return M(JSON.stringify(t))}function T(t,e){var i,n=[];for(i in e)e.hasOwnProperty(i)&&(e[i]||0===e[i])&&n.push(t+"_"+i+"_"+String(e[i]));return n.join(" ")}function C(t,e){var i=e.mods,n=t,o=i?T(t,i):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),n+=" "+e.mix.map((function(e){if("string"==typeof e)return e;var i=e.block||t,n=e.mods;return e.elem&&(i+="__"+e.elem,n=e.elemMods),n&&(i+=" "+T(i,n)),i})).join(" ")):n+=" "+e.mix),o&&(n+=" "+o),n}function S(t,e,i){var n=t.mods||{},o=t.content||"";return void 0===n.view&&(n.view="classic"),t.hasTail&&(o=i(I)+o),i(B,{mix:t.mix,mods:n,js:home.deepExtend({popup2:{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,tailOffset:t.tailOffset,tailSize:t.tailSize,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel,position:t.position}},t.jsMix||{}),content:o,attrs:t.attrs})}function B(t){return"<div "+w()(Object.assign({"class":"".concat(C("popup2",t||{})," i-bem"),"data-bem":x(t.js||{})},t.attrs))+">"+E.a.oneElem(t.content)+"</div>"}function I(){return"<div class='popup2__tail'></div>"}function P(t){return"string"==typeof t?t:"number"==typeof t||"boolean"==typeof t?String(t):""}var D=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,O=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function j(t,e){return t.split("&").reduce((function(t,i){if(!i)return{};var n,s,r=i.match(/([^=]*)=(.*)/);if(r)try{n=decodeURIComponent(r[1]),s=decodeURIComponent(r[2])}catch(a){return Object(o.a)({message:"parseSearch: "+a.message+"; token: "+i,block:"url"}),t}else{try{n=decodeURIComponent(i)}catch(a){return Object(o.a)({message:"parseSearch: "+a.message+"; token: "+i,block:"url"}),t}s=""}if(n in t&&e){var c=t[n];"string"==typeof c&&(t[n]=[c]),t[n].push(s)}else t[n]=s;return t}),{})}function R(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(null!=n)for(var o=Array.isArray(n)?n:[n],s=0;s<o.length;++s)e.push(encodeURIComponent(i)+(""!==o[s]?"="+encodeURIComponent(String(o[s])):""))}return e.length?"?"+e.join("&"):""}function A(t,e){return t.replace(O,(function(t,i,n,o){var s=n?j(n):{};for(var r in e)e.hasOwnProperty(r)&&(s[r]=e[r]);return i+R(s)+(o?"#"+o:"")}))}var F=function(t){return t.isCached=!0,t};function N(t){if(!t)return"";var e,i="";for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(n||0===n)if(n===home.emptyAttr)i+=" "+e;else{var o=String(n);o.indexOf('"')>-1&&(o=o.replace(/"/g,"&quot;")),i+=" "+e+'="'+o+'"'}}return i}var L=F((function(t){return t.CSP&&t.CSP.nonce?' nonce="'+t.CSP.nonce+'"':""}));function U(t,e,i){return"<style "+w()(Object.assign({_temp:i(L)},t.attrs))+">"+E.a.oneElem(t.content||"")+"</style>"}function H(t){return"<div "+w()(Object.assign({"class":t.mix||""},t.attrs))+">"+E.a.oneElem(t.content)+"</div>"}function z(t){return"<span "+w()(Object.assign({"class":"".concat(t.mod||""," ").concat(t.mix||"")},t.attrs))+">"+E.a.oneElem(t.content)+"</span>"}function W(t,e,i){var n=t.content,o=t.title?i(q,{content:t.title}):"";return i(V,{content:o+n})}function V(t){return"<div class='menu__group' role='group'>"+E.a.oneElem(t.content)+"</div>"}function q(t){return"<div class='menu__title' aria-hidden='true'>"+E.a.oneElem(t.content)+"</div>"}function K(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M3.051 3.05h.001l.371-.37a.4.4 0 0 1 .547-.019l.849.745a1.296 1.296 0 0 0 2.18-.904h.003l.073-1.127a.4.4 0 0 1 .4-.374H8V1v.001h.525a.4.4 0 0 1 .399.374l.074 1.127H9A1.296 1.296 0 0 0 10.3 3.75c.345 0 .658-.134.89-.353l.84-.736a.4.4 0 0 1 .546.018l.371.371h.002v.002l.37.37a.4.4 0 0 1 .019.547l-.744.85a1.297 1.297 0 0 0 .04 1.803c.223.222.527.364.864.377v.003l1.127.074a.4.4 0 0 1 .373.399V8H15V8h-.002v.525a.4.4 0 0 1-.373.4L13.498 9a1.3 1.3 0 0 0-.903 2.182h-.001l.744.85a.4.4 0 0 1-.018.546l-.371.372v.001l-.372.37a.4.4 0 0 1-.546.019l-.82-.717a1.296 1.296 0 0 0-1.833.01 1.296 1.296 0 0 0-.377.867h-.003l-.074 1.127a.4.4 0 0 1-.376.373H7.451a.4.4 0 0 1-.376-.373L7.002 13.5h-.003A1.296 1.296 0 0 0 5.7 12.25c-.352 0-.672.14-.906.368l-.825.722a.4.4 0 0 1-.547-.018l-.37-.371-.002-.001-.37-.372a.4.4 0 0 1-.019-.546l.745-.85a1.302 1.302 0 0 0-.904-2.181l-1.128-.076a.4.4 0 0 1-.373-.4v-.524L1 8l.001-.525a.4.4 0 0 1 .374-.4l1.127-.073v-.003A1.296 1.296 0 0 0 3.75 5.7c0-.342-.132-.654-.349-.886l-.74-.845a.4.4 0 0 1 .019-.546l.371-.371-.001-.002h.001zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z' fill='#000' fill-rule='nonzero'/></svg>"}function Y(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><g fill='#000' fill-rule='nonzero'><path d='M10.445 2.536L8.423 5.763a.5.5 0 0 1-.847 0l-2.02-3.227A.35.35 0 0 1 5.851 2h4.296a.35.35 0 0 1 .297.536zM10.445 13.462l-2.022-3.227a.5.5 0 0 0-.847 0l-2.02 3.227a.35.35 0 0 0 .296.536h4.296a.35.35 0 0 0 .297-.536z'/><rect x='1' y='7' width='14' height='2' rx='.5'/></g></svg>"}function G(){return"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'><path d='M2.52 3.93L.79 2.21A1 1 0 0 1 2.21.79l13 13a1 1 0 0 1-1.42 1.42l-2.04-2.04c-1.06.5-2.32.83-3.75.83-5.14 0-8-4.2-8-6 0-1 .87-2.72 2.52-4.07zm1.42 1.43c-.17.13-.34.27-.5.42C2.54 6.62 2 7.64 2 8c0 .36.55 1.38 1.44 2.22a6.78 6.78 0 0 0 6.78 1.42l-1.46-1.47a2.3 2.3 0 0 1-2.93-2.93L3.94 5.36zM14 8c0 .28-.32.93-.86 1.6l1.42 1.42C15.5 9.92 16 8.75 16 8c0-1.8-2.86-6-8-6-.79 0-1.52.1-2.2.27l1.75 1.74L8 4c1.81 0 3.37.66 4.56 1.78C13.46 6.62 14 7.64 14 8z' fill='#000'/></svg>"}function Z(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M13.565 3.086l-3.992 9.98a.5.5 0 0 1-.95-.064L7.5 8.502l-4.5-1.124a.5.5 0 0 1-.065-.95l9.982-3.992a.5.5 0 0 1 .65.65z' fill='#000' fill-rule='nonzero'/></svg>"}function X(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M11 2h2.5a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1H5l.854-.854A.5.5 0 0 1 6.207 1h3.586a.5.5 0 0 1 .353.146L11 2zm1.015 11.843A1.25 1.25 0 0 1 10.768 15H5.232a1.25 1.25 0 0 1-1.247-1.157l-.694-9.255a.55.55 0 0 1 .549-.591l8.32-.002a.55.55 0 0 1 .549.591l-.694 9.257zM6.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0v-6a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0v-6a.5.5 0 0 0-.5-.5z' fill='#000' fill-rule='nonzero'/></svg>"}function J(){return"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'><path d='M7.99 12.57l-3.85 2.34a.6.6 0 0 1-.9-.64l1.04-4.39L.87 6.94a.6.6 0 0 1 .34-1.05l4.49-.37 1.74-4.15a.6.6 0 0 1 1.1 0l1.74 4.16 4.49.36a.6.6 0 0 1 .34 1.05l-3.42 2.94 1.04 4.39a.6.6 0 0 1-.9.64L8 12.57z' fill='#000'/></svg>"}function Q(){return"<svg focusable='false' xmlns='http://www.w3.org/2000/svg' width='8' height='14' viewbox='0 0 8 14'><path d='M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z'/></svg>"}function tt(){return"<svg focusable='false' xmlns='http://www.w3.org/2000/svg' width='16' height='10' viewbox='0 0 16 10'><path d='M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z'/></svg>"}function et(t,e,i){var n=t||{},o={},s=void 0!==n.url,r=void 0!==Object(n.attrs).style,a=(r?n.attrs.style:"")+(s?";background-image:url('"+n.url+"');":"");n.mods=n.mods||{},n.mods["has-glyph"]="yes",r&&(n.attrs.style=a),a&&(o.style=a);var c=i(nt,n.mods.glyph);return i(it,{mods:n.mods,attrs:o,mix:n.mix,content:c})}function it(t){return"<span "+w()(Object.assign({"class":C("icon",t||{})},t.attrs))+">"+E.a.oneElem(t.content)+"</span>"}function nt(t,e,i){var n={settings:K,hide:Y,hide2:G,geo:Z,"delete":X,star:J,"afisha-fav":"icon_glyph_afisha-fav","carets-v":Q,"type-check":tt}[t];if(n)return i(n)}function ot(t,e,i){return i(et,{mix:home.getBEMClassname("menu__icon",t),mods:t.mods})}function st(t,e,i){var n=t.elemMods||{},o="link"===n.type?at:rt,s="navigation"===t.mods.type&&t.href?"link":t.mods.type&&"navigation"!==t.mods.type?"option":"menuitem";return i(o,{className:home.getBEMClassname("menu__"+(t.elem||"item"),{mods:n,mix:(t.mix||"")+(t.mixJs?" i-bem":"")}),js:home.deepExtend({menu__item:home.deepExtend(t.js||{},{val:t.val})},t.mixJs),attrs:home.deepExtend({title:t.title&&home.htmlFilter(t.title),"aria-disabled":!!n.disabled&&"true","aria-selected":!!n.checked&&"true",href:t.href||"",target:t.href?t.target:"",rel:"_blank"===t.target?"noopener":"",role:s},t.attrs||{}),tag:t.href?"a":"div",content:[t.mods&&"default"===t.mods.view&&void 0!==t.mods.type&&"navigation"!==t.mods.type&&i(et,{mods:{glyph:"type-check"}}),t.icon&&i(ot,home.deepExtend({mods:{size:t.mods.size},mix:t.iconMix},t.icon)),void 0!==t.text&&i(z,{mod:"menu__text",mix:t.textMix,content:home.htmlFilter(t.text)}),t.content].filter(Boolean).join(""),stat:t.stat||""})}function rt(t){return"<div "+w()(Object.assign({"class":t.className,"data-bem":x(t.js||{})},t.attrs,{_temp:t.stat}))+">"+E.a.oneElem(t.content)+"</div>"}function at(t){return'<li class="menu__list-item"><'+t.tag+' class="'+(t.className||0===t.className?t.className:"")+'" data-bem="'+x(t.js)+'" '+N(t.attrs)+" "+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+"></li>"}function ct(t,e,i){var n,o=t.mods||{},s=o.disabled,r=o.type,a=void 0!==t.tabindex?t.tabindex:void 0;return n=void 0!==t.val?[].concat(t.val):[],void 0===o.view&&(o.view="classic"),"default"===o.view&&void 0===o.size&&(o.size="n"),-1!==["radio","radiocheck"].indexOf(r)&&(n=n.slice(0,1)),i(lt,{mods:o,mix:t.mix,tag:"navigation"===r?"ul":"div",attrs:{tabindex:s||null===a?void 0:a,"aria-disabled":!!s&&"true","data-bem":home.getBEMParams({menu:home.deepExtend(t.js||{},{_tabindex:null!==a&&s?a:void 0})})},content:function c(t){return[].concat(t).filter((function(t){return!1!==t&&null!=t})).map((function(t){return"string"==typeof t&&(t={text:t}),t.items?(t.content||(t.content=c(t.items).join("")),i(W,t)):(t.mods=o,t.elem="item",t.elemMods||(t.elemMods={}),-1!==["check","radio","radiocheck"].indexOf(r)?t.elemMods=home.deepExtend({type:"option",checked:-1!==n.indexOf(t.val)?"yes":void 0},t.elemMods):"navigation"===r&&(t.elemMods=home.deepExtend({type:"link"},t.elemMods)),i(st,t))}),this)}(t.items).join("")})}function lt(t){return"<"+t.tag+' class="'+C("menu",t||{})+' i-bem" '+N(t.attrs)+">"+(t.content||"")+"</"+t.tag+">"}var ht=F((function(t,e){return s("common.new-tab-links")}));function dt(t,e,i){var n="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o["class"]=home.getBEMClassname("home-link2",{mix:r,mods:s}),t.href?o.href=t.href:n=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&i(ht,e)&&(o.target="_blank"),"_blank"===o.target&&void 0===o.rel&&(o.rel="noopener"),a="<"+n,a+=home.getAttributes(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+home.getBEMParams(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+n+">"}var ut=F((function(t){return"number"==typeof devicePixelRatio?devicePixelRatio:t.UserDevice&&t.UserDevice.ratio&&parseFloat(t.UserDevice.ratio.replace("_","."))||1})),mt=F((function(){return{}}));function pt(t,e,i){var n=i(mt);return t in n||(n[t]=0),t+"-client"+n[t]++}function ft(t,e,i){var n=t.mix||"",o=t.mods||{},s=t.attrs||{};return i(dt,{mix:n+=" "+home.getBEMClassname("avatar",{mods:o}),attrs:s,href:t.href,stat:t.stat,content:i(_t,t)+(t.after||"")})}function _t(t,e,i){var n,o,s,r=t.avatarSizes||(t.mods?{s:{"default":"islands-small","2x":"islands-retina-small"},m:{"default":"islands-34","2x":"islands-68"},l:{"default":"islands-middle","2x":"islands-retina-middle"}}[t.mods.size]:null)||{},a="avatar__image "+(t.imageMix||""),c=i(ut)>=1.25,l="";t.avatarUrl?(n=t.avatarUrl,o=t.darkAvatarUrl):(n=i(gt,{avatar_id:t.avatarId,avatar_size:r["default"]}),r["2x"]&&(s=i(gt,{avatar_id:t.avatarId,avatar_size:r["2x"]})));var h=c&&s||n,d=i(pt,"avatar__image");n&&(l+=".".concat(d,"{")+"background-image:url("+h+");"+(s?"background-image:-webkit-image-set(url("+n+") 1x, url("+s+") 1.25x);":"")+"}",o&&(l+=".document_dark_yes .".concat(d,"{")+"background-image:url("+o+");}"));var u=E.a.oneElem(i(U,{content:E.a.oneElem(l)}))+E.a.oneElem("<span "+w()({"class":a+" "+d})+"></span>");return t.mods&&t.mods["has-camera"]&&t.passportHost&&(u+=i(vt,t)),"<span class='avatar__image-wrapper'>"+E.a.oneElem(u)+"</span>"}function gt(t,e){var i="https://avatars.mds.yandex.net/get-yapic/"+(t.avatar_id||"0/0-0")+"/"+(t.avatar_size||"islands-middle");return e.csp&&!e.csp.stub&&e.csp.allowImg(i),i}function vt(t,e,i){return i(dt,{mix:"avatar__camera",href:home.addQueryToUrl(t.passportHost+"/profile/public",{origin:t.origin,retpath:t.retpath})})}function bt(t,e,i){var n=t.defaultUser,o=t.otherUsers,s=[],r=t.passportHost,a="mail.login.usermenu.",c=t.retpath,l=A(r+"/auth",{mode:"add-user",retpath:c,origin:"home_desktop_"+e.MordaZone.replace(".","")+t.authOriginSuffix}),h=t.services;if(t.plus&&t.plus.active){var d="",u=t.plus.subscription_expire_days;u>=0&&(d=i(z,{mod:"usermenu__plus-subtitle",content:0===u?e.l10n("plus.expires-today"):home.decline(u,e.l10n("plus.expires-days")).replace("%d",u)})),s.push({href:t.plus.url,stat:e.stat.getAttr(a+"plus_info"),attrs:{"aria-label":e.l10n("plus.active")},content:i(z,{mod:"usermenu__plus-icon"})+i(z,{mod:"usermenu__plus-title",content:e.l10n("domik.active")})+d})}return s.push({href:r+"/passport?mode=passport",stat:e.stat.getAttr(a+"passport"),text:e.l10n("header.yandex_id_domik"),attrs:{"aria-label":e.l10n("header.yandex_id_domik")}}),t.messenger&&s.push({mix:"usermenu__messenger",text:e.l10n("messenger.title2"),attrs:{"aria-label":e.l10n("messenger.title2"),tabindex:"0"}}),h&&h.forEach((function(t){s.push({href:t.url,stat:e.stat.getAttr(a+t.id),text:t.title,attrs:{"aria-label":t.title}})})),s.push({href:t.favorites,stat:e.stat.getAttr(a+"favorites"),text:e.l10n("header.favorites"),attrs:{"aria-label":e.l10n("header.favorites")}}),t.setupPage&&s.push({href:t.setupPage,stat:e.stat.getAttr(a+"settings"),text:e.l10n("header.tune"),attrs:{"aria-label":e.l10n("header.tune")}}),s.push({href:A(r+"/passport",{mode:"logout",yu:t.yandexuid,retpath:c}),stat:e.stat.getAttr(a+"exit"),text:e.l10n("header.logout"),attrs:{"aria-label":e.l10n("header.logout")}}),i(kt,{mods:{multi:o.length?"yes":"no"},defaultUser:i(yt,{user:n,passportHost:r,retpath:c,hasCamera:"0/0-0"===n.avatar_id}),links:i(ct,{mods:{view:"default",tone:"default",size:"sx",type:"navigation"},items:s.map((function(t){return t.mix="usermenu__item"+(t.mix?" "+t.mix:""),t}))}),otherUsers:o.map((function(t,n){return t.changeStat=e.stat.getAttr(a+"change.user"+n,null,{isRedirect:!1}),t.exitStat=e.stat.getAttr(a+"exit.user"+n,null,{isRedirect:!1}),i(yt,{user:t,passportHost:r})})).join(""),addUser:t.allowMoreUsers?i(xt,{href:l,stat:e.stat.getAttr(a+"adduser"),text:e.l10n("header.adduser").replace("<br/>"," ")}):"",js:{usermenu:{stat:a,passport:l,auth:{action:r+"/passport?mode=embeddedauth",params:{yu:t.yandexuid,retpath:t.loginStatusRetpath,action:"change_default"}},messenger:t.messenger}}})}function yt(t,e,i){var n=t.user,o=n.email&&n.mailbox,s=home.htmlFilter(home.cleverString.cutEndOfString(n.UserName.str,20)),r=home.htmlFilter(n.UserName.str),a=n.uid,c=n.avatar_id,l=n["default"];return i(Et,{mod:l?"":" usermenu__user_clickable_yes usermenu__item",name:s,email:o?i(wt,n):"",userIcon:i(ft,{mix:"usermenu__user-icon usermenu__user-icon_type_"+("0/0-0"===c?"default":"custom"),avatarId:c,passportHost:t.passportHost,retpath:t.retpath,origin:"morda",mods:{size:"l","has-camera":t.hasCamera?"yes":""}}),attrs:{tabindex:l?void 0:"0","data-uid":a,role:"button","aria-label":l?"":home.stringf(e.l10n("header.switchuser"),r)},stat:l?"":n.changeStat,exit:l?"":i(Mt,{attrs:{tabindex:l?void 0:"0","data-uid":a,role:"button",title:l?"":home.stringf(e.l10n("header.exituser"),r)},stat:t["default"]?"":n.exitStat})})}function wt(t){var e=home.cleverString.cutEndOfString(t.email,25);return'<div class="usermenu__user-email">'+home.htmlFilter(e)+"</div>"}function kt(t){return"<div "+w()({"class":"".concat(C("usermenu",t||{})," i-bem"),"data-bem":x(t.js||{})})+">"+(E.a.oneElem(t.defaultUser)+E.a.oneElem(t.links))+"<div class='usermenu__separator'></div>"+E.a.oneElem("<div class='usermenu__list'>"+(E.a.oneElem(t.otherUsers)+E.a.oneElem(t.addUser))+"</div>")+"</div>"}function Et(t){return"<div class='usermenu__list-item' role='menuitem'>"+(E.a.oneElem("<div "+w()(Object.assign({"class":"usermenu__user ".concat(P(t.mod))},t.attrs,{_temp:t.stat}))+">"+(E.a.oneElem("<div class='usermenu__user-icon-wrapper'>"+E.a.oneElem(t.userIcon)+"</div>")+E.a.oneElem("<div class='usermenu__user-info'>"+(E.a.oneElem("<div class='usermenu__user-name'>"+E.a.oneElem(t.name)+"</div>")+E.a.oneElem(t.email))+"</div>"))+"</div>")+E.a.oneElem(t.exit))+"</div>"}function Mt(t){return"<div "+w()(Object.assign({"class":"usermenu__user-exit popup__link"},t.attrs,{_temp:t.stat}))+"><div class='usermenu__user-exit-icon'></div></div>"}function xt(t){return"<div class='usermenu__list-item' role='menuitem'>"+E.a.oneElem("<a "+w()({"class":"usermenu__user usermenu__user-add usermenu__item",href:t.href,"aria-label":t.text,_temp:t.stat})+"><div class='usermenu__user-icon-wrapper'><div class='usermenu__user-icon usermenu__user-add-icon'></div></div>"+E.a.oneElem("<div class='usermenu__user-info'>"+E.a.oneElem("<div class='usermenu__user-add-text'>"+E.a.oneElem(t.text)+"</div>")+"</div>")+"</a>")+"</div>"}function Tt(t,e,i){return i(bt,t)}function Ct(t){return"<div "+w()(Object.assign({"class":"".concat(t.block||"","__panel").concat(t.mix||""),role:"tabpanel",id:"".concat(t.id||"","_panel_").concat(t.key||""),"data-key":0===t.key||t.key?t.key:""},t.attrs))+">"+E.a.oneElem(t.content)+"</div>"}function St(t,e,i){var n=t.mods||{},o="button",s=t.attrs||{};return t.url?o="a":t.tag&&(o=t.tag),n.theme||("yes"===n.pseudo?n.theme="pseudo":n.theme="normal"),s.role=s.role||"button",t.tabindex&&(s.tabindex=t.tabindex),t.url?(s.href=t.url,t.target?s.target=t.target:i(ht)&&(s.target="_blank"),n.disabled&&(s["aria-disabled"]=!0),"_blank"===s.target&&void 0===s.rel&&(s.rel="noopener")):(s.type=t.type||"button",t.name&&(s.name=t.name),t.value&&(s.value=t.value),n.disabled&&(s.disabled="disabled")),"<"+o+' class="'+home.getBEMClassname("button",{mods:n,mix:t.mix})+' i-bem" data-bem="{&quot;button&quot;:{}}"'+home.getAttributes(s)+(t.stat||"")+'><span class="button__text">'+(t.content||"")+"</span>"+(t.afterContent||"")+"</"+o+">"}function Bt(t,e,i){return i(St,{mods:t.buttonMods,mix:"mix-tabber-loader__retry-button "+t.block+"__retry-button",content:e.l10n("loading.retry"),attrs:{"data-statlog":t.statRoot+".retry","data-key":t.key}})}function It(t,e,i){return"<div "+w()({"class":"mix-tabber-loader__retry ".concat(P(t.block),"__retry")})+">"+(E.a.oneElem(e.l10n("loading.general_error"))+E.a.oneElem(i(Bt,t)))+"</div>"}BEM.DOM.decl("usermenu-link",{_createPopup:function(){if(this.__self._popup&&this.updatePopup(),!this._inited){if(this._inited=!0,!this.__self._popup){var t=home.getData("usermenu-link.data");if(!t)return;var e=$(b(S,{mods:{view:"default",theme:"normal",target:"anchor",autoclosable:"yes","alt-shadow":"yes"},content:b(Tt,t)})).appendTo("body");home.stat.logDOMShow(e,{visibilityCheck:!1}),BEM.DOM.init(e),this.__self._popup=this.findBlockInside(e,"popup2"),this.updatePopup()}this.__self._popup.on({beforeOpen:function(){this._toggleSwitcherAttrs(!0)},beforeClose:function(){this._toggleSwitcherAttrs(!1)}},this)}},updatePopup:function(){var t=this.params.popup||{};this.setAnchor(),t.mainOffset=t.mainOffset||0,t.secondaryOffset=t.secondaryOffset||0,t.directions=t.directions||["bottom-right"],this.__self._popup.setParams(t)},setAnchor:function(){var t=this.domElem;if(this.params.anchor){var e=this.findBlockInside(this.params.anchor);e&&(t=e)}this.params.anchorElem&&(t=this.elem(this.params.anchorElem)),this.__self._popup.setAnchor(t)},_onSwitcherClick:function(){this._createPopup(),this.__self._popup&&this.__self._popup.toggleMod("visible","yes")},_toggleSwitcherAttrs:function(t){this.domElem.attr("aria-expanded",t?"true":"false")}},{hide:function(){this._popup&&this._popup.setMod("visible","")},live:function(){this.liveBindTo("control","click",(function(){return this._onSwitcherClick(),!1})),this.liveBindKey("control","space enter",(function(){return this._onSwitcherClick(),!1}))}}),i("xs0k"),i("sRsx"),i("AFE+"),BEM.DOM.decl("usermenu",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("popup2");t.on("beforeOpen",(function(){this.domElem.css("min-width","")}),this),this.params.messenger&&this._initMessenger(t)}}},_initMessenger:function(t){home.stat.logPath("show",this.params.stat+"messenger");var e,i,n=function(){return t.delMod("visible"),BEM.blocks["i-messenger"].showWidget(),home.stat.logPath("click",this.params.stat+"messenger"),!1}.bind(this);this.bindTo("messenger","click",n),this.bindKeyTo("messenger","space enter",n),BEM.blocks["i-messenger-unread"].listenCount(function(t){t!==i&&(i=t,e&&(e.remove(),e=null),t&&(e=$('<span class="usermenu__messenger-badge">'+t+"</span>").appendTo(this.elem("messenger"))))}.bind(this))},_getEmbeddedAuth:function(){return this.auth?this.auth:this.auth=BEM.create("i-embeddedauth",this.params.auth)},_selectUser:function(t){var e=t.closest(".usermenu__user").data("uid");if(e)return this._getEmbeddedAuth().setData({uid:e},this.changeThis(this._switchResponse)).submit(),!1},_logoutUser:function(t){var e=t.closest(".usermenu__user-exit"),i=e.parent(),n=e.data("uid");if(n)return this.domElem.css("min-width",this.domElem.width()),this._$userWrapper=i,this._getEmbeddedAuth().setData({uid:n,action:"logout"},this.changeThis(this._logoutResponse)).submit(),!1},_switchResponse:function(t){switch(t.status){case"ok":case"action-not-required":return void window.location.reload();default:window.location.href=this.params.passport}},_logoutResponse:function(t){var e=this._$userWrapper;switch(this._$userWrapper=null,t.status){case"ok":case"action-not-required":return void(e&&e.hide());default:window.location.href=this.params.passport}}},{live:function(){var t=function(t){return this._selectUser($(t.target))},e=function(t){return this._logoutUser($(t.target))};return this.liveBindTo({elem:"user",modName:"clickable",modVal:"yes"},"pointerclick",t),this.liveBindKey({elem:"user",modName:"clickable",modVal:"yes"},"enter",t),this.liveBindTo("user-exit","pointerclick",e),this.liveBindKey("user-exit","enter",e),!1}}),i("v2Tx"),i("+BsJ"),i("oQCc"),i("6PS6"),i("rwjG"),BEM.decl("i-messenger",{onSetMod:{js:{inited:function(){this.params.url?(this._messengerIsOn=!0,this._url=this.params.url,this._pushGuid=this.params.pushGuid,this._refRtx=this.params.rtx,this._anchorTimestamp=this.params.anchorTimestamp,this._autoShow=this.params.autoShow,this._pushChatId=this.params.pushChatId,this._chatId=this.params.chatId,this._homePageNoArgs=this.params.homePageNoArgs,this._passportUrl=this.params.passportUrl,this._inviteHash=home.localStorage.getItem("home:chats:invite-hash"),this._inviteHash&&home.localStorage.removeItem("home:chats:invite-hash"),this._tryAutoShow()):this._messengerIsOn=!1}}},_getMessenger:function(){var t=this;return new Promise((function(e,i){window.yandexChatWidgetCallback=e,home.loadScript(t._url,void 0,i)})).then((function(){return new Promise((function(t){setTimeout(t,50)}))})).then((function(){return t._widgetLoadCallback()})).then((function(e){return t._bindWidgetEvents(e)}))["catch"]((function(t){throw home.error.logError({block:"chat_widget",method:"i-messenger:onSetMod:js:inited",message:"cannot load chat_widget"},t),t}))},_widgetLoadCallback:function(){var t=this.params,e=new window.Ya.ChatWidget(home.deepExtend({theme:"hidden",buttonText:Object(r.a)("messenger.title"),title:Object(r.a)("messenger.title"),autocloseable:!0,iframeUrlParams:{header:"disabled",authType:"own"},unreadUrl:t.unreadUrl},t.overrideConfig||{}));return $("html").addClass("document_messenger_yes"),e},_tryAutoShow:function(){try{if("keyboard_state=open"===window.name)return}catch(e){}var t;this._autoShow&&(t={}),this._inviteHash&&this._chatId?t={inviteHash:this._inviteHash,rtx:this._refRtx,anchorTimestamp:this._anchorTimestamp,chatId:this._chatId,autoJoin:!0}:this._pushChatId?t={chatId:this._pushChatId}:this._pushGuid&&(t={guid:this._pushGuid}),t&&(this.showChat(t),home.stat.logPath("show","messenger.autoshow"))},_bindWidgetEvents:function(t){var e=this;return $(".ya-chat-button").on("click",(function(){home.stat.logPath("click","messenger.button")})),t.addListener("authRequest",(function(t){var i=(t=t||{}).inviteHash||e._currentInviteHash,n=t.chatId||e._currentChatId||"";home.localStorage.setItem("home:chats:invite-hash",i),home.stat.logPath("click","messenger.authRequest");var o=home.addQueryToUrl(e._homePageNoArgs,{messenger_auto_show:"1",messenger_rtx:e._rtx||"",messenger_anchor_timestamp:e._currentAnchorTimestamp||"",messenger_chat_id:n});location.href=home.addQueryToUrl(e._passportUrl,{origin:"messenger__channel_login",retpath:o,backpath:o})})),t.addListener("channelSubscribed",(function(t){home.stat.logPath("tech","messenger.channel.subscribed",{precise:!0,customParams:{chatid:t.chatId,rtxreqid:t.rtx,messid:t.chatId+"/"+t.anchorTimestamp}})})),t.addListener("chatEnter",(function(t){e._currentInviteHash=t.inviteHash,e._currentChatId=t.chatId})),t.addListener("chatLeave",(function(){e._currentInviteHash="",e._currentChatId="",e._currentAnchorTimestamp=""})),t.addListener("chatShow",(function(){home.stat.logPath("tech","messenger.show"),$("body").hasClass("b-page_keyboard")&&BEM.DOM.win.trigger("keyboardClose.lego")})),t.addListener("chatHide",(function(){home.stat.logPath("click","messenger.hide")})),t.addListener("error",(function(t){home.error.logError({block:"chat_widget",method:"_bindWidgetEvents",message:"error: "+t.code})})),t},showChat:function(t,e){var i={};t.rtx&&(i.rtxreqid=t.rtx),t.chatId&&(i.chatid=t.chatId,t.anchorTimestamp&&(i.messid=t.chatId+"/"+t.anchorTimestamp)),home.stat.logPath("click",e||"messenger.channel.show",{precise:!0,customParams:i}),this._currentAnchorTimestamp=t.anchorTimestamp,this._currentChatId=t.chatId,this.getWidget().then((function(e){e.showChat(t)}))},getWidget:function(){return this._widgetPromise||(this._widgetPromise=this._getMessenger()),this._widgetPromise},setRtx:function(t){this._rtx=t},isOn:function(){return this._messengerIsOn},showWidget:function(){this.showChat({})}},{getInstance:function(){return this._instance||(this._instance=BEM.create({block:this.getName()},home.getData("messenger.data"))),this._instance},showWidget:function(){this.getInstance().showWidget()}}),BEM.blocks["i-messenger"].getInstance(),i("PEa7"),i("seaW"),i("oABa"),i("F//4"),i("x8sk"),i("XBkm"),i("Gh0Y"),BEM.DOM.declMix("mix-tabber",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._keys=this._getKeys(),this._data=this._getInitData(),this._selectedKey=this._defaultKey=this._getDefaultKey(),this._panels={},this._defaultPanels={},this._showedPanels={},this._showedPanels[this._defaultKey]=!0,this._statRoot=this.params.statRoot||this.__self.getName(),this.elem("panel").toArray().forEach((function(t){var e=$(t),i=String(e.data("key"));this._panels[i]=e,this._defaultPanels[i]=!0}),this),this._$panel=this._panels[this._defaultKey]}}},_getKeys:function(){return this.params.keys},_getDefaultKey:function(){return this.params.selectedKey},_getInitData:function(){return this.params.data||{}},_selectTab:function(t,e){e=e||{},this._selectedKey!==t&&this._changeTab(t,e)},_changeTab:function(t){var e=!this._panels[t],i=this._panels[t]||(this._panels[t]=this._createPanel(t));this._togglePanelsOnChange(t,i),this._$panel=i,this._selectedKey=t,this._afterPanelChange(t,i,!e)},_togglePanelsOnChange:function(t,e){this._togglePanel(this._selectedKey,this._$panel,!1),this._togglePanel(t,e,!0)},_mapKeyToIndex:function(t){return this._keys.indexOf(t)},_createPanel:function(t){var e=$(b(Ct,{block:this.__self.getName(),id:this._uniqId,key:t,attrs:this._getPanelAttrs(t)}));return this._renderPanelInner(t,e,this._data[t]),e},_getPanelAttrs:function(){return{}},_renderPanelInner:function(t,e,i){e.append(this._getPanelHTML(t,i))},_afterPanelChange:function(t,e,i){i||this._onPanelDraw(t,e),this._showedPanels[t]||this._onPanelFirstShow(t,e),this._showedPanels[t]=!0,this._onPanelChange(t,e)},_onPanelDraw:function(t,e){BEM.DOM.init(e)},_onPanelFirstShow:function(t,e){home.stat.logDOMShow(e)},_onPanelChange:function(){},_getPanelHTML:function(t,e){return""},_togglePanel:function(t,e,i){e.attr("aria-hidden",i?"false":"true"),this._toggleMountPanel(t,e,i)},_toggleMountPanel:function(t,e,i){i?e.parent().length?e.css("display",""):this.elem("panels").append(e):e.css("display","none")}}),i("mCRL"),i("K3Dn"),i("gBLq"),i("Zdln"),i("czxu"),i("zgJY"),BEM.DOM.declMix("mix-tabber-loader",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._dataPromises={}}}},_renderPanelInner:function(t,e,i){i?this.__base.apply(this,arguments):(e.append(this._renderLoader(t)).css("min-height",this._$panel.height()),this._loadAndDrawData(t,e))},_renderLoader:function(){return'<div class="'+this.__self.getName()+'__loader loader"></div>'},_afterPanelChange:function(t,e,i){this._data[t]||this._defaultPanels[t]?this.__base(t,e,i):BEM.DOM.init(e)},_loadAndDrawData:function(t,e){return this._loadDataWrapped(t).then(this._drawData.bind(this,t,e,!0),this._drawData.bind(this,t,e,!1))},_drawData:function(t,e,i){if(t!==this._selectedKey)return delete this._panels[t],void e.remove();var n;try{i&&(n=this._getPanelHTML(t,this._data[t]))}catch(o){home.error.logError({block:this.__self.getName(),message:o,meta:{key:t},sourceType:"render"})}n||(n=this._getPanelRetry(t)),e.html(n),this._onPanelReplace(t,e),i?this._afterPanelChange(t,e,!1):home.stat.logDOMShow(e)},_onPanelReplace:function(t,e){e.css("min-height","")},_loadDataWrapped:function(t,e){return e=e||{},this._dataPromises[t]||this._data[t]&&!e.forceReload?this._dataPromises[t]||Promise.resolve(this._data[t]):(this._dataPromises[t]=this._loadData(t).then(function(e){return e&&(this._data[t]=e),e}.bind(this),function(e){this._dataPromises[t]=null;var i=e.meta||{};throw i.key=t,home.error.logError({block:this.__self.getName(),meta:i,sourceType:"network"},e),e}.bind(this)),this._dataPromises[t])},_loadData:function(){return Promise.reject(new Error("Not implemented"))},_getPanelRetry:function(t){return b(It,{buttonMods:this._getRetryButtonMods(),key:t,block:this.__self.getName(),statRoot:this._statRoot})},_getRetryButtonMods:function(){return{theme:this.params.retryButtonTheme,size:"s"}},_onRetryClick:function(t){var e=this._panels[t];e&&(e.html(this._renderLoader(t)),BEM.DOM.init(e),this._loadAndDrawData(t,e))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("retry-button","pointerclick",(function(t){return this._onRetryClick(String(t.data.domElem.data("key"))),!1}))}}),i("SPo1"),i("vRk5"),i("w9+T"),i("+fQv"),i("irDm");var Pt=i("ufjy");function Dt(t){return"<span class='datetime__date'>"+(E.a.oneElem("<span class='datetime__day'>"+E.a.oneElem(t.day)+"</span>")+E.a.oneElem("<span class='datetime__month'>"+E.a.oneElem(t.month)+", </span>")+E.a.oneElem("<span class='datetime__wday'>"+E.a.oneElem(t.wday)+" </span>"))+"</span>"}function Ot(t,e,i){var n="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o["class"]=home.getBEMClassname("home-link",{mix:r,mods:s}),t.href?o.href=t.href:n=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&i(ht,e)&&(o.target="_blank"),"_blank"===o.target&&void 0===o.rel&&(o.rel="noopener"),a="<"+n,a+=home.getAttributes(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+home.getBEMParams(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+n+">"}function jt(t,e,i){var n,o=t.blocks;return o?(n=o.map((function(t,e){return t.i=e,"cash_rate"===t.type&&(t.type="cash"),i(At,t)})),i(Rt,{data:n})):""}function Rt(t,e,i){var n,o=t.data,s=o.length/2,r="",a="";for(n=0;n<s;n++)r+='<div class="inline-stocks__grid-item inline-stocks__grid-item_first">'+o[2*n]+"</div>",a+=o[2*n+1]?'<div class="inline-stocks__grid-item">'+o[2*n+1]+"</div>":"";return i(Kt,{columnLeft:r,columnRight:a})}function At(t,e,i){for(var n="",o=t.rows,s=0,r=o.length;s<r;s++){var a=o[s],c=e.l10n("rates.newalt."+a.alt).replace(/%s/,a.text);n+='<tr class="inline-stocks__row_id_'+a.id+'" data-klimit="'+a.klimit+'" data-precision="'+a.precision+'"><td class="inline-stocks__row-title">'+i(Ot,{href:!e.nolinks&&a.href,mix:"home-link_blue_yes",attrs:{title:c,"data-statlog":"news_rates_manual.popup."+a.id},content:i(Ft,{text:a.text_caps})})+(a.nscale?i(qt,{nscale:a.nscale}):"")+"</td>"+i(Nt,{type:t.type,rows:a.data,klimit:a.klimit})+"</tr>"}return i(Yt,{text:t.text,type:t.type,id:t.i,content:i(Ht,t)+n})}function Ft(t){return t.text.replace(/<(\w)>([^<]+)<\/\1>/g,(function(t,e,i){switch(e){case"c":return'<span class="inline-stocks__caps">'+i+"</span>";case"d":return'<span class="inline-stocks__numbers">'+i+"</span>";default:return t}}))}function Nt(t,e,i){var n=t.klimit;switch(t.type){case"cash":return t.rows.map((function(t){return i(Vt,t)})).join("");case"currency":return t.rows.map((function(t,e){return(e?i(Lt,{data:t,klimit:n}):"")+i(Vt,t)})).join("");case"indexes":var o=t.rows[0];return i(Ut,o)+i(Lt,{data:o,klimit:n})+i(Vt,o)}}function Lt(t,e,i){var n,o,s=t.data,r="";return t.klimit&&(o=e.l10n("rates.bigdiff").replace(/%d%(%)/,t.klimit+"$1")),n=Number((s.delta||"").replace("","-").replace(/[+%]/g,"").replace(",",".")),s.is_hot?n>0?r="up":n<0&&(r="down"):r="small",s.delta?i(Wt,{mods:{type:"delta",hidden:t.hidden?"yes":"",change:r},delta:(s.delta||"").replace("%",'<span class="inline-stocks__cell-delta-prc">%</span>'),title:o&&s.is_hot?o:"",a11y:String(s.delta).replace("","-")}):""}function Ut(t,e,i){var n=t.datetime||t.time||t.date;return n?i($t,{value:n}):""}function Ht(t,e,i){var n,o;switch(t.type){case"currency":n=e.l10n("rates.rd_today"),o=e.l10n("rates.rd_tomorrow");break;case"cash":n=e.l10n("rates.buying"),o=e.l10n("rates.selling")}return i(zt,{col2:n,col4:o})}function zt(t){if(!t.col2&&!t.col4)return"";for(var e=[t.col2,t.col4],i="",n=0;n<e.length;n++)e[n]&&(i+='<th class="inline-stocks__cell" colspan="2">'+e[n]+"</th>");return'<tr class="inline-stocks__head">'+i+"</tr>"}function Wt(t){return"<td>"+(E.a.oneElem("<span "+w()({"class":C("inline-stocks__cell",t||{}),title:t.title,"aria-hidden":"true"})+">"+E.a.oneElem(t.delta)+"</span>")+E.a.oneElem("<span class='a11y-hidden'>"+E.a.oneElem(t.a11y)+"</span>"))+"</td>"}function $t(t){return"<td>"+E.a.oneElem("<i class='inline-stocks__cell_datetime' aria-hidden='true'>"+E.a.oneElem(t.value)+"</i>")+"</td>"}function Vt(t,e,i){return"<td>"+E.a.oneElem("<i class='inline-stocks__cell'>"+E.a.oneElem(void 0!==t.value?t.value:void 0!==e.value?e.value:i("value",t))+"</i>")+"</td>"}function qt(t){return"<span class='inline-stocks__row-nscale'>"+E.a.oneElem(t.nscale)+"</span>"}function Kt(t){return"<tr class='inline-stocks__grid-row'>"+(E.a.oneElem("<td>"+E.a.oneElem(t.columnLeft)+"</td>")+E.a.oneElem("<td>"+E.a.oneElem(t.columnRight)+"</td>"))+"</tr>"}function Yt(t){return E.a.oneElem("<h2 class='inline-stocks__table-title'>"+E.a.oneElem(t.text)+"</h2>")+E.a.oneElem("<table "+w()({"class":"inline-stocks__table inline-stocks__table_type_".concat(P(t.type)," inline-stocks__table_id_").concat(P(t.id))})+">"+E.a.oneElem(t.content)+"</table>")}function Gt(t,e,i){return t.tag=t.type&&"o"===t.type?"ol":"ul",t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",i(Xt,t)}function Zt(t,e,i){return t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",i(Jt,t)}function Xt(t,e,i){return"<"+t.tag+' class="'+C("list",t||{})+'">'+(void 0!==t.content?t.content:void 0!==e.content?e.content:i("content",t))+"</"+t.tag+">"}function Jt(t,e,i){return"<li "+w()(Object.assign({"class":C("list__item",t||{})},t.attrs))+">"+E.a.oneElem(void 0!==t.content?t.content:void 0!==e.content?e.content:i("content",t))+"</li>"}function Qt(t,e,i){return t.agencyUrl?i(te,t):i(ee,t)}function te(t){return"<div "+w()({"class":"news__agency-icon news__agency-icon_image_yes",title:t.agencyTitle,style:'background-image:url("'.concat(t.agencyUrl,'")')})+">"+E.a.oneElem(t.favoriteIcon)+"</div>"}function ee(t){return"<div class='news__agency-icon news__agency-icon_image_yes'>"+(E.a.oneElem(t.favoriteIcon)+E.a.oneElem("<div "+w()({"class":"news__agency-icon-image-empty",title:t.agencyTitle})+"></div>"))+"</div>"}function ie(t,e,i){var n=t.data&&t.data.blocks||[],o={},s="";return n.forEach((function(t,n){if(!t.title)return"";o[t.chat_id]||(o[t.chat_id]=[i(Ot,{mix:"news__covid-chat",mods:{gray:"yes"},content:i(z,{mix:"news__covid-chat-title",content:t.subtitle.toUpperCase()})+i(ne,t),href:t.url_subtitle,stat:e.stat.getAttr("news.covid.chanel",t.url_subtitle)})]),o[t.chat_id].push(i(se,{title:i(Ot,{href:t.url,target:"_blank",title:t.title,mix:"news__covid-item-title-link",mods:{black:"yes"},stat:e.stat.getAttr("news.covid.item."+n,t.url),content:i(z,{mod:"news__covid-item-title",content:t.title})})}))})),n.forEach((function(t){o[t.chat_id]&&(s+=o[t.chat_id].join(""),delete o[t.chat_id])})),i(oe,{items:s})}function ne(t,e,i){var n=home.rnd().substr(0,5);return t.icon?i(re,{mods:{id:n},id:n,icon:"//yastatic.net/s3/home/covid/block/"+t.icon+".svg",iconSkin:"//yastatic.net/s3/home/covid/block/"+t.icon+"_skin.svg"}):""}function oe(t){return"<ul class='news__covid'>"+E.a.oneElem(t.items)+"</ul>"}function se(t){return"<li class='news__covid-item'>"+E.a.oneElem(t.title)+" "+E.a.oneElem(t.subtitle)+"</li>"}function re(t){return E.a.oneElem("<span "+w()({"class":C("news__covid-chat-icon",t||{})})+"></span>")+E.a.oneElem("<style>"+E.a.oneElem(".news__covid-chat-icon_id_".concat(P(t.id)," { background-image: url(").concat(P(t.icon),"); } .document_dark_yes .news__covid-chat-icon_id_").concat(P(t.id)," { background-image: url(").concat(P(t.iconSkin),"); }"))+"</style>")}function ae(t,e,i){var n=t.attrs||{},o=t.mods||{},s=t.mix||"";return n.role="tab",i(dt,{mix:s+=" "+C("mix-tabber__tab",{mods:o}),attrs:t.attrs,href:t.href,stat:t.stat,content:t.content})}function ce(t,e,i){var n=t.item,o=t.icon,s=t.statPath;return E.a.oneElem("<span class='news__item-inner'>"+(E.a.oneElem(o)+E.a.oneElem("<span class='news__item-content'>"+E.a.oneElem(i(le,{item:n,statPath:s}))+"</span>")+E.a.oneElem(n.ishot?i(_e,null):""))+"</span>")}function le(t){return t.item.full}function he(t,e,i){return t.newsList.reduce((function(e,n,o){return e+i(de,{hasAnimation:t.hasAnimation,statId:t.statId,extraStatPath:t.extraStatPath,index:o,newTabLinks:t.newTabLinks,newsItemData:n,nolinks:t.nolinks,showIcons:t.showIcons})}),"")}function de(t,e,i){var n=t.hasAnimation,o=t.extraStatPath,s=void 0===o?"":o,r=t.index,a=t.newsItemData,c=t.showIcons,l=t.nolinks,h=t.newTabLinks,d=t.mix,u=void 0===d?"":d,m=t.statId,p=t.shift,f=t.statPath;f||(f=m+".links."+s+(r+1)+(a.ishot?".main":"")),n&&0===r&&!p&&(u+=" list__item_fade_in");var _=a.full,g="";c?a.agency_name?(u+=" list__item_icon"+(a.ishot?"_hot":""),g=i(Qt,{agencyUrl:a.agency_logo,agencyTitle:a.agency_name,favoriteIcon:a.is_favorite?i(H,{mix:"news__agency-icon-favorite",content:i(H,{mix:"news__agency-icon-favorite-union"})+i(H,{mix:"news__agency-icon-favorite-sign",attrs:{title:e.l10n("news.favourite_hover")}})}):""})):a.ishot&&(u+=" list__item_icon_empty"+(a.ishot?"_hot":"")):a.ishot&&(u+=" list__item_hot"),n&&(u+=" news__animated-item"),a.is_favorite&&(u+=" list__item_favorite");var v=[i(dt,{href:!l&&a.href,content:i(ce,{icon:g,item:a,statPath:f}),stat:e.stat.getAttr(f),mix:"news__item list__item-content"+(g?" list__item-content_with-icon":""),mods:i(ue),attrs:{"aria-label":_,target:h?"_blank":"","data-id":a.id}})];return!n&&a.extra_stories&&a.extra_stories.length&&i(we,t)&&v.push(i(Ee,{statPath:f})),i(Zt,{mix:u,content:v,attrs:{value:n&&t.startIndex?r+t.startIndex+1:void 0}})}BEM.DOM.decl("datetime",{onSetMod:{js:{inited:function(){var t=this;this._initDate(),this._prevDay=null,this._settedHour="",this._settedMin="",this._serverDate&&"Invalid Date"!==this._serverDate.toString()&&!isNaN(this._serverDate)&&(this.afterCurrentEvent(this._iterate),this._interval=setInterval((function(){t._iterate(),t._blink()}),1e3))}}},destruct:function(){clearInterval(this._interval),this.__base.apply(this,arguments)},_initDate:function(){this._serverDate=this.params.timestamp?new Date(this.params.timestamp+" GMT+0000"):null,this._loadDate=new Date},_iterate:function(){var t=new Date,e=new Date(this._serverDate.getTime()+(t.getTime()-this._loadDate.getTime()));this._proceedNewDate(e,t)},_proceedNewDate:function(t){var e,i;0===t.getUTCHours()&&0===t.getUTCMinutes()&&this._proceedNextDay(t),e=this._format(t.getUTCHours()),i=this._format(t.getUTCMinutes()),e===this._settedHour&&i===this._settedMin||(this._settedHour=e,this._settedMin=i,this.elem("hour").text(e),this.elem("min").text(i))},_proceedNextDay:function(t){var e=t.getDay();this._prevDay===e||this.hasMod("time-only","yes")||(this._drawNextDay(t,e),this._prevDay=e)},_drawNextDay:function(t,e){var i=this.findElem("date"),n=this.hasMod("short","yes"),o=t.getMonth()+1;i.replaceWith(b(Dt,{day:t.getDate()+(n?".":" "),month:n?this._format(o):Object(r.a)("month_accus."+o),wday:Object(r.a)("wday."+e)}))},_format:function(t){return t>9?""+t:"0"+t},_blink:function(){this.toggleMod("time-hidden","yes")}});var ue=F((function(){return{color:"inherit",hover:"red"}}));function me(t,e,i){var n,o=t.nolinks,s=t.showIcons,r=t.newTabLinks,a=i(pe,t),c=a.defaultNews,l=a.animatedNews,h=i(he,{newsList:c,hasAnimation:!1,nolinks:o,showIcons:s,statId:t.statid,newTabLinks:r});return n=i(Gt,{mix:"news__list",content:h,type:"o"}),l.length&&(n+=i(Gt,{mix:"news__list news__animation-list",content:i(he,{newsList:l,extraStatPath:"animation.",hasAnimation:!0,nolinks:o,showIcons:s,statId:t.statid,newTabLinks:r,startIndex:4})+i(ve),type:"o"})),n}function pe(t,e,i){var n=t.news,o=i(ke);return n.length>5&&!o?{defaultNews:n.slice(0,4),animatedNews:n.slice(4)}:{defaultNews:n.slice(0,5),animatedNews:[]}}function fe(t,e,i){return Array.isArray(t.news)&&t.news.length?i(me,t):"covid"===t.name?i(ie,t):(home.error({block:"news",message:"No content for tab "+t.name}),"")}function _e(){return"<svg class='b-ico news__hot' focusable='false' aria-hidden='true' width='16' height='16'><path class='news__hot-icon' d='M4 9l6-8-1.7 6H12l-6 8 1.7-6'/></svg>"}function ge(){return"<div class='news__loader'><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div></div>"}function ve(){return"<span aria-hidden='true'></span>"}function be(t,e){return"<div class='news__extra-stories-popup-content'>"+(E.a.oneElem(t&&t.content)+E.a.oneElem("<div "+w()({"class":"news__extra-stories-popup-close",role:"button",tabindex:"0",title:e.l10n("a11y.close"),"data-id":t.storyId,"data-counter":t.counter})+"></div>"))+"</div>"}function ye(t,e,i){var n=[i(de,{extraStatPath:t.extraStatPath,mix:"news__extra-story-original",newsItemData:t.originalStory,newTabLinks:t.newTabLinks,showIcons:t.showIcons,statPath:"".concat(t.statId,".links.").concat(t.index+1,".extra.original"),nolinks:t.nolinks}),"<li class='news__extra-stories-title'>"+E.a.oneElem(e.l10n("news.extra-stories-title"))+"</li>"];return Array.isArray(t.list)?(t.list.forEach((function(e,o){n.push(i(de,{extraStatPath:t.extraStatPath,newsItemData:e,newTabLinks:t.newTabLinks,showIcons:t.showIcons,statPath:"".concat(t.statId,".links.").concat(t.index+1,".extra.links").concat(o+1),nolinks:t.nolinks}))})),i(Gt,{mix:"news__list",content:n.join(""),type:"o"})):""}function we(t,e){return Boolean(s("news.enableExtraStories"))}function ke(t,e){return Boolean(s("news.disableRotation"))}function Ee(t,e){return"<span class='news__extra-stories-arrow'>"+E.a.oneElem("<span "+w()({tabIndex:"0",role:"button","class":"news__extra-stories-arrow-button","aria-expanded":"false","aria-haspopup":"true","data-counter":e.stat.logShow(t.statPath+".extra.button"),title:e.l10n("news.item_toggle")})+"><svg focusable='false' class='news__extra-stories-arrow-icon' width='20' height='20' viewbox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M6 8.5L10 12L14 8.5' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/></svg></span>")+"</span>"}function Me(t){return"<div "+w()({"class":"".concat(C("widget-control",t||{})," i-bem"),"data-bem":x(t.js||{})})+">"+E.a.oneElem(t.content)+"</div>"}function xe(t,e,i){return t.mods&&t.mods.footer?i(Me,{mix:t.mix,mods:t.mods,js:{"widget-control":t.params},content:t.content}):i(Se,{mods:t.mods,js:{"widget-control":t.params},dropdown:{dropdown2:{}}})}BEM.DOM.decl({block:"news",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-slide2","mix-tabber-wheel"]},{_loadData:function(t){var e="personalRotate"===t;return"personal"===t||e?$.ajax({url:e?this.params.personalRotateDataUrl:this.params.personalDataUrl,xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then(function(e){return Array.isArray(e.items)&&e.items.length>=5?{nolinks:this.params.nolinks,statid:"news."+t,news:e.items.map((function(t){var e=home.parseUrl(t.obj.url),i={full:t.obj.title,ishot:t.obj.is_hot};return e.query.utm_source="morda_desktop",e.query.utm_medium="topnews_personal",this.params.yandex0&&(e.query.yandex="0"),i.href=home.makeUrl(e),this.params.showIcons&&Array.isArray(t.obj.annot_docs)&&t.obj.annot_docs[0]&&t.obj.annot_docs[0].source_name&&(i.agency_logo=t.obj.annot_docs[0].logo_square?t.obj.annot_docs[0].logo_square+"/logo-square":void 0,i.agency_name=t.obj.annot_docs[0].source_name,this.params.favoriteIcon&&(i.is_favorite=t.obj.is_favorite)),i}),this),showIcons:this.params.showIcons,newTabLinks:this.params.newTabLinks}:Promise.reject("Incorrect data")}.bind(this))["catch"](function(i){if(e)throw new Error(i);return home.error.logError({block:this.__self.getName(),meta:{key:t},sourceType:"network"},i),this.params.personalFallbackData}.bind(this)):this.__base.apply(this,arguments)},_getPanelHTML:function(t,e){return b(fe,e)},_renderLoader:function(){return b(ge)}},{live:function(){return this.__base.apply(this,arguments),!1}}),i("9W5B"),i("4bt8"),BEM.DOM.decl({block:"news",modName:"animation",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.findBlockOutside("widget"),e=t&&t.getInstance(),i=!e||"false"!==e.getValue("autoreload");this._isAnimationEnabled=i,this._isAnimationEnabled&&this._initAnimation(),this.params.personalRotateDataUrl&&this.params.needPersonalRotate&&this._loadData("personalRotate").then(function(t){this.rotateNewsHtml=b(he,{newsList:t.news,extraStatPath:"animation.",hasAnimation:!0,nolinks:t.nolinks,showIcons:t.showIcons,shift:!0,statId:t.statid,newTabLinks:t.newTabLinks}),$(".list__item_fade_out").length||this._shiftNews(this.rotateNewsHtml)}.bind(this))["catch"](function(t){home.error.logError({block:this.__self.getName(),meta:{key:"personalRotate"},sourceType:"network"},t)}.bind(this))}}}}),BEM.DOM.decl({block:"news",modName:"with-extra-stories",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popupsById={},this._isPopupOpened=!1,this._newsList=this.elem("list"),$("html").hasClass("i-ua_browser_msie11")&&this._fixIE11InlineSvg()}}},_fixIE11InlineSvg:function(){var t=this;BEM.blocks["zen-lib"].on("painted",(function(){t.domElem.find(".news__extra-stories-arrow-icon path").css("overflow","hidden")}))},_onResize:function(t,e){this._updatePopupContentWidth(t),this._updatePopupOffset(t,e)},_updatePopupOffset:function(t,e){var i,n=parseInt(this._popupsById[t].domElem.css("padding-top"),10)||0;i=-e.height()-n,this._popupsById[t].setParams({mainOffset:i})},_togglePopup:function(t){var e=!this._isPopupOpened;return home.stat.logPath("click",t.counter+(e?".open":".close")),this._popupsById[t.storyId]||this._createPopup(t.storyId,t.anchor,t.arrow),this._popupsById[t.storyId].toggleMod("visible","yes",e),!1},_createPopup:function(t,e,i){var n=this.params.extraStoriesById[t],o="news__extra-stories-popup",s=home.getData("news.favoriteIcon");s&&(o+=" news_favorite_yes news_favorite-icon_"+s);var r=$(b(S,{mods:{theme:"normal",view:"default",target:"anchor",autoclosable:"yes"},directions:["bottom-left"],mix:o,secondaryOffset:-47,content:b(be,{counter:$(i).data("counter"),storyId:t,content:b(ye,{extraStatPath:n.extraStatPath,index:n.index,list:n.list,newTabLinks:this.params.newTabLinks,statId:n.statId,showIcons:this.params.showIcons,originalStory:n.originalStory,nolinks:this.params.nolinks})})})).appendTo("body");BEM.DOM.init(r),this._popupsById[t]=this.findBlockInside(r,"popup2"),this._popupsById[t].setAnchor(e),this._popupsById[t].onFirst("beforeOpen",(function(){home.stat.logPath("show","news.extra_news_popup.show"),home.stat.logDOMShow(r,{visibilityCheck:!1})})),this._popupsById[t].onFirst("beforeClose",(function(){home.stat.logPath("click","news.extra-news-popup.close")})),this.bindTo(this.findElem(this._popupsById[t].domElem,"extra-stories-popup-close"),"click",this._onCloseClick),this.bindKeyTo(this.findElem(this._popupsById[t].domElem,"extra-stories-popup-close"),"space enter",this._onCloseClick),this._popupsById[t].on("beforeOpen",this._beforeOpenPopup.bind(this,t,e,i)),this._popupsById[t].on("beforeClose",this._beforeClosePopup.bind(this,t,e,i))},_updatePopupContentWidth:function(t){this._popupsById[t].domElem.find(".news__list").width(this._newsList.width())},_beforeOpenPopup:function(t,e,i){this._updatePopupContentWidth(t),this._updatePopupOffset(t,e),i.attr("aria-expanded","true"),this._isPopupOpened=!0;var n=home.throttle(this._onResize.bind(this,t,e),100);this.bindToWin("resize",n),this.hasMod("animation","yes")&&this._stopRotation()},_beforeClosePopup:function(t,e,i){i.attr("aria-expanded","false"),this.channel("banner").trigger("overlapping",!1),this.unbindFromWin("resize"),this._isPopupOpened=!1,this.hasMod("animation","yes")&&this._startRotation()},_onArrowClick:function(t){var e=$(t.target).closest(".list__item"),i=e.find(".news__item"),n=e.find(".news__extra-stories-arrow-button"),o=n.data("counter");this._togglePopup({storyId:i.data("id"),anchor:e,arrow:n,counter:o})},_onCloseClick:function(t){t.preventDefault(),this._togglePopup({storyId:$(t.target).data("id"),counter:$(t.target).data("counter")})},_onArrowOver:function(t){var e;"mouseover"!==t.type||$(t.relatedTarget).closest(".news__extra-stories-arrow").length||(e=$(t.target).closest(".news__item"),this.setMod(e,"disable-hover","yes")),"mouseout"!==t.type||$(t.relatedTarget).closest(".news__extra-stories-arrow").length||(e=$(t.target).closest(".news__item"),this.setMod(e,"disable-hover","no"))}},{live:function(){return this.liveBindTo("extra-stories-arrow-button","click",(function(t){this._onArrowClick(t)})),this.liveBindKey("extra-stories-arrow-button","space enter",(function(t){this._onArrowClick(t),t.preventDefault()})),this.__base.apply(this,arguments)}}),i("Cut0"),i("S2b1"),i("+zBT"),i("8gSH"),i("Rrak"),i("HYND"),i("WISf"),i("tIdE"),i("Irrx"),i("Doqo"),BEM.DOM.decl({block:"inline-stocks",modName:"new",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this.bindTo("more","pointerclick",this.toggleMore),this.bindKeyTo("more","space enter",this.toggleMore),this.__self.reloaded&&(this.toggleMore(),this.__self.reloaded=!1)}},toggleMore:function(){this.__self.popup&&this.__self.popup.domElem||this.createPopup(),this.__self.popup.setAnchor(this.domElem),this.__self.popup.getMod("visible")||this.__self.reloaded||this.onShow(this.__self.popup),this.__self.popup.toggleMod("visible","yes")},onShow:function(t){var e=this;if(!this.data||this.data&&this.datats&&Number(new Date-this.datats)>6e4)return e.toggleState("load"),$.ajax({url:this.params.stocksUrl,dataType:"json",success:function(i){i&&i.Stocks?(e.needTopNewsUpdate&&(e.needTopNewsUpdate=!1,e.updateTopNews()),(i.Stocks&&i.Stocks.blocks||[]).forEach((function(t){(t.rows||[]).forEach((function(t){e.needTopNewsUpdate||e.updateFunc(t),BEM.channel("stocks").trigger("changed",t)}))})),e.datats=Number(new Date),e.data=i,e.createTable(i,t),e.onShow(t)):e.toggleState("error")},error:function(){e.toggleState("error")}});this.toggleState("tables"),home.stat.logDOMShow(t.domElem,{visibilityCheck:!1}),this.__self.popup._unbindFocusEvents(),this.__self.popup._bindFocusEvents()},createPopup:function(){var t=this,e=-25,i=this.domElem.offset().left,n=$(document.body).width();i>n/2&&(e=Math.floor(n/3)-i);var o=this.params.editShow,s=$(b(S,{mods:{view:"default",theme:"normal",autoclosable:"yes","alt-shadow":"yes",target:"anchor"},mix:"inline-stocks__popup-wrap",directions:["bottom-left"],mainOffset:0,secondaryOffset:e,content:(o?b(Ot,{mix:"inline-stocks__tune b-widget__control",href:"?widget_edit=1#open=_stocks",attrs:{target:"_self","data-statlog":"news_rates_manual.popup.tune"},content:'<i class="b-ico widget__icon_prefs"></i>',stat:""}):"")+'<span class="inline-stocks__popup-close" role="button" tabindex="0"></span>'}));return this.__self.popupContent=this.elem("popup"),(s=this.findBlockInside(s,"popup2")).domElem.append(this.__self.popupContent),this.__self.popup=s,this.getInstance()&&this.bindTo(this.findElem(s.domElem,"tune"),"click",this.showForm),this.bindTo(this.findElem(s.domElem,"popup-close"),"click",this.toggleMore),this.bindKeyTo(this.findElem(s.domElem,"popup-close"),"space enter",this.toggleMore),s.on("beforeOpen beforeClose",(function(){t._elemCache&&t.elem("more").attr("aria-expanded",this.getMod("visible")?"false":"true")})),s},createTable:function(t){var e=this,i=b(jt,t.Stocks),n=this.findElem(this.__self.popupContent,"tables");n.html(i),this.findElem(n,"table").each((function(){e.toggleTommorrowTitleVisibility($(this))}))},toggleTommorrowTitleVisibility:function(t){var e=this.getMod(t,"type");if("indexes"!==e){var i=t.find("tr:not(.inline-stocks__head)"),n=0;i.each((function(){var t=$(this).find("td").length;n<t&&(n=t)}));var o="hide";(n>3&&"currency"===e||n>2&&"cash"===e)&&(o="show"),t.find(".inline-stocks__head .inline-stocks__cell:last")[o]()}},updateFunc:function(t){if(this.__base(t),this.__self.popup){var e=this.elem("popup"),i=this.findElem(e,"row","id",t.id);if(i.length)try{var n=i.closest("table"),o=this.getMod(n,"type"),s=this.findElem(i,"row-title"),r=i.data("klimit"),c=b(Nt,{type:o,rows:t.data,klimit:r});i.empty().append(s,c),this.toggleTommorrowTitleVisibility(n)}catch(a){home.error.logError({block:"inline-stocks",method:"updateFunc",meta:{id:t.id}},a)}}},replaceCaps:function(t){return t.replace(/<(\w)>([^<]+)<\/\1>/g,(function(t,e,i){switch(e){case"c":return'<span class="b-stocks__caps">'+i+"</span>";case"d":return'<span class="b-stocks__numbers">'+i+"</span>";default:return t}}))},toggleState:function(t){this.setMod(this.__self.popupContent,"state",t)},getId:function(){return"_stocks-1"},getInstance:function(){return window.Widget&&Widget.Framework.get("_stocks-1")},showForm:function(t){var e=this;t.preventDefault(),this.toggleMore(),$(".b-wdgt-preferences").bem("b-wdgt-preferences").show($("#wd-wrapper-"+this.getId()).bem("widget"),(function(){e.needTopNewsUpdate=!0,e.data=null,e.__self.reloaded=!0,e.onShow(e.__self.popup),e.__self.popup.setAnchor($(document.body))}))},updateTopNews:function(){$("#wd-wrapper-_topnews-1").bem("widget").getInstance().reload(!1,!1,!0)}}),i("35bF"),i("f7na"),i("aBkz"),i("BoLW"),BEM.DOM.decl({name:"widget",modName:"name",modVal:"geo"},{_getMenuCustomItems:function(){return[{id:"geo",icon:"geo",text:Object(r.a)("head.region"),href:home.getData("region.tuneUrl")}]}});var Te,Ce=F((function(){return{topnews:"news",services:"sites",geo:"maps"}}));function Se(t,e){return"<div "+w()({"class":"".concat(C("widget-control",t||{})," i-bem"),"data-bem":x(t.js||{})})+">"+(E.a.oneElem("<span "+w()({"class":"widget-control__button widget-control__menu i-bem dropdown2 dropdown2_switcher_elem dropdown2__switcher",tabindex:"0",title:e.l10n("widgetcontrol.setup2"),"data-bem":x(t.dropdown||{}),role:"button","aria-haspopup":"true","aria-expanded":"false"})+"></span>")+E.a.oneElem("<span "+w()({"class":"widget-control__button widget-control__show",tabindex:"0",title:e.l10n("widgetcontrol.show")})+"></span>"))+"</div>"}function Be(){return"<div class='input__ahead'><input class='input__ahead-hint' type='text' disabled='disabled' aria-hidden='true'><span class='input__ahead-filler'></span><div class='input__ahead-hintholder'></div></div>"}function Ie(t,e,i){return i(De,{js:{"voice-search-popup":{}},startLetters:(e.l10n("voice-search.popup.speak")+"...").split("").map((function(t,e,n){return i(je,{letter:t,delay:.3/n.length*e,duration:.3})})).join(""),errorButtons:i(Re,t),showMicHelper:t.showMicHelper})}function Pe(t,e,i){return i(St,{mods:{size:"m",theme:"action"},mix:"voice-search-popup__continue-button voice-search-popup__error-button",content:e.l10n("voice-search.popup.continue-search"),attrs:{"data-statlog":"voice.popup.continue-search"}})}function De(t,e,i){return"<div class='voice-search-popup__paranja' data-statlog='voice.popup.paranja'></div>"+E.a.oneElem("<div "+w()({"class":"voice-search-popup voice-search-popup_state_closed i-bem","data-bem":x(t.js||{}),"data-statlog":"voice.popup.popup"})+"><div class='voice-search-popup__close' data-statlog='voice.popup.close'></div>"+E.a.oneElem("<div class='voice-search-popup__content'>"+(E.a.oneElem("<div class='voice-search-popup__init'>"+E.a.oneElem(e.l10n("voice-search.popup.waitsecond2"))+"</div>")+E.a.oneElem("<div class='voice-search-popup__start'>"+E.a.oneElem(t.startLetters)+"</div>")+E.a.oneElem("<div class='voice-search-popup__error'><div class='voice-search-popup__title voice-search-popup__error-title'></div><div class='voice-search-popup__subtitle voice-search-popup__error-subtitle'></div>"+E.a.oneElem("<div class='voice-search-popup__error-actions'>"+E.a.oneElem(t.errorButtons)+"</div>")+"</div>")+E.a.oneElem(i(Oe,t)))+"<div class='voice-search-popup__indicator'></div>"+E.a.oneElem(i(Ae,t))+"</div>")+"</div>")}function Oe(){return"<div class='voice-search-popup__text'></div>"}function je(t){return"<span "+w()({"class":"voice-search-popup__letter",style:"-webkit-animation-delay: ".concat(P(t.delay),"s; -webkit-animation-duration: ").concat(P(t.duration),"s; animation-delay: ").concat(P(t.delay),"s; animation-duration: ").concat(P(t.duration),"s;")})+">"+E.a.oneElem(t.letter)+"</span>"}function Re(t,e,i){return i(Pe,t)+i(St,{mods:{size:"m"},mix:"voice-search-popup__help-button voice-search-popup__error-button",url:"https://yandex.ru/support/search/how-to-search/voice-search.html",content:e.l10n("voice-search.popup.howto"),target:"_blank",attrs:{"data-statlog":"voice.popup.help-button"}})}function Ae(t,e,i){if(t.showMicHelper)return i(Fe,t)}function Fe(t,e){return"<div class='voice-search-popup__access'>"+(E.a.oneElem("<div class='voice-search-popup__title'>"+E.a.oneElem(e.l10n("voice-search.popup.permission-hint.title"))+"</div>")+E.a.oneElem("<div class='voice-search-popup__subtitle'>"+E.a.oneElem(e.l10n("voice-search.popup.permission-hint.subtitle"))+"</div>"))+"</div>"}function Ne(t){var e=t.id,i=t.index,n=t.item,o="first"===n[1].id;return"<li "+w()({"class":"mini-suggest__item mini-suggest__item_type_custom","data-index":i,"data-type":"custom",role:"option","data-text":M(n[1].text),"data-url":M(n[1].url),id:e,"aria-selected":"false","data-stat-id":M(n[1].id)})+">"+(E.a.oneElem(n[1].icon_url?"<span "+w()({"class":"mini-suggest__custom-icon"+(o?" mini-suggest__custom-icon_title_yes":""),style:"background-image:url(&quot;".concat(M(n[1].icon_url),"&quot;)")})+"></span>":"")+E.a.oneElem(M(n[1].text))+E.a.oneElem(o?"<span class='mini-suggest__custom-arrow'></span>":""))+"</li>"}function Le(t){var e=t.mods||{},i=t.attrs||{};return e.theme=e.theme||"ffffff",void 0===e.autoclosable&&(e.autoclosable="yes"),void 0===e.adaptive&&(e.adaptive="yes"),void 0===e.animate&&(e.animate="yes"),t.zIndex&&(i.style=i.style||"",i.style+="z-index:"+t.zIndex),'<div class="i-bem '+home.getBEMClassname("popup",{mods:e,mix:t.mix})+'" data-bem="{&quot;popup&quot;:'+home.getBEMParams(t.js?t.js:[])+(t.jsMix?","+t.jsMix:"")+'}"'+home.getAttributes(i)+'><div class="'+home.getBEMClassname("popup__under",{mods:t.underMods,mix:t.underMix})+'"></div>'+(t.tail?'<i class="popup__tail"></i>':"")+(t.content?'<div class="'+home.getBEMClassname("popup__content",{mods:t.contentMods,mix:t.contentMix})+'"'+home.getAttributes(t.contentAttrs||{})+">"+t.content+"</div>":"")+("yes"===e["has-close"]?'<i class="popup__close"'+(t.statClose||"")+">"+(t.closeText?'<div class="popup__close-text">'+t.closeText+"</div>":"")+"</i>":"")+"</div>"}function Ue(t,e,i){return"<div "+w()(Object.assign({"class":C("i-install-download__content",t||{})},t.attrs,{"data-bem":x(t.js||{})}))+"><div class='i-install-download__target-pointer'><div class='i-install-download__arrow'><div class='i-install-download__stick'></div></div></div>"+E.a.oneElem("<div class='i-install-download__install-text'>"+E.a.oneElem(void 0!==t.text?t.text:void 0!==e.text?e.text:i("text",t))+"</div>")+E.a.oneElem("<div class='i-install-download__agreement'>"+E.a.oneElem(void 0!==t.legalText?t.legalText:void 0!==e.legalText?e.legalText:i("legalText",t))+" "+E.a.oneElem("<a "+w()({href:void 0!==t.legalLink?t.legalLink:void 0!==e.legalLink?e.legalLink:i("legalLink",t),"class":"home-link home-link_gray_yes i-install-download__legal"})+">"+E.a.oneElem(void 0!==t.legalLinkText?t.legalLinkText:void 0!==e.legalLinkText?e.legalLinkText:i("legalLinkText",t))+"</a>")+"</div>")+"</div>"}function He(t,e){return"<img "+w()(Object.assign({"class":e.cls.full("banner-awaps__image")},t.attrs))+">"}function ze(t,e){var i=t.statPath?e.stat.getUrl(t.statPath.replace(/\./g,"_"),t.url):t.url;return"<a "+w()({"class":e.cls.full("banner-awaps__link"),href:i,target:"_blank",rel:"noopener"})+">"+E.a.oneElem(t.content)+"</a>"}function We(t,e){return"<div "+w()({"class":e.cls.full("direct-close-block__confirm-popup")})+">"+E.a.oneElem("<div "+w()({"class":e.cls.full("direct-close-block__confirm-popup-content")})+">"+(E.a.oneElem("<div "+w()({"class":e.cls.full("direct-close-block__check-icon")})+"></div>")+E.a.oneElem(e.l10n("direct.thanks")))+"</div>")+"</div>"}function $e(t,e){return"<div "+w()({"class":e.cls.full("direct-close-block__close-popup")})+">"+E.a.oneElem("<div "+w()({"class":e.cls.full("direct-close-block__close-popup-content-wrapper")})+">"+E.a.oneElem("<div "+w()({"class":e.cls.full("direct-close-block__close-popup-content")})+">"+(E.a.oneElem("<span "+w()({"class":e.cls.full("direct-close-block__close-popup-capture")})+">"+E.a.oneElem(e.l10n("direct.hide"))+"</span>")+E.a.oneElem("<div "+w()({"class":t.mix})+">"+E.a.oneElem(t.buttons)+"</div>"))+"</div>")+"</div>")+"</div>"}function Ve(t,e){try{if(window.CSS&&CSS.supports)return CSS.supports(t,e);if(window.supportsCSS)return window.supportsCSS(t,e)}catch(i){}}BEM.DOM.decl("widget-control",{onSetMod:{js:{inited:function(){this._statName=this.params.statName||b(Ce)[this.params.name]||this.params.name,this.bindTo("menu","pointerclick",this._createAndShowDropdown),this.bindKeyTo("menu","enter space",this._createAndShowDropdown)}},collapsed:function(t,e){var i=home.getData("media-grid."+("yes"===e?"blocks_fold_url":"blocks_unfold_url"));i&&((new Image).src=i+this.params.name)}},setRoot:function(t){this._$root=t},_updatePosition:function(){this._$root&&this.__self._findTitle(this._$root).append(this.domElem)},_createAndShowDropdown:function(t){if(t.preventDefault(),!this._popupInited){this._popupInited=!0;var e,i=this.elem("menu"),n=this.params.items,o=[],s=this._getPopupPositionParams();this.params.customItems&&this.params.customItems.forEach((function(t){o.push({text:t.text,target:t.target,icon:{mods:{glyph:t.icon}},elemMods:{type:"link"},href:t.href,attrs:{"data-type":t.id}})})),n.settings&&o.push({text:Object(r.a)("widgetcontrol.setup"),icon:{mods:{glyph:"settings"}},elemMods:{type:"link"},href:n.settingsHref,attrs:{"data-type":"settings"}}),n.hide&&o.push({text:Object(r.a)("widgetcontrol.hide"),icon:{mods:{glyph:"hide"}},elemMods:{type:"link"},attrs:{"data-type":"hide"}}),n.hide2&&o.push({text:Object(r.a)("widgetcontrol.hide2"),icon:{mods:{glyph:"hide2"}},elemMods:{type:"link"},attrs:{"data-type":"hide"}}),n.remove&&o.push({text:Object(r.a)("widgetcontrol.delete"),icon:{mods:{glyph:"delete"}},elemMods:{type:"link"},attrs:{"data-type":"remove"}}),o.forEach((function(t){t.attrs[home.stat.attr]=this._statName+".widget_control."+t.attrs["data-type"],t.href||(t.attrs.tabindex=0)}),this),e=$(b(S,{mods:{view:"default",theme:"normal",target:"anchor",autoclosable:"yes","alt-shadow":"yes"},mix:"dropdown2__popup widget-control__popup",attrs:{role:"menu"},directions:s.directions,hasTail:!1,mainOffset:s.mainOffset,secondaryOffset:s.secondaryOffset,content:b(ct,{mods:this._getMenuMods(),items:[{items:o}]})})),i.append(e),BEM.DOM.init(e);var a=e.bem("popup2");a.onFirst("beforeOpen",(function(){home.stat.logDOMShow(this.domElem)})),e.find(".menu").bem("menu").on("click",(function(t,e){a.delMod("visible");var i=e.item.data("type");this._onWidgetAction(i,e)}),this)}},_onWidgetAction:function(t,e){this.trigger(t,e),"hide"===t&&(this.setMod("collapsed","yes"),this._updatePosition(),home.stat.logPath("show",this._statName+".widget_control.show"))},_getMenuMods:function(){return{type:"navigation",theme:"normal",tone:"default",view:"redesigned",size:"m3"}},_getPopupPositionParams:function(){return this.domElem.parents(".main").length?{directions:["bottom-left","top-left","left-left"],mainOffset:6,secondaryOffset:-10}:{directions:["bottom-right"],mainOffset:8,secondaryOffset:0}}},{_findTitle:function(t){if(t.parents(".widgets-list__item").length)return $();for(var e=this.MENU_SUPPORTED_ELEMENTS,i=0;i<e.length;++i){var n=t.find(e[i]).filter(":visible");if(n.length)return n.eq(0)}return $()},create:function(t,e){var i=$(b(xe,{mods:{collapsed:e.hidden?"yes":void 0,"expanded-only":e.removeOnHide?"yes":"no"},params:e})),n=this._findTitle(t);setTimeout((function(){i.addClass("widget-control_animated_yes")}),50),n.length?n.append(i):(t.append(i),i.addClass("widget-control_root_yes")),BEM.DOM.init(i);var o=i.bem("widget-control");return o.setRoot(t),o},live:function(){function t(t){this.trigger("show"),this.delMod("collapsed"),this._updatePosition(),t.preventDefault(),home.stat.logPath("click",this._statName+".widget_control.show")}this.liveBindTo("show","pointerclick",t),this.liveBindKey("show","enter space",t)},MENU_SUPPORTED_ELEMENTS:[".divjson-title__header",".content-tabs__head",".news__tabs",".weather__geo",".weather__header-links",".streamnow__tabs",".tvstream__tabs",".covid_closable_yes .covid__tab-wrapper_last",".covid-speed__tab-wrapper_last",".traffic__header","h1:not(.a11y-hidden, .covid__tab-wrapper, .media-service__title)"]}),i("WAYw"),i("EVWl"),i("dqG4"),i("y+UF"),i("rOm1"),i("DROm"),i("Q627"),i("1lKq"),i("eeV8"),i("nQka"),i("ME3r"),i("PED/"),i("5sh/"),i("SLHL"),BEM.DOM.decl({name:"input",modName:"ahead",modVal:"yes"},{onSetMod:{js:function(){var t=$.browser&&$.browser.opera&&$.browser.version<12.1?"keypress":"keydown";this.__base(),this._leftPadding=parseInt(this.elem("input").css("border-left-width"),10),this._intent=!1,this._preventAhead=!1,this._lastBackspace=0,this.on("change",this._onTextChange).on("blur",(function(){this.delMod("ahead-visible")})).bindTo("click",this._onClickOver).bindTo(t,this._onKeyDown)}},_onClickOver:function(t){var e=this;if(!this._preventAhead&&this._ahead&&this.elem("input").is(t.target))if(this.hasMod("ahead-visible")){var i=t.pageX-this.domElem.offset().left-this._leftPadding,n=this.elem("ahead-filler").width(),o=this.elem("ahead-hintholder").width();i>n&&i<o&&(this.trigger("ahead-click"),setTimeout((function(){e._fill({usage:"mouse"})}),0))}else this.setMod("ahead-visible","yes")},_onKeyDown:function(t){if(this.__base.apply(this,arguments),this._ahead)switch(new Date-this._lastBackspace>this.params.backspaceDelay&&(this._preventAhead=!1),t.which){case 8:if(!this.params.hideOnBackspace)break;this._preventAhead=!0,this._lastBackspace=new Date,this._intent=this._clearAhead();break;case 9:this.hasMod("focused","yes")&&this._intent&&!t.ctrlKey&&!t.altKey&&this._fill({usage:"tab"})&&t.preventDefault();break;case 39:this.val().length===this.getSelectionEnd()&&this._fill({usage:"arrow"})&&t.preventDefault()}},setAhead:function(t){var e;return!this._preventAhead&&(e=this.val(),0!==t.indexOf(e)?this._clearAhead():void(this._intent=this._setAhead(e,t.slice(e.length))))},unsetAhead:function(){this._clearAhead(),this._intent=!1},_onTextChange:function(){this._ahead||this._buildAhead();var t=this.val().length;this.shiftAhead(t),this._intent&&0!==this._intent.indexOf(this.val())?this._clearAhead():this.setMod("ahead-visible","yes")},_fill:function(t){var e=this.val(),i=$.extend(t,{chars:this._intent.length-e.length});if("string"==typeof this._intent&&i.chars>0&&0===this._intent.indexOf(e)){try{var n=document.createEvent("TextEvent");n.initTextEvent("textInput",!0,!0,null,this._intent.slice(this.val().length),9),this._input.selectionEnd=this._input.selectionStart=this._intent.length,this._input.dispatchEvent(n)}catch(s){var o=this.elem("control").get(0);if(this.val(this._intent),o.createTextRange){var a=o.createTextRange();a.moveEnd("character",this._intent.length),a.collapse(!1),a.select()}else try{o.selectionEnd=o.selectionStart=this._intent.length}catch(r){}}this.trigger("ahead-fill",i),home.stat.logPath("tech","suggest.ahead."+t.usage)}return i.chars>0},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var i=document.selection.createRange();if(i&&i.parentElement()===t){var n=t.value.length,o=t.createTextRange();o.moveToBookmark(i.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?n:-o.moveEnd("character",-n)}}return e},getDefaultParams:function(){return $.extend(this.__base(),{backspaceDelay:100,hideOnBackspace:!0})},_buildAhead:function(){this._ahead||(this._ahead=$(b(Be)),BEM.DOM.before(this.elem("control"),this._ahead))},_setAhead:function(t,e){this._ahead||this._buildAhead();var i=this.elem("ahead-filler");return this._preventAhead?(t="",e=""):(t=t||"",e=e||""),i.text(t),this.elem("ahead-hintholder").text(t+e),this.elem("ahead-hint").val(t+e),this.elem("ahead").css("clip","rect(auto auto auto "+(i.width()+this._leftPadding)+"px)"),t+e},_clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){if(this._intent){var e=this._intent.slice(0,t),i=this._intent.slice(t);this._setAhead(e,i)}}}),i("AXNO"),i("ut/M"),i("zO5c"),i("a+6J"),i("EqRa"),i("ggkB"),BEM.DOM.decl("voice-search-popup",{onSetMod:{js:{inited:function(){this._setupProperties()}}},state:{name:"state",opened:"opened",closed:"closed"},speechKitState:{name:"speechkit-state",init:"init",start:"start",recognized:"recognized",finish:"finish",error:"error",access:"access"},_indicatorHeightMultiplier:.8,SMOOTH_CONSTANT:.8,loadSpeechkit:function(t){BEM.blocks["i-voice"].loadSpeechkit(t)},startRecognition:function(t){this._voiceRecognition.startRecognize(t)},_setupProperties:function(){if(this._voiceRecognition=BEM.blocks["i-voice"],this._errorDescription={PermissionDenied:{title:Object(r.a)("voice-search.popup.noaccess.title"),subtitle:Object(r.a)("voice-search.popup.noaccess.subtitle")},ConnectionProblem:{title:Object(r.a)("voice-search.popup.connectionproblem.subtitle"),subtitle:Object(r.a)("voice-search.popup.connectionproblem.title")},other:{title:Object(r.a)("voice-search.popup.unknownerror.title")}},this._content=this.elem("content"),this._textElem=this.elem("text"),this._indicator=this.elem("indicator"),this._boundSetupIndicator=this._setupIndicator.bind(this),this._paranja=$(".voice-search-popup__paranja"),this._lastAmplitute=0,this._voiceRecognition){var t=this._voiceRecognition,e=t.events;this._voiceEventsType=t.eventsType,t.on(e.BEFORE_START_RECOGNIZE,this._onPreInit,this),t.on(e.SPEECH_KIT_INIT,this._onInit,this),t.on(e.SPEECH_KIT_ACCESS_GRANTED,this._onAccessGranted,this),t.on(e.ERROR,this._voiceOnError,this),t.on(e.RECOGNIZE_TEXT,this._voiceRecognizeText,this),t.on(e.STOP_RECOGNIZE,this._voiceStopRecognize,this),t.on(e.PERMISSION_REQUEST,this._voicePermissionRequest,this),this._calcSoundAmplitudePerFrameBinded=this._calcSoundAmplitudePerFrame.bind(this),this.bindTo("continue-button","click",this._onErrorContinueButtonPressed,this),this.bindTo("help-button","click",this._onErrorHelpButtonPressed,this)}},_calcSoundAmplitudePerFrame:function(){if(this._nodeAnalyzer){var t=new Uint8Array(this._nodeAnalyzer.frequencyBinCount);this._nodeAnalyzer.getByteFrequencyData(t);var e=Array.prototype.slice.call(t,0,4),i=e.reduce((function(t,e){return t+e}),0)/e.length/255;this._onAudioChangeAmplitude(i),this._animationFrameId=window.requestAnimationFrame(this._calcSoundAmplitudePerFrameBinded)}},_onPreInit:function(){this._showLayout(),this.trigger("start")},_onAccessGranted:function(){this._attachCloseEvents(),this._setupIndicator(),this._showInitState()},_onInit:function(t,e){e.session&&e.session.streamer&&e.session.streamer.recorder&&(this._nodeAnalyzer=e.session.streamer.recorder.getAnalyserNode(),this._nodeAnalyzer.fftSize=32,this._nodeAnalyzer.smoothingTimeConstant=.95,this._calcSoundAmplitudePerFrameBinded()),this._showStartState()},_voiceRecognizeText:function(t,e){var i=e.session.recognizedText;i&&(this._startedRecognize=!0,this._setRecognizedText(i),this._showRecognizedState(),this.trigger("text",e))},_voiceStopRecognize:function(t,e){if(e.type===this._voiceEventsType.SUCCESS_RECOGNIZE||e.type===this._voiceEventsType.TIMEOUT_SUCCESS)return this.trigger("success",e),void setTimeout(function(){this.trigger("after-success",e),this._hideLayout()}.bind(this),this.__self.TIMEOUT_SUCCESS_RECOGNITION);this._hideLayout()},_voiceOnError:function(t,e){this._attachCloseEvents();var i=this._parseError(e.message);this._showErrorState(i),"PermissionDenied"!==i&&home.error.logError({block:"voice-search-popup",message:"Voice search error: "+i,method:"_voiceOnError",source:"speechkit",sourceType:-1!==i.indexOf("Socket error:")?"network":void 0,meta:e})},_parseError:function(t){return-1!==(t=String(t)).indexOf("Socket error:")||"offline"===t?"ConnectionProblem":-1!==t.indexOf("not allowed")||"MediaDeviceFailedDueToShutdown"===t||"PermissionDismissedError"===t||"PermissionDeniedError"===t||"Permission denied"===t||"Permission dismissed"===t?"PermissionDenied":"other"},_attachCloseEvents:function(){var t=this._hideLayout.bind(this),e=new Date;this._paranja.on("click",(function(){if(!(new Date-e>500))return!1;t()})),this.bindTo("close","click",t),this.bindToDoc("keydown",(function(e){e.originalEvent&&"altKey"in e.originalEvent&&(home.stat.logPath("click","voice.popup.exit-key"),t())}))},_showLayout:function(){this.setMod(this._paranja,"state","open"),home.stat.logDOMShow(this.domElem),home.stat.logDOMShow(this._paranja),this.trigger("show")},_hideLayout:function(){this._voiceRecognition.stopRecognize(),this.unbindFromDoc("keydown"),this._paranja.unbind("click"),this.unbindFrom("close","click"),window.cancelAnimationFrame(this._animationFrameId),this.delMod(this._paranja,"state"),this._hidePopup(),this.trigger("hide")},_onErrorContinueButtonPressed:function(){this._hideLayout()},_onErrorHelpButtonPressed:function(){this._hideLayout()},_bindEvents:function(){var t=new Date;$(window).on("resize.voice-search-popup",this._boundSetupIndicator),$(window).on("popstate.voice-search-popup",this._hideLayout.bind(this)),$(window).on("scroll.voice-search-popup",function(){new Date-t>500&&this._hideLayout()}.bind(this)),this.__self._visibilityEventName&&$(document).one(this.__self._visibilityEventName+".voice-search-popup",function(){this.afterCurrentEvent((function(){this._hideLayout()}))}.bind(this))},_unbindEvents:function(){$(window).off(".voice-search-popup"),this.__self._visibilityEventName&&$(document).off(this.__self._visibilityEventName+".voice-search-popup")},_setupIndicator:function(){var t=this.elem("content").height()*this._indicatorHeightMultiplier;t=Math.floor(t),this._indicator.width(t),this._indicator.height(t)},_getProcessedAmplitude:function(t,e){return this.SMOOTH_CONSTANT*t+(1-this.SMOOTH_CONSTANT)*e},_updateIndicatorWithAmplitude:function(t){var e=t<=this._lastAmplitute;if(t=this._getProcessedAmplitude(t,this._lastAmplitute),this._lastAmplitute=t,t<=.4||e)return this._indicator.css("transform",""),this._indicator.css("transition",""),void this._indicator.css("opacity","");var i=Math.min(1.2*t,1);this._indicator.css("transition","opacity .1s linear, transform 0s linear"),this._indicator.css("transform","translate(-50%, -50%) scale("+i+")"),this._indicator.css("opacity","1")},_showPopup:function(){this._bindEvents(),this._showLayout(),this.setMod(this.state.name,this.state.opened),history.pushState&&history.pushState(null,document.title,location.href)},_hidePopup:function(){this.getMod(this.state.name)===this.state.opened&&(this._unbindEvents(),this.setMod(this.state.name,this.state.closed))},_setRecognizedText:function(t){this._textElem.text(t)},_showInitState:function(){this.setMod(this.speechKitState.name,this.speechKitState.init),this._showPopup()},_showStartState:function(){this._setRecognizedText(""),this.setMod(this.speechKitState.name,this.speechKitState.start)},_showRecognizedState:function(){this.setMod(this.speechKitState.name,this.speechKitState.recognized)},_showErrorState:function(t){var e;this._errorDescription[t]&&(e=this._errorDescription[t].subtitle||"",this.setMod(this.speechKitState.name,this.speechKitState.error),this.elem("error-title").text(this._errorDescription[t].title),this.elem("error-subtitle").html(e),this._showPopup(),home.stat.logPath("show","voice.popup.error."+t))},_onAudioChangeAmplitude:function(t){this.getMod(this.speechKitState.name)!==this.speechKitState.finish&&this._updateIndicatorWithAmplitude(t)},_voicePermissionRequest:function(){this.setMod(this.speechKitState.name,this.speechKitState.access)}},{TIMEOUT_SUCCESS_RECOGNITION:700,live:!0,_visibilityEventName:(["hidden","mozHidden","webkitHidden","msHidden"].forEach((function(t){!Te&&t in document&&(Te=t)})),Te&&Te.replace(/hidden/i,"visibilitychange"))}),BEM.DOM.decl("voice-search-popup",{_showErrorState:function(t){this.__base.apply(this,arguments);var e=!(!this.params.showMicHelper||"PermissionDenied"!==t);if(e){var i=Object(r.a)("voice-search.popup.chrome-permission.subtitle").replace("%icon%",'<div class="voice-search-popup__error-access-icon"></div>');this.elem("error-subtitle").html(i)}this.toggleMod("mic-helper","yes",e);var n="PermissionDenied"===t;this.toggleMod("show-help","yes",n)}}),BEM.DOM.decl({name:"input",modName:"voice-search",modVal:"yes"},{onSetMod:{js:function(){var t=this;this.__base.apply(this,arguments),this._hasRecognized=!1,BEM.blocks["i-voice"].hasMicSupport((function(e){e?t.delMod("voice-search"):(t.hasMod(t.elem("clear"),"visibility","visible")||t.delMod(t.elem("voice-search"),"visibility"),home.stat.logPath("show","voice"),t.params.autoVoiceSearch&&t.startRecognize({alice:!1}))}))}},onElemSetMod:{clear:{visibility:function(t,e,i){this.__base.apply(this,arguments),this.toggleMod(this.elem("voice-search"),"visibility","hidden","","visible"===i)}}},_initVoicePopup:function(){if(!this._popupInited){this._popupInited=!0;var t=$(b(Ie,{showMicHelper:this.params.showMicHelper})).appendTo("body").filter(".voice-search-popup"),e=this;this._voicePopup=t.bem("voice-search-popup",{showMicHelper:this.params.showMicHelper}),this._voicePopup.on({start:function(){e._setVoiceSearchState(!0)},hide:function(){e._setVoiceSearchState(!1)},text:function(t,i){BEM.channel("voice-search").trigger("change"),i.session.recognizedText&&(e._hasRecognized||(e._hasRecognized=!0,home.stat.logPath("click","voice.data")))},success:function(t,i){e.val(i.session.recognizedText,{suggest:!1})},"after-success":function(){e._setVoiceSearchState(!1),e._submitForm()}})}},_setVoiceSearchState:function(t){this.toggleMod(this.elem("voice-search"),"active","yes",t)},_submitForm:function(){var t=this.findBlockOutside("suggest2-form");if(t)t.domElem.append($("<input>",{type:"hidden",name:"query_source",value:"voice"})),t.submit();else{var e=this.domElem.closest("form");e.length&&(e.append($("<input>",{type:"hidden",name:"query_source",value:"voice"})),e.submit())}},startRecognize:function(t){t=t||{},this.setMod("focused",""),this._initVoicePopup(),BEM.blocks["i-message-locker"].forceClose(),BEM.channel("voice-search").trigger("init"),this._voicePopup.startRecognition({origin:this.params.webspeechkitStaticOrigin,lang:this.params.recognitionLocale,apikey:"5e7c4b34-f4ff-49c1-a683-44439c124cc8",recognitionModel:"general",utteranceSilence:this.params.recognitionUtteranceSilence||100,applicationName:this.params.webspeechkitApplication,useAlice:!1!==t.alice&&this.hasMod("voice-alice","yes")})},_loadLib:function(){this._initVoicePopup(),this._voicePopup.loadSpeechkit(this.params.webspeechkitStaticOrigin)},_updateClear:function(){this._startedRecognize||this.__base.apply(this,arguments)}},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindTo("voice-search","mouseover",(function(){this._loadLib()})),this.liveBindTo("voice-search","pointerclick",(function(){home.stat.logPath("click","voice.on"),this.startRecognize()})),t}}),i("X39R"),i("b4vc"),i("+glO"),i("+1uM"),i("w//E"),i("NMwc"),i("4Rhg"),i("69PH"),i("NpeO"),i("9AZ7"),i("TD8f"),i("OTXn"),i("vPEt"),i("khhJ"),i("u9Bp"),i("uy6q"),i("Rl07"),i("eDbF"),i("yUmL"),i("A5rE"),i("W3Dy"),i("SEzg"),i("egSt"),i("9Hap"),i("FAHT"),i("RDK/"),i("ENpm"),i("OGeV"),i("OToY"),i("3KT2"),i("3wAB"),i("laRw"),i("886P"),i("F1jX"),i("G3Qx"),i("mcDQ"),i("VEpq"),i("jUAr"),i("OTT8"),i("fje4"),i("KVsd"),i("ZiWf"),i("sx9R"),i("RLKj"),i("8ova"),i("m3dv"),i("eyWT"),i("xbib"),i("wAF/"),i("XW/Y"),i("TvnF"),i("vy0I"),i("sYaB"),i("WhSy"),i("FzRL"),i("icT8"),i("pWjS"),i("YT7z"),i("H+5/"),i("jWLv"),i("KjMM"),i("68Xq"),i("V8VG"),i("drW9"),i("JuX7"),i("jeyh"),i("R/OM"),i("Unpv"),i("GZLX"),i("paKB"),i("OlQb"),i("sqf1"),MBEM.decl({block:"mini-suggest",modName:"custom-samples",modVal:"yes"},{_onResponse:function(t,e){!t&&this.params.samples&&e&&e[1]&&(e[1]=e[1].slice(0,10-this.params.samples.length).concat(this.params.samples.map((function(t){return["custom",t,null,null,null,{}]})))),this.__base.apply(this,arguments)},_renderItem:function(t,e,i){if(e&&"custom"===e[0]){var n="suggest-item-"+this._suggestId+"-"+i;return t+b(Ne,{id:n,index:i,item:e})}return this.__base.apply(this,arguments)},_onPopupClick:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");if(e){var i=e.getAttribute("data-type");if("custom"===i)return void this.trigger("item-click",this._getItemEventProps(e,i))}this.__base.apply(this,arguments)},_onItemClick:function(t,e){if("custom"===e.type){var i=e.node.getAttribute("data-url"),n=window.open("","_blank");n.opener=null,n.location=i,home.stat.logPath("click","custom_suggest."+e.node.getAttribute("data-stat-id"))}this.__base.apply(this,arguments)},_renderItems:function(){this.__base.apply(this,arguments),this._isShown&&this._dataItems&&!this._prevVal&&this._logCustomItemsVisibility()},_showPopup:function(){this.__base.apply(this,arguments),this._dataItems&&!this._prevVal&&this._logCustomItemsVisibility()},_logCustomItemsVisibility:function(){this._dataItems.forEach((function(t){t&&"custom"===t[0]&&home.stat.logPath("show","custom_suggest."+t[1].id)}))}}),i("FwWP"),i("DxjK"),i("ZLQd"),i("+U/J"),i("Uqfv"),i("DJCj"),i("Wdh0"),i("IDPp"),i("9tlG"),i("fpIa"),i("8A5c"),i("CaUy"),i("37uV"),i("aY9+"),i("9qO5"),i("9og6"),i("9mSB"),i("XMxx"),i("uhQy"),i("21dl"),i("44Qx"),i("SVst"),BEM.decl("i-install-download",{init:function(){var t=b(Le,{mods:{type:"download",position:"fixed","has-close":"yes"},mix:"i-install-download__popup i-bem",attrs:{"bem-js":home.getBEMParams({popup:{}})},content:b(Ue,this.params)});this._popup=BEM.DOM.append(BEM.DOM.scope,t).bem("popup"),this._popup.on("show",(function(){$("body").addClass("b-page_overflow_hidden")})),this._popup.on("hide",(function(){$("body").removeClass("b-page_overflow_hidden")})),this.inited=!0},download:function(){return this.params.paas||this.inited||this.init(),this.params.paas?(home.stat.logPath("tech","tech.install.paas"),BEM.blocks.paas.show(this.params.paas)):(home.stat.logPath("tech","tech.install.old"),setTimeout(function(){this._popup.show({top:0})}.bind(this),500)),this._download(),this},_countDownload:function(){this.params.counters.click&&((new Image).src=this.params.counters.click)},_download:function(){var t=document.createElement("iframe");$(t).addClass("i-install-download__frame-hidden").attr("aria-hidden",!0).attr("name","install").attr("src",this.params.url).appendTo(BEM.DOM.scope),this._countDownload()}}),i("er8n"),i("JxS8"),i("zcHH"),window.AwapsJsonAPI={Json:{}},window.AwapsJsonAPI.Json=function(t,e,i,n,o,s,r,a){home.stat.logPath("tech","client_banner.AwapsJsonAPI.Json"),void 0===a&&(a=""),a&&a.length>2&&a.indexOf(":")<0&&(a+=":"),this.w=e,this.h=i;for(var c=String(i);c.length<4;)c="0"+c;for(c=e+c;c.length<8;)c="0"+c;o||(o="awaps.yandex.ru"),n=n?"&charset="+n:"",s=s?"&subsection="+s:"",this.object_name=r||"aw_json";var l=Math.round(65535*Math.random());this.json_awaps_url=a+"//"+o+"/10/"+t+"/"+c+".?charset="+n+"&callback="+this.object_name+".awaps_callback&rnd="+l+n+s,this.awaps_div_code='<div id="awaps_ad_div" width="'+e+'" height="'+i+'"></div>'},window.AwapsJsonAPI.Json.prototype.getHTML=function(t){var e="";return t.image&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.getHTML.iframeSrc_no"),e=b(He,{attrs:{width:t.width,height:t.height,border:0,alt:t.image_alt,src:window.detector.isRetina()&&t.hidpi_image?t.hidpi_image:t.image}}),t.click_url&&(e=b(ze,{url:t.click_url,content:e}))),e},window.AwapsJsonAPI.Json.prototype.initAntiadbImageBanner=function(){var t=home.getData("banner.image");if(t){home.stat.logPath("tech","client_banner.AwapsJsonAPI.initAntiadbImageBanner");var e=$("."+t.contentCls);BEM.channel("adb").trigger("rendered",{id:"desktop.main.awaps.aadb",elem:e[0]}),t.data.href&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.initAntiadbImageBanner_href"),e.click((function(){t.data.statPath&&home.stat.logPath("click",t.data.statPath.replace(/\./g,"_")),home.openWindow(t.data.href)})))}},$((function(){window.AwapsJsonAPI.Json.prototype.initAntiadbImageBanner(),home.adbImageBannerUpdatePosition&&BEM&&(BEM.blocks.news&&BEM.blocks.news.on("panelChange",home.adbImageBannerUpdatePosition),BEM.channel("i-reposition-event").on("reposition",home.adbImageBannerUpdatePosition))})),i("WFGa"),i("J72x"),i("Bgwq"),i("HBut"),BEM.DOM.decl(home.cls.full("direct-close-block"),{onSetMod:{js:{inited:function(){var t=0===this.elem(home.cls.part("close-block")).length;this.bindTo(home.cls.part("close-button"),"click",(function(e){e.stopPropagation(),t?(this.renderCloseBlock(),t=!1,setTimeout(function(){this.toggleMod(home.cls.part("state"),home.cls.part("closing"),home.cls.part("idle"))}.bind(this),50)):this.toggleMod(home.cls.part("state"),home.cls.part("closing"),home.cls.part("idle"))}))}}},renderCloseBlock:function(){var t={pseudo:"yes"};this.hasMod(home.cls.part("closing-theme"),home.cls.part("dark"))?t.violet="yes":t.blue="yes";var e=this.params.data||home.getData("direct.data."+this.params.id+".closeData"),i=(this.params.hideReasons||[{options:"3-2",text:Object(r.a)("direct.not_interest")},{options:"14-2",text:Object(r.a)("direct.bought_already")},{options:"5-3",text:Object(r.a)("direct.spam")}]).map((function(e){return b(Ot,{content:e.text,mods:t,mix:"direct-close-block__close-reason "+home.cls.full("direct-close-block")+"__close-reason",attrs:{"data-id":e.options},stat:""})})).join("");this.domElem.prepend(b($e,{mix:"direct-close-block__close-reasons "+home.cls.full("direct-close-block")+"__close-reasons",buttons:i}),b(We,{})),e&&e.sendStat&&home.stat.logPath("click",e.statName+".close")},_onReasonClick:function(t){var e=t.data.domElem.data("id").split("-"),i=this.params.data&&this.params.data.abuseUrl||home.getData("direct.data."+this.params.id+".closeData.abuseUrl"),n=home.parseUrl(i);e.length>0&&(n.query["reason-id"]=e[0],n.query["action-id"]=e[1],(new Image).src=home.makeUrl(n),this.setMod(home.cls.part("state"),home.cls.part("confirmed")))}},{live:function(){return this.liveBindTo("close-reason","click",(function(t){return this._onReasonClick(t)})),!1}}),i("6tA5"),i("Zs4m"),i("24+b"),i("ipYq"),i("u3Bn");var qe,Ke,Ye=/(|\.\.\.)$/,Ge=!(Ve("-webkit-line-clamp","1")||Ve("text-overflow","-o-ellipsis-lastline"))&&"querySelectorAll"in document,Ze={};function Xe(){qe||((qe=document.createElement("div")).style.position="absolute",qe.style.left="-1000px",qe.style.top="0",qe.style.visibility="hidden",qe.setAttribute("aria-hidden","true"),document.body.appendChild(qe))}function Je(t,e){return Xe(),qe?(qe.textContent=t,qe.offsetHeight/parseFloat(e.lineHeight)):0}function Qe(t,e,i){Ge&&e&&n(t).forEach((function(t){if(t.offsetWidth&&!(t.innerHTML.indexOf("<")>-1)){var o=n(t.querySelectorAll(".i-multiline-overflow"));t.className.indexOf("i-multiline-overflow")>-1&&o.push(t),o.forEach((function(t){if(t.textContent){var n=i&&Ze[i];n||(n=function(t){var e,i=getComputedStyle(t),n=i.lineHeight,o=i.fontSize;e="normal"===n?1.2*parseFloat(o):parseFloat(n);for(var s=t;s&&"inline"===getComputedStyle(s).display&&s!==document;)s=s.parentNode;return{width:String(s.offsetWidth)+"px",lineHeight:String(e)+"px",fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:o,wordWrap:i.wordWrap,whiteSpace:i.whiteSpace,hyphens:i.hyphens,wordBreak:i.wordBreak}}(t),i&&(Ze[i]=n)),t.textContent=function(t,e,i){var n,o=0,s=t.length;if(function(t){if(Xe(),qe)for(var e in t)if(t.hasOwnProperty(e)){var i=e;Ke&&Ke[i]===t[i]||(qe.style[i]=t[i])}Ke=t}(i),Je(t,i)<=e+.5)return t;for(t=t.replace(Ye,"");o<s;)n=Math.ceil((o+s)/2),Je(t.substr(0,n)+"",i)>e+.5?s=n-1:o=n;return t.substr(0,o).replace(/[-:;,.\s]+$/,"")+""}(t.textContent,e,n)}}))}}))}function ti(t,e,i,n){var o=document.createElement("script");n&&(o.nonce=n),o.charset="utf-8",e&&(o.onload=e),i&&(o.onerror=function(){i(new Error("Failed to load script "+t))}),o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}function ei(t,e,i){if(e&&t){var n=t.scripts,s=t.nonce;n&&n.forEach((function(t){var n=t.id,r=t.conf,a=t.actualVersion;(function(t,e,i){return new Promise((function(n,o){var s,r,a,c,l=window,h=null===(s=l.Ya)||void 0===s||null===(r=s.measurers)||void 0===r?void 0:r[t];l.Ya||(l.Ya={}),h?n(null===(a=l.Ya)||void 0===a||null===(c=a.measurers)||void 0===c?void 0:c[t]):ti(["//yastatic.net/pcode-static/measurers/",e,"/media/",t,".js"].join(""),(function(){var e,i;n(null===(e=l.Ya)||void 0===e||null===(i=e.measurers)||void 0===i?void 0:i[t])}),(function(){o(new Error("Cannot load measurer: "+t))}),i)}))})(n,a,s)["catch"]((function(t){Object(o.a)({block:"measurers",source:"network"},t)})).then((function(t){"function"==typeof t&&("moat"===n&&i&&(r.zMoatDIV=i,home.moatBannerCls=i),t(e,r,{actualVersion:a,nonce:s}))}))}))}}BEM.DOM.decl(home.cls.full("direct-desktop"),{onSetMod:{js:{inited:function(){BEM.channel("adb").trigger("rendered",{id:"desktop.main.tgo",elem:this.domElem[0]}),this._checkHeight(),this._directWarningAnimation(),this._initCounters(),this._calcOverflow(),$(this.domElem[0]).on("click",(function(){var t=home.getData("direct.counters"),e=t&&t.statPath;e&&home.stat.logPath("click",e.replace(/\./g,"_"))}))}}},_initCounters:function(){var t=home.getData("direct.counters");this._shows=t&&t.shows,this._winNotice=t&&t.winNotice,this._scriptMeasurers=t&&t.scriptMeasurers,this._showsSent=!1,this._sendCounters()},_sendCounters:function(){var t=this.domElem[0];this._shows&&!this._showsSent&&(this._sendForceShows=BEM.blocks["i-showed-counter"].setCounter({elem:t,urls:this._shows,callback:this._onSendShows.bind(this),blockId:"banner"})),this._winNotice&&!this._winSent&&BEM.blocks["i-showed-counter"].setCounter({elem:t,urls:this._winNotice,showedTime:0,callback:this._onSendWin.bind(this),blockId:"banner"}),this._scriptMeasurers&&ei(this._scriptMeasurers,t)},_onSendShows:function(){this._showsSent=!0},_onSendWin:function(){this._winSent=!0},_checkHeight:function(){var t=this.elem(home.cls.part("header")),e=this.elem(home.cls.part("text"));t.outerHeight(!0)+e.outerHeight(!0)>88&&home.stat.logPath("text_overflow","direct.card")},_directWarningAnimation:function(){if(!this.getMod(home.cls.part("warning-med"))){var t=this.elem(home.cls.part("caption")),e=this.elem(home.cls.part("caption-message")),i=t.width(),n=e.outerWidth(),o=n-i,s=o/20,r="."+home.cls.full("direct-desktop__caption-message")+"{-webkit-transition: -webkit-transform 0s linear;transition: transform 0s linear;transform: translate(0);}."+home.cls.full("direct-desktop__caption-message_animated")+"{-webkit-transition: -webkit-transform "+s+"s linear;transition: transform "+s+"s linear;-webkit-transform: translate("+-o+"px);transform: translate("+-o+"px);}",a=home.debounce((function(t){e.toggleClass(home.cls.full("direct-desktop__caption-message_animated"),t)}),200);n<i||(this.__styleTag=document.createElement("style"),this.__styleTag.innerText=r,document.head.appendChild(this.__styleTag),this.domElem.on("mouseover",a.bind(null,!0)),this.domElem.on("mouseout",a.bind(null,!1)))}},destruct:function(){this.__styleTag&&document.head.removeChild(this.__styleTag),this.__base.apply(this,arguments)},_calcOverflow:function(){this.domElem.find(".i-multiline-overflow").each((function(){var t=$(this),e=t.data("lines");Qe(t,e)}))}},{live:function(){var t=this;return this.liveBindTo("mouseover",(function e(){!this._showsSent&&this._sendForceShows&&this._sendForceShows(),t.liveUnbindFrom("mouseover",e)})),!1}});var ii={create:function(t,e){var i=IntersectionObserver;this._eventsInited||(this._eventsInited=!0,"THROTTLE_TIMEOUT"in i.prototype&&(this._initEvents(),i.prototype.THROTTLE_TIMEOUT=200,i.prototype.USE_MUTATION_OBSERVER=!1));var n=new i(t,e);return this._instances.push(n),n},_instances:[],_THROTTLE_TIMEOUT:200,_initEvents:function(){this._throttledCallback=home.throttle(this._fire.bind(this),this._THROTTLE_TIMEOUT,{leading:!1}),this._listenEvents()},_listenEvents:function(){},_fire:function(){this._instances.forEach((function(t){t._checkForIntersections()}))}},ni={setCounter:function(t){var e,i=this;if(!t.elem&&!1!==t.useIntersection||!t.urls&&!t.callback&&!t.justRedirStat)return Object(o.a)({block:"i-showed-counter",message:"Cannot send counters",meta:{blockId:t.blockId,urls:null===(e=t.urls)||void 0===e?void 0:e.join()},sourceType:"logic"}),!1;var n={elem:t.elem,callback:t.callback,urls:t.urls,blockId:t.blockId,useIntersection:void 0===t.useIntersection||t.useIntersection,showedTime:"number"!=typeof t.showedTime?2e3:t.showedTime,threshold:t.threshold||.5,removeSendTimer:function(){},setSendTimer:function(){},redirStatParams:t.redirStatParams,justRedirStat:t.justRedirStat};return n.useIntersection&&(n.observer=ii.create((function(t){var e=t[t.length-1];n.inViewPort=e.intersectionRatio>=n.threshold,n.inViewPort?i._setSendTimer(n):i._removeSendTimer(n)}),{threshold:n.threshold})),this._bindEvents(n),this._forceCounter.bind(this,n)},_forceCounter:function(t){this._removeSendTimer(t),this._onShowed(t)},_bindEvents:function(t){this.catchFromFrame(),t.removeSendTimer=this._removeSendTimer.bind(this,t),t.setSendTimer=this._setSendTimer.bind(this,t),t.observer&&t.elem?t.observer.observe(t.elem):BEM.blocks["i-visibilitychange"].waitForVisible(t.setSendTimer.bind(t)),BEM.channel("sys").on({hidden:t.removeSendTimer,visible:t.setSendTimer}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls}})},_unBindEvents:function(t){t.observer&&t.elem&&t.observer.unobserve(t.elem),BEM.channel("sys").un({hidden:t.removeSendTimer,visible:t.setSendTimer})},_setSendTimer:function(t){!t.inViewPort&&t.observer||(this._removeSendTimer(t),t.sendTimer=setTimeout(this._onShowed.bind(this,t),t.showedTime))},_removeSendTimer:function(t){t.sendTimer&&(clearTimeout(t.sendTimer),t.sendTimer=null)},_onShowed:function(t){this._sendStat(t),t.urls&&t.urls.length&&(t.urls.forEach((function(t){(new Image).src=t})),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls}})),t.callback&&t.callback(),BEM.channel("i-showed-counter").trigger("sent",{blockId:t.blockId}),this._unBindEvents(t)},_sendStat:function(t){(t.observer||t.justRedirStat)&&home.stat.logPath("tech",t.blockId+".showed",t.redirStatParams)},_logFunc:function(t){home&&home.logBanner&&home.logBanner.log&&home.logBanner.log(t)},catchFromFrame:function(){var t=this;this.frameListener||(window.addEventListener("message",(function(e){var i=e&&e.data&&e.data.isc;i&&t._logFunc(i)})),this.frameListener=!0)}};function oi(t){if(t){var e=t.pages,i=t.content;ni.setCounter({blockId:"banner_inventory_client."+i,showedTime:1e3,useIntersection:!1,justRedirStat:!0,redirStatParams:e?{customParams:{pages:e}}:void 0})}else Object(o.a)({block:"banner",method:"bannerInventory",message:"inventoryData are empty"})}function si(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ri={},ai=function(t){return function(){function e(t){var i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!t.node)throw new Error("BannerRefresh: params and params.node is required");this._url=t.url||"/portal/ntp/banner",this._node=t.node,this._loadTimeout=t.loadTimeout||30,this._timeout=null!==(i=t.timeout)&&void 0!==i?i:90,this._limit=t.limit||3,this._ratio=t.ratio||1;var n=t.autoRefreshCheck||function(t){this._onError("No autorefresh check"),t()};this._check=n.bind(this,this.refreshBanner.bind(this)),this._query=t.queryParams||{},this._bannerClass=t.className,this._loadingClass=t.loadingClassName,this._wrapClass=t.wrapClass,this._onBannerMessage=t.onBannerMessage,this._onBeforeSwitchBanner=t.onBeforeSwitchBanner||function(){},this._onBeforeRefreshBanner=t.onBeforeRefreshBanner||function(){},this._onRefreshBanner=t.onRefreshBanner||function(){},this._logFunc=t.logFunc||function(){},this._onNetworkFailed=t.onNetworkFailed,this._container=this._node.parentNode,this._container||this._onError("invalid or detached node"),t.skip&&this.updateUsedBanners(t.skip.slice()),t.queryParams&&"touch"===t.queryParams.refresh&&(this._feed=t.queryParams.feed||1)}var i,n;return i=e,(n=[{key:"updateUsedBanners",value:function(t){function e(t){return"string"==typeof t||"number"==typeof t}if(Array.isArray(t))t.forEach((function(t){ri[t]=1}));else if(e(t))ri[t]=1;else if("object"==typeof t)for(var i in t)e(t[i])&&(ri[t[i]]=1)}},{key:"refreshBanner",value:function(t){if(!(this._limit<=0)){this._limit--,this._timeout*=this._ratio;var e=Object(Pt.a)(Object(Pt.a)({},this._query),t||{}),i=this._getUsedBanners();i.length&&(e["skip-token"]=i.join(","));var n=A(this._url,e);if(this._container){var o={" ":i.join(", ")||""," ":isFinite(this._limit)?this._limit:"","":this._timeout};this._feed&&(o.stat_id=this._feed),this._logFunc({action:"    ",params:o}),this._container.appendChild(this._createNew(n))}else this._onError("No container on refresh")}}},{key:"setRefresh",value:function(){this._timeout?setTimeout(this._check,1e3*this._timeout):this._check()}},{key:"_onError",value:function(t){var e=new Error("BannerRefresh:"+t);e.block="banner-refresh",e.meta={cls:this._node.className},this._container&&(e.meta.cnt=this._container.className),Object(o.a)({},e)}},{key:"_getUsedBanners",value:function(){return Object.keys(ri)}},{key:"_createNew",value:function(t){this._destroyNew();var e=this._new=document.createElement("iframe");if(this._bannerClass&&(e.className=this._bannerClass),this._bindOnMessage(e),e.src=this._relUrl=t,this._wrapClass){var i=this._new=document.createElement("div");i.className=this._wrapClass,i.appendChild(e)}return this._loadingClass&&(this._new.className+=" "+this._loadingClass),this._new}},{key:"_destroyNew",value:function(){if(this._new){var t=this._new,e=t.parentNode;e&&e.removeChild(t),this._unbindOnMessage(),this._new=null}}},{key:"_bindOnMessage",value:function(e){var i,n=this;function o(){e.removeEventListener("load",r),e.removeEventListener("error",a)}function s(){clearTimeout(i),o()}this._onMessage&&this._unbindOnMessage(),this._onMessage=function(t){if(e.contentWindow===t.source){var i;try{i=JSON.parse(t.data)}catch(o){return}i&&i.name&&(s(),n._unbindOnMessage(),n._onEvent(i,e))}};var r=function(){"function"!=typeof n._onNetworkFailed||n._checkUrlLoaded(n._relUrl)||n._onNetworkFailed(),o(),e._loaded=!0},a=function(){s(),n._onEvent({name:"none"},e)};i=setTimeout(a,1e3*this._loadTimeout),e.addEventListener("load",r),e.addEventListener("error",a),t.addEventListener("message",this._onMessage)}},{key:"_unbindOnMessage",value:function(){this._onMessage&&(t.removeEventListener("message",this._onMessage),this._onMessage=null)}},{key:"_onEvent",value:function(t,e){if(this._onBannerMessage&&this._onBannerMessage(t),t.bannerInventory&&oi(t.bannerInventory),"none"===t.name)return this._logFunc({action:"     ",params:{}}),void this._destroyNew();if(e._loaded?this._switchBanners(t):e.addEventListener("load",this._switchBanners.bind(this,t)),t.bannerId){var i=t.name.split("."),n={"":i.length>2?i[1]+" - "+i[2]:t.name,id:t.bannerId};this._feed&&(n.stat_id=this._feed),this._logFunc({action:" ",params:n}),this.updateUsedBanners([t.bannerId])}}},{key:"_switchBanners",value:function(t){this._new&&this._onBeforeSwitchBanner(t,this._new),this._new&&(this._onBeforeRefreshBanner(),this._container&&this._container.removeChild(this._node),this._loadingClass&&(this._new.className=this._new.className.replace(new RegExp("\\b"+this._loadingClass+"\\b"),"")),this._node=this._new,this._new=null,this.setRefresh(),this._onRefreshBanner())}},{key:"_checkUrlLoaded",value:function(e){var i=document.location.origin+e,n=!0,o=t.PerformanceObserver&&t.performance&&performance.getEntriesByType&&performance.getEntriesByType("resource");return o&&o.length&&(n=o.some((function(t){return t.name===i}))),n}}])&&si(i.prototype,n),e}()}(window);BEM.DOM.decl(home.cls.full("b-banner"),{onSetMod:{js:{inited:function(){BEM.blocks["i-performance"].preparePerformanceBuffer(),this._sendCounts(),this._setRefresh()}}},_sendCounts:function(){this._activateScriptMeasureres(),this._sendBnCounts(),this._sendWinNotices()},_sendBnCounts:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.bnCounts;(null==e?void 0:e.length)&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.sendBnCounts"),BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],urls:e,useIntersection:!0,showedTime:2e3,blockId:"banner"}))},_sendWinNotices:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.winNotice;(null==e?void 0:e.length)&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.sendWinNotices"),BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],blockId:"banner.win_notice",useIntersection:!1,showedTime:0,urls:e.map((function(t){var e,i=Math.round(65535*Math.random()),n=t.replace("%aw_random%",String(i));return 0===n.indexOf("https://awaps.yandex.net")&&((e=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(D);n?e=n[3].match(O):(n=[],e=t.match(O));var o={scheme:n[1]||"",host:n[2]||"",path:e&&e[1]||"",search:e&&e[2]||"",hash:e&&e[3]||"",query:{}};return o.query=j(o.search,i.multi),o}(t)).query.pageview_id=s("statlog.config.showId"),n=function(t){var e="";return!t.scheme||!t.host&&t.path||(e+=t.scheme+"://"),t.host&&(t.scheme||(e+="//"),e+=t.host),e&&(t.path&&0!==t.path.indexOf("/")||!t.path)&&"/"!==e.charAt(e.length-1)&&(e+="/"),e+=t.path||"",t.query&&(e+=R(t.query)),t.hash&&(e+="#"+t.hash),e}(e)),n}))}))},_activateScriptMeasureres:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.scriptMeasurers;e&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.activateScriptMeasureres"),ei(e,this.domElem[0]))},_setRefresh:function(){var t,e=home.cls.full("b-banner__iframe"),i=home.cls.full("b-banner__iframe_refreshed"),n=document.querySelector(home.cls.full(".b-banner__wrapper")),o=this.params.refresh;if((null==o||null===(t=o.conf)||void 0===t?void 0:t.refresh_counts)&&n){var r=o.conf,a=$(window),c=r.mock,l={url:r.refresh_url,limit:r.refresh_counts,timeout:0,skip:o.skipBanner?o.skipBanner.split(","):[],className:[e,i].join(" "),loadingClassName:home.cls.full("b-banner__iframe b-banner_loading_yes"),node:n,autoRefreshCheck:this._refreshCheck.bind(this,r),logFunc:home.logBanner&&home.logBanner.log},h={pageview_id:s("statlog.config.showId"),slots:s("timing.exp")||"",refresh:"big",statPath:"refresh.v14",tgo:r.tgoSupported?"1":"0",beta:r.isBeta?"1":""};r.fakestat&&(h.fakestat=r.fakestat),c&&(h.usemock=c),o.darkTheme&&(h["dark-theme"]=String(o.darkTheme)),l.queryParams=h,new ai(l).setRefresh(),a.on("message",(function(t){var e=t.originalEvent;if(function(t){var e,i;return Boolean(null===(e=t)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.type)}(e)){var n=e.data,o=$("."+i)[0];if(o&&e.source!==o.contentWindow)return;"counters"===(null==n?void 0:n.type)&&"banner"===(null==n?void 0:n.blockId)&&BEM.channel("i-showed-counter").trigger("sent",{blockId:n.blockId})}}))}else BEM.blocks["i-performance"].destroy()},_refreshCheck:function(t,e){var i,n,o,s,r,a,c,l,h,d={},u={},m=!document.hidden,p=!1,f=!1,_=$(home.cls.full(".b-banner__content")),g=t.watch_timeout,v=t.tab_timeout,b=t.overlapping_timeout;n=function(t){d[t]&&(clearTimeout(d[t]),d[t]=void 0,u[t]=!1)},s=function(){m=!1,n("watch"),o("tabHidden",v)},r=function(){m=!0,n("tabHidden"),c()},a=function(){BEM.channel("i-showed-counter").un("sent",l),BEM.channel("sys").un({hidden:s,visible:r}),BEM.channel("banner").un({overlapping:h}),i.unobserve(_[0])},c=function(){f&&m&&!p&&(u.tabHidden||u.watch||u.bannerOverlapping)&&(n("tabHidden"),n("watch"),u.bannerOverlapping=!1,e&&e({"ntp-sandwich":u.tabHidden?"1":""}),a())},o=function(t,e){n(t),d[t]=setTimeout((function(){u[t]=!0,clearTimeout(d[t]),d[t]=void 0,"watch"===t&&c()}),1e3*e)},l=function(t,e){"banner"===e.blockId&&(o("watch",g),o("bannerOverlappingTimeout",b),(i=BEM.blocks["i-intersection-observer-wrapper"].create((function(t){var e=t[t.length-1];f=e.intersectionRatio>=.5,c()}),{threshold:.5})).observe(_[0]),BEM.channel("sys").on({hidden:s,visible:r}),BEM.channel("banner").on({overlapping:h}))},h=function(t,e){p=Boolean(e),e||(u.bannerOverlappingTimeout&&(u.bannerOverlapping=!0,n("bannerOverlappingTimeout")),c())},BEM.channel("i-showed-counter").on("sent",l)}},{}),$((function(){var t=s("bannerInventory.data");t&&oi(t);var e=$(home.cls.full(".b-banner")),i=s("banner");(null==e?void 0:e.length)&&i&&e.bem(home.cls.full("b-banner"),i)}));var ci=function(){};function li(t,e){var i=t.parent().width()/e.width;t.css("transform","scale("+i+")")}function hi(t,e,i){return i(S,{jsMix:{modal:{}},mix:home.getBEMClassname("modal",t),content:i(di,{content:t.content}),zIndexGroupLevel:t.zIndexGroupLevel||20,mods:{autoclosable:t.mods&&t.mods.autoclosable,visible:t.mods&&t.mods.visible}})}function di(t){return"<div class='modal__table'>"+E.a.oneElem("<div class='modal__cell'>"+E.a.oneElem("<div class='modal__content'>"+E.a.oneElem(t.content)+"</div>")+"</div>")+"</div>"}function ui(t,e){return"<div "+w()({"class":"modal__close",role:"button",tabindex:"0","aria-label":e.l10n("a11y.close")})+"></div>"}function mi(t,e){var i,n,o=$(window).height(),s=$(window).width(),r=Math.min(1200,Math.floor(s-400)),a=Math.floor(9*r/16);if(a>o-200&&(r=r*(o-200)/a,a=o-200),r=2*Math.floor(r/2),a=2*Math.floor(a/2),r<640||a<360)return i=e.clickUrl,void((n=window.open("","_blank"))&&(n.opener=null,n.location=i));t.domElem.find(".rtb__popup-inner").css({width:r,height:a}),t.setMod("visible","yes"),function(t,e){!function(t,e){t.domElem.find(".rtb__popup-inner").css({"background-color":e.expandedBgColor})}(t,e),setTimeout((function(){setTimeout((function(){!function(t,e){var i=t.domElem.find(".rtb__popup-inner"),n='<iframe class="rtb__popup-iframe" name="bannerhtml5" src="'+e.expandedIndexSrc+'" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" width="100%" height="100%"></iframe>';i.children().length||i.append(n)}(t,e)}),200)}),0),function(t){$(window).one("resize",(function(){t.delMod("visible")}))}(t)}(t,e),function(t){window.addEventListener("message",(function(e){var i=$(".rtb__popup-iframe")[0];if(i&&e.source===i.contentWindow){var n;try{n=JSON.parse(e.data)}catch(o){return}n&&n.command&&"close"===n.command&&setTimeout((function(){t.delMod("visible")}),500)}}))}(t)}function pi(t,e,i){var n=t.row;return i(gi,{href:n.uid?t.host+"thread/"+n.uid:"javascript:void(0)",title:(n.express?e.l10n("etrain.express")+"&#32;":"")+(n.name||n.title),time:n.stime||n.departure,timeClass:n.express?" etrains__time_express":"",stat:e.stat.getAdaptiveCounter(t.counter)})}function fi(t,e,i){var n,o,s="",r=[],a=(t.from||"").replace(/\s*\(.*$/,""),c=(t.to||"").replace(/\s*\(.*$/,""),l=t.today,h=t.tomorrow,d="rasp."+t.counterType+".track";if(l&&l.length||h&&h.length){if(l&&l.length)for(n=0,o=l.length;n<o;n++)r.push(i(pi,{row:l[n],host:t.host,counter:d}));if(h&&h.length)for(n=0,o=h.length;n<o;n++)r.push(i(pi,{row:h[n],host:t.host,counter:d}));s=i(_i,{direction:i(vi,{stfrom:a,stto:c}),times:r.join(""),trackClass:t.direction?"fwd":"rev"})}return s}function _i(t,e,i){return"<span "+w()({"class":"etrains__track etrains__track-".concat(void 0!==t.trackClass?t.trackClass:void 0!==e.trackClass?e.trackClass:i("trackClass",t))})+">"+(E.a.oneElem(void 0!==t.direction?t.direction:void 0!==e.direction?e.direction:i("direction",t))+E.a.oneElem("<ul class='etrains__times-list'>"+E.a.oneElem(void 0!==t.times?t.times:void 0!==e.times?e.times:i("times",t))+"</ul>"))+"</span>"}function gi(t){return"<li class='etrains__track-time'>"+(E.a.oneElem("<a "+w()({href:t.href,"class":"home-link home-link_black_yes etrains__time".concat(P(t.timeClass)),title:t.title,_temp:t.stat,_temp1:t.target})+">"+E.a.oneElem(t.time)+"</a>")+E.a.oneElem(t.hint))+"</li>"}function vi(t){return"<span class='etrains__direction home-link home-link_black_yes'>"+E.a.oneElem(t.stfrom)+" "+E.a.oneElem(t.stto)+"</span>"}function bi(){return 101}function yi(t,e,i){var n=i(bi),o=t.libParams;return"//zen.yandex."+t.tld+"?clid="+n+"&country_code="+o.countryCode}function wi(t,e,i){return i(ki,{mods:t.mods,mix:t.mix,js:{scrollbar:t.js||{}},content:t.content})}function ki(t){return"<div "+w()({"class":"".concat(C("scrollbar",t||{})," i-bem"),"data-bem":x(t.js||{})})+">"+E.a.oneElem("<div class='scrollbar__scrollable'>"+E.a.oneElem("<div class='scrollbar__inner'>"+E.a.oneElem(t.content)+"</div>")+"</div>")+"<div class='scrollbar__track'><div class='scrollbar__thumb'></div></div></div>"}function Ei(t,e,i){var n,o,s="",r=[];return t.list.forEach((function(t){t.icon&&t.icon_svg?s+=".widgets-list__services-icon_id_"+t.id+"{background-image:url("+t.icon_svg+");}":s+=".widgets-list__services-icon_id_"+t.id+"{background-image:url("+(t.icon_svg||t.icon)+");}"})),r=[0],t.wide?(o=Math.ceil(t.list.length/2),r.push(1)):o=t.list.length,r=r.map((function(e){n="";for(var s=0;s<o;++s)n+=i(Mi,t.list[s+e*o]);return i(Ci,{cells:n})})),i(xi,{mods:{wide:t.wide?"yes":void 0},style:s,content:i(wi,{content:i(Ti,{title:i(Ot,{href:e.ServicesAllUrl,mods:{blue:"yes"},stat:e.stat.getClientCounter("widgets_list.services.title"),content:e.l10n("services.title")}),cols:r.join("")})})})}function Mi(t,e,i){if(!t)return i(Bi);var n="widgets_list.services."+t.id;return i(Si,{icon:i(Ot,{content:"",href:t.url,stat:e.stat.getClientCounter(n),mix:"widgets-list__services-icon widgets-list__services-icon_id_"+t.id,attrs:{"aria-hidden":"true"}}),title:i(Ot,{content:t.title,href:t.url,stat:e.stat.getClientCounter(n),mix:"home-link_black_yes widgets-list__services-title"}),subtitle:i(Ot,{content:home.capitalize(t.subtitle.text),href:t.subtitle.url,stat:e.stat.getClientCounter(n),mix:"home-link_gray_yes widgets-list__services-subtitle"})})}function xi(t){return"<div "+w()({"class":C("widgets-list__services-layout",t||{})})+">"+(E.a.oneElem("<style>"+E.a.oneElem(P(t.style))+"</style>")+E.a.oneElem(t.content))+"</div>"}function Ti(t){return E.a.oneElem("<h1 class='widgets-list__services-header'>"+E.a.oneElem(t.title)+"</h1>")+E.a.oneElem("<div class='widgets-list__services-table'>"+E.a.oneElem(t.cols)+"</div>")}function Ci(t){return"<div class='widgets-list__services-col'>"+E.a.oneElem(t.cells)+"</div>"}function Si(t){return"<div class='widgets-list__services-item'>"+(E.a.oneElem(t.icon)+E.a.oneElem("<div class='widgets-list__services-texts'>"+(E.a.oneElem(t.title)+E.a.oneElem(t.subtitle))+"</div>"))+"</div>"}function Bi(){return"<div class='widgets-list__services-item'></div>"}function Ii(t,e,i){var n=t.initiallyHidden||"both";return t.mods=t.mods||{},"right"===n&&(t.mods.left="yes"),"left"===n&&(t.mods.right="yes"),i(Pi,t)}function Pi(t,e,i){return"<div "+w()({"class":"".concat(C("arrowed-list",t||{})," i-bem"),"data-bem":x(t.js||{})})+">"+E.a.oneElem(i(Di,t))+"</div>"}function Di(t){var e=E.a.oneElem(t.beforeWrap)+E.a.oneElem("<div "+w()({"class":"arrowed-list__content scroller ".concat(P(t.wrapMix))})+">"+E.a.oneElem("<div "+w()(Object.assign({"class":"arrowed-list__list ".concat(P(t.listMix)),role:"list"},t.attrs))+">"+E.a.oneElem(t.content)+"</div>")+"</div>")+E.a.oneElem("<div "+w()({"class":"arrowed-list__left arrowed-list__control",_temp:t.prevStat})+"></div>")+E.a.oneElem("<div "+w()({"class":"arrowed-list__right arrowed-list__control",_temp1:t.nextStat})+"></div>");return t.enableScrollHider?"<div class='scroller__hider'>"+E.a.oneElem(e)+"</div>":e}function Oi(t,e){return"<div class='widgets-list__promo'>"+(E.a.oneElem("<div class='widgets-list__promo-title'>"+E.a.oneElem(e.l10n("widgets_list.promo_title"))+"</div>")+E.a.oneElem("<div class='widgets-list__promo-text'>"+E.a.oneElem(e.l10n("widgets_list.promo_text"))+"</div>"))+"<div class='widgets-list__promo-image' role='img' aria-hidden='true'></div>"+E.a.oneElem("<div "+w()({"class":"widgets-list__promo-close",role:"button",tabindex:"0",title:e.l10n("a11y.close")})+"></div>")+"</div>"}function ji(t,e,i){var n=home.getData("widgets-list.data");if(n)return i(Ri,n)}function Ri(t,e,i){var n,o,s="widgets-list",r=e.zenInsert;t.mods={many:t.list.length>3?"yes":"no",promo:t.promo?"yes":void 0},n=t.list.map((function(t){return i(Li,{html:i(wi,{content:t})})})),t.services&&n.push(i(Ei,{list:t.services,wide:t.services.length>6}));var a=i(Zs);return o=n.length<=(a?2:3)?i(Ni,{content:n.join("")}):i(Ii,{mix:s+"__list-wrapper media-service__list-wrapper",wrapMix:s+"__wrap media-service__wrap",listMix:s+"__list media-service__list",content:n.join(""),mods:{theme:"media"},js:{"arrowed-list":{counter:"widgets_list"}}}),i(Xs,{block:"widgets-list",rootMod:home.getBEMClassname("widgets-list",t)+" i-bem media-grid__widgets-list",title:i(Ai,t),titleStat:e.stat.getClientCounter("widgets_list.title"),mods:{"has-carousel":"yes"},before:t.promo&&i(Oi,t.promo)||"",content:i(Fi,{content:o}),attrs:{role:"complementary","aria-label":e.l10n("widgets_list.title"),"data-bem":home.getBEMParams({"widgets-list":{live:!r&&!t.promo,promo:t.promo&&{show_url:t.promo.show_url,close_url:t.promo.close_url}}})},footer:{html:i(xe,{content:e.l10n("widgets_list.footer"),mix:"media-service__footer",mods:{footer:"yes"},params:{name:"widgets_list",live:!1}})}})}function Ai(t,e){return e.l10n("widgets_list.title")}function Fi(t){return"<div class='media-service__panels widgets-list__panels'>"+E.a.oneElem("<div class='media-service__panel widgets-list__panel'>"+E.a.oneElem(t.content)+"</div>")+"</div>"}function Ni(t){return"<div class='widgets-list__no-carousel media-service__wrap'>"+E.a.oneElem(t.content)+"</div>"}function Li(t){return"<div class='widgets-list__item'>"+E.a.oneElem(t.html)+"</div>"}function Ui(t,e,i){var n,o=t.has_stream||t.video_url,s=t.fallback_url,r="big"===t.size,a=r&&t.subscription&&t.subscription_title,c=t.minimizedMain,l="minimized"===t.size;n=o?i(Vi,t):"";var h,d,u,m=t.thumbnail,p=t.title,f=t.video_url||t.fallback_url,_=a?i(qi,{text:t.subscription_title,bgColor:t.shield_color}):"",g=p+(t.time_text?"  "+t.time_text:"");return l?(c?d=i($i,{title:g,desc:t.description}):u=i(Ki,{title:g,desc:t.description}),h=i(zi,{footer:u,desc:d,icon:n,mix:"imageloader__image imageloader__image_loaded_no "+(t.mix||""),img:m})):h=i(zi,{title:r?t.time_text?i(Wi,{title:home.capitalize(t.time_text),mix:"media-episode__stream-title"}):"":i(Wi,{title:g,mix:"media-episode__stream-title"}),icon:n,mix:(t.mix||"")+"imageloader__image imageloader__image_loaded_no",img:m,badge:_}),i(Hi,{mods:{direction:t.direction,view:r?"":"gradient",size:t.size,action:s?"yes":"",gradient:r?"yes":""},mix:l?"imageloader__column":"",content:i(Ot,{mix:"media-episode__link"+(l?" imageloader__card":"")+(c?" media-episode__link_minimized-main":""),content:h,mods:{color:"inherit",hover:"inherit"},href:f,stat:e.stat.getClientCounter(t.counter),js:{}}),js:{"media-episode":{}}})}function Hi(t){return"<div "+w()({"class":"".concat(C("media-episode",t||{})," i-bundle-bem"),"data-bem":x(t.js||{})})+">"+(E.a.oneElem(t.content)+E.a.oneElem(t.footer))+"</div>"}function zi(t){return E.a.oneElem("<span "+w()({"class":"media-episode__image media-service__image ".concat(P(t.mix)),"data-image":t.img})+">"+(E.a.oneElem(t.stream)+E.a.oneElem(t.icon)+E.a.oneElem(t.badge))+"</span>")+E.a.oneElem(t.footer)+E.a.oneElem(t.desc)}function Wi(t){return"<span "+w()({"class":"".concat(C("media-episode__title",t||{})," i-multiline-overflow")})+">"+E.a.oneElem(t.title)+"</span>"}function $i(t){return"<div class='media-episode__minimized-desc'>"+(E.a.oneElem("<span class='media-episode__title_main i-multiline-overflow'>"+E.a.oneElem(t.title)+"</span>")+E.a.oneElem("<span class='media-episode__subtitle_main i-multiline-overflow'>"+E.a.oneElem(t.desc)+"</span>"))+"</div>"}function Vi(){return"<div class='media-episode__play'></div>"}function qi(t){return"<div "+w()({"class":"media-episode__badge",style:"background-color: ".concat(P(t.bgColor))})+">"+E.a.oneElem(t.text)+"</div>"}function Ki(t){return"<div class='media-episode__footer'>"+(E.a.oneElem("<div class='media-episode__footer-title'>"+E.a.oneElem(t.title)+"</div>")+E.a.oneElem("<div class='media-episode__footer-desc'>"+E.a.oneElem(t.desc)+"</div>"))+"</div>"}function Yi(t,e,i){var n=t.mods||{},o=t.tag||"button",s=t.textMix?" "+t.textMix:"",r=t.mixJs||{},a=t.attrs||{};return t.url?o="a":t.tag&&(o=t.tag),n.theme||("yes"===n.pseudo?n.theme="pseudo":n.theme="normal"),"link"!==a.role&&(a.role="button"),t.tabindex&&(a.tabindex=t.tabindex),t.url?(a.href=t.url,t.target&&(a.target=t.target),n.disabled&&(a["aria-disabled"]=!0),"_blank"===a.target&&void 0===a.rel&&(a.rel="noopener")):(a.type=t.type||"button",t.name&&(a.name=t.name),t.value&&(a.value=t.value),n.disabled&&(a.disabled="disabled")),n.view||(n.view="classic"),r.button2=t.js||{},a["data-bem"]=home.getBEMParams(r),"<"+o+' class="'+home.getBEMClassname("button2",{mods:n,mix:t.mix})+" "+i(Gi,t)+'"'+home.getAttributes(a)+(t.stat||"")+">"+i(Zi,t)+'<span class="button2__text'+s+'"'+(t.text&&t.text.attrs?home.getAttributes(t.text.attrs):"")+">"+(t.content||"")+"</span></"+o+">"}function Gi(){return"i-bem"}function Zi(t,e,i){var n=[];return t.icon?n.push(i(Xi,{mod:t.icon})):t.iconObj&&n.push(i(et,{mods:t.iconObj.mods,mix:"button2__icon"+(t.iconObj.mix?" "+t.iconObj.mix:""),url:t.iconObj.url})),t.iconLeft?n.push(i(Xi,{mod:"button2__icon_side_left "+t.iconLeft})):t.iconLeftObj&&n.push(i(et,{mods:t.iconLeftObj.mods,mix:"button2__icon button2__icon_side_left"+(t.iconLeftObj.mix?" "+t.iconLeftObj.mix:""),url:t.iconLeftObj.url})),t.iconRight?n.push(i(Xi,{mod:"button2__icon_side_right "+t.iconRight})):t.iconRightObj&&n.push(i(et,{mods:t.iconRightObj.mods,mix:"button2__icon button2__icon_side_right"+(t.iconRightObj.mix?" "+t.iconRightObj.mix:""),url:t.iconRightObj.url})),n.join("")}function Xi(t){return"<span "+w()({"class":"icon button2__icon ".concat(P(t.mod)),"aria-hidden":"true"})+"></span>"}function Ji(t,e,i){var n=t.branding,o=t.content,s=t.media;return n?(n.img_left?i(en,{img:n.img_left,attrs:{"data-statlog":"media_event."+s.name+".illustration"}}):"")+o+(n.img_right?i(en,{mods:{align:"right"},img:n.img_right}):""):o}function Qi(t){return"<div class='media-event__layout media-event__layout_minimized'>"+(E.a.oneElem(t.generalContent)+E.a.oneElem(t.logo))+"</div>"}function tn(t){return"<span "+w()({"class":"media-event__logo media-service__image imageloader__image imageloader__image_loaded_no","data-image":t.img})+"></span>"}function en(t){return"<div "+w()(Object.assign({"class":C("media-event__illustration",t||{})},t.attrs,{style:"background-image: url(".concat(P(t.img),")")}))+"></div>"}function nn(t,e,i){(t=t||{}).streamDefault&&!t.streamChannel&&(t.streamChannel="default");var n=t.fromBlock||i(sn),o=t.fromBlockPrefix;void 0===o&&(o=i(on)),n&&/^([-\w]+)$/.test(n)?n=o+n:o&&!t.fromBlockCode&&(home.error("stream-url: invalid fromBlock "+n),n=void 0),t.fromBlockCode&&(n=void 0);var s,r,a="object"==typeof Ya&&Ya.streamCms&&Ya.streamCms.settings,c=a.streamPath,l=a.streamPaths,h=a.streamSharePath,d=a.streamRetPath,u=a.homePageNoArgs||"",m=a.streamYellowSkin,p=a.streamYellowSkinParams,f={frontend_vh_reqid:t.frontendVhReqId,recommender_reqid:t.recommenderReqId,stream_active:t.streamActive,stream_id:t.streamId,stream_channel:t.streamChannel,stream_category:t.streamCategory,stream_publisher:t.streamPublisher,search_text:t.streamSearchText,filters:t.streamFilters,channels_category:t.channelsCategory,mch:t.mainChannelId,from_block:n,source:t.source,f:t.fromBlockCode},_=c,g=home.parseUrl(u);t.path&&void 0!==l[t.path]&&(_=l[t.path]),t.isSharing&&(s=g.host,r="https",_=h),t.isRetPath&&(s=g.host,r="https",_=d),t.isSportContent&&(s=a.yandexSportUrl,r="https",_="/efir"),t.isDRMContent&&(s="yandex."+(e.MordaZone||"ru"),r="https",_="/efir"),(t.withHost||m)&&(s=g.host,r="https"),t.query&&Object.assign(f,t.query),a.videohub_as_vertical&&a.searchAppParams&&(f=Object.assign({},f,{vertical_stream:"1"},a.searchAppParams),r="https");var v=home.makeUrl({scheme:r,host:s,path:_,query:f});return m?home.yellowskin(p,v):v}function on(){return""}function sn(){return""}function rn(t,e,i){var n=home.getData("media-event-carousel.data");if(n)return i(an,n)}function an(t,e,i){var n=t.media,o=n.branding,s=n.title_fallback_url,r=i(tn,{img:n.logo}),a=i(cn,{episodes:n.episodes,name:n.name}),c=n.episodes[0].has_stream,l=t.shouldScrollToBlock,h=s||"",d=!1,u=e.zenInsert;c&&!s&&(h=i(nn,{fromBlock:"media-event_block_title",streamId:n.episodes[0].content_id}),d="_blank");var m=i(Qi,{generalContent:a,logo:r});return m=i(Ji,{branding:o,content:m,media:n}),i(Xs,{block:"media-event-carousel",layoutName:"media_event_carousel",rootMod:"i-bem imageloader imageloader_different_yes media-event-carousel media-event",href:h,target:d,title:t.title,titleStat:e.stat.getClientCounter("media_event_carousel."+n.name+".title"),content:m,attrs:{role:"complementary","aria-label":n.title,"data-bem":home.getBEMParams({"media-event-carousel":{scrollTo:l,name:n.name,live:!u},imageloader:{}})}})}function cn(t,e,i){return i(Ii,{mix:"media-event-carousel__list-wrapper media-event__list-wrapper",listMix:"media-event-carousel__list media-event__list media-service__list",wrapMix:"imageloader__scroller",content:t.episodes.map((function(e,n){return 0===n&&e.description&&(e.minimizedMain=!0),e.name=t.name,e.size="minimized",e.counter="media_event_carousel."+t.name+".episode."+(n+1),i(Ui,e)})).join(""),mods:{theme:"media"},js:{"arrowed-list":{counter:"media_event_carousel"},imageloader:{}}})}function ln(t,e,i){var n,o,s;return t.rating?(o=(n=parseFloat(t.rating)).toFixed(1).replace(".",","),s=e.l10n("kinopoisk.rating").replace("%s",o),i(dn,{mix:t.mix,text:o,label:s,color:i(hn,{rating:n})})):""}function hn(t){var e=t.rating;return e>=8?"#32ba43":e>=7?"#89c939":e>=5?"#91a449":e>=3?"#85855d":"#727272"}function dn(t){return E.a.oneElem("<span "+w()({"class":C("kinopoisk-rating",t||{}),style:"background-color:".concat(P(t.color),";"),"aria-hidden":"true"})+">"+E.a.oneElem(t.text)+"</span>")+E.a.oneElem("<span class='a11y-hidden'>"+E.a.oneElem(t.label)+"</span>")}function un(t,e,i){var n=t.restrictionAge,o=e.l10n("stream.restriction-age")+": ";return n?(n+="+",i(mn,{mix:t.mix,text:n,mods:t.mods,label:o+n})):""}function mn(t){return E.a.oneElem("<span "+w()({"class":C("restriction-age",t||{}),"aria-hidden":"true"})+">"+E.a.oneElem(t.text)+"</span>")+E.a.oneElem("<span class='a11y-hidden'>"+E.a.oneElem(t.label)+"</span>")}function pn(t,e,i){var n=home.getData("kinopoisk.data");if(n)return i(fn,n)}function fn(t,e,i){var n=t.retryButtonTheme,o=t.defaultTabId,s=t.data[o],r=t.groups,a=e.zenInsert,c="kinopoisk_"+home.rnd().substr(0,5),l=home.addQueryToUrl("https://hd.kinopoisk.ru/",{utm_source:"ya-main",utm_medium:"hd-online",utm_campaign:"organic",utm_content:"title_block",utm_term:"desktop"});return i(Xs,{block:"kinopoisk",rootMod:home.getBEMClassname("kinopoisk",t)+" i-bem media-grid__kinopoisk",mods:{"has-carousel":"yes",tabs:"yes"},href:l,target:i(ht)?"_blank":void 0,title:t.title,titleMix:"home-link_pseudo_yes",titleAttrs:{"data-stat":"kinopoisk.link","data-selection-id":String(s.id),"data-from-block":"block_title",tabindex:0},titleStat:e.stat.getClientCounter("kinopoisk.title"),tabs:r.map((function(t){var e=t["default"],n="kinopoisk.tab.select."+home.transliterate(t.title.toLowerCase()).replace(/,/g,"").replace(/\s/g,"-").replace(/-/g,"_");return i(ae,{mods:{selected:e?"yes":"no"},mix:home.getBEMClassname("kinopoisk__tab",{mods:{selected:e?"yes":"no"}}),content:t.title,attrs:{tabindex:e?"0":"-1","aria-selected":e?"true":"false","aria-controls":e?c+"_panel_"+t.id:void 0,"data-key":t.id,"data-stat-select":n,id:c+"_tab_"+t.id}})})).join(""),content:i(vn,{panel:i(Ct,{block:"kinopoisk",id:c,key:o,mix:" media-service__panel",attrs:{"aria-labelledby":c+"_tab_"+s.id},content:i(_n,{id:s.id,title:s.title,films:s.films,retryButtonTheme:n})})}),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({kinopoisk:{selectedTab:o,retryButtonTheme:n,live:!a,uniqId:c,country:t.country}})}})}function _n(t,e,i){var n=t.films?i(gn,t):"";return i(Ii,{enableScrollHider:!0,mix:"kinopoisk__list-wrapper media-service__list-wrapper imageloader imageloader_tracking_yes",wrapMix:"kinopoisk__wrap media-service__wrap imageloader__scroller",listMix:"kinopoisk__list media-service__list",content:n,mods:{theme:"media","arrow-position":"weighted","list-out":"yes"},js:{"arrowed-list":{counter:"kinopoisk"},imageloader:{}}})}function gn(t,e,i){var n=home.transliterate(t.title.toLowerCase()).replace(/,/g,"").replace(/\s/g,"-"),o="kinopoisk.film."+n.replace(/-/g,"_"),s=i(ht)?"_blank":"";return t.films.map((function(r,a){var c=r.url&&"PROMOCODE"===r.type,l="",h=a+1+(t.startIndex||0),d=home.addQueryToUrl(r.url,{utm_source:"ya-main",utm_medium:"hd-online",utm_campaign:"organic",utm_content:n,utm_term:"desktop"});r.kpRating&&(l=i(ln,{mix:"kinopoisk__film-rating",rating:r.kpRating}));var u={};return r.coId&&(u[r.coId]=h),c&&(u.promocode=h),i(Ot,{href:d,target:s,role:"listitem",tabindex:"0",tag:d?"":"div",stat:e.stat.getAttr(o,null,{logShow:!1,customParams:u,precise:!0}),mix:"imageloader__card home-link_hover_inherit kinopoisk__film media-service__item media-play__container",content:i(bn,{rating:l,title:home.prepareSpaces(r.title),genre:r.genres||"",poster:home.getBEMParams({1:r.poster.replace("/orig","/150x225"),2:r.poster.replace("/orig","/300x450")}),bgColor:r.medianColor||"#dfdcd7",restrictionAge:r.ageLimit>=18?i(un,{restrictionAge:r.ageLimit,mods:{type:"poster"}}):""}),attrs:{"data-film-id":r.contentGroupUuid,"data-selection-id":String(t.id),"data-from-block":n,"data-from-position":h,"data-stat":"kinopoisk.link"}})})).join("")}function vn(t){return"<div class='media-service__panels kinopoisk__panels'>"+E.a.oneElem(t.panel)+"</div>"}function bn(t){return E.a.oneElem("<span class='kinopoisk__film-inner'>"+E.a.oneElem("<span class='kinopoisk__film-bg media-service__bg media-service__shadow'>"+(E.a.oneElem("<span "+w()({"class":"kinopoisk__film-image media-service__image imageloader__image","data-image":t.poster,style:"background-color:".concat(P(t.bgColor))})+"></span>")+E.a.oneElem(t.rating)+E.a.oneElem(t.restrictionAge))+"</span>")+"</span>")+E.a.oneElem("<div class='kinopoisk__film-content'>"+(E.a.oneElem("<span class='kinopoisk__film-title media-service__item-title'>"+E.a.oneElem(t.title)+"</span>")+E.a.oneElem("<span class='kinopoisk__film-genre'>"+E.a.oneElem(t.genre)+"</span>"))+"</div>")}function yn(){return"<div class='kinopoisk__film kinopoisk__film-loader'><div class='kinopoisk__film-loader-inner loader'></div></div>"}function wn(t,e,i){var n="games_"+home.rnd().substr(0,5),o=new Array(8).join(i(ae,{mix:home.getBEMClassname("games__tab",{mods:{dummy:"yes"}}),content:"&nbsp;",stat:""})),s=new Array(8).join(i(Pn,{}));return i(Xs,{block:"games",rootMod:home.getBEMClassname("games-loader",{mods:{state:"loading"}})+" i-bem media-grid__games",headerMods:{mods:{multyline:"yes"}},title:e.l10n("games.games"),titleAttrs:{tabindex:0},mods:{"has-carousel":"yes",tabs:"yes"},tabs:o,content:i(Bn,{panel:i(Ct,{block:"games",id:n,key:"dummy",mix:" media-service__panel",attrs:{"aria-labelledby":n+"_tab_dummy"},content:i(Cn,{mix:"games-loader__panel",id:"dummy",items:s})})}),attrs:{role:"complementary","aria-label":e.l10n("games.games"),"data-bem":home.getBEMParams({"games-loader":{url:t.url}})}})}function kn(t,e,i){var n,o;return t.rating?(n=parseFloat(t.rating).toFixed(1).replace(".",","),o=e.l10n("games.rating").replace("%s",t.rating),i(En,{mix:t.mix,value:n,label:o})):""}function En(t){return E.a.oneElem("<span "+w()({"class":"".concat(C("games-rating",t||{})," games-rating__icon"),"aria-hidden":"true"})+">"+E.a.oneElem(t.value)+"</span>")+E.a.oneElem("<span class='a11y-hidden'>"+E.a.oneElem(t.label)+"</span>")}function Mn(t,e,i){var n=home.getData("games.data");if(n)return i(wn,n)}function xn(t,e,i){var n,o="games_"+home.rnd().substr(0,5),s="//yandex."+e.MordaZone+"/games",r={};return t.tabs.forEach((function(t,e){var i=home.deepExtend({},t),n=e;i.key=n,r[n]=i})),r.tabs=t.tabs,n=r[0],e.csp&&!e.csp.stub&&e.csp.allowImg("https://avatars.mds.yandex.net/get-games"),i(Xs,{block:"games",rootMod:home.getBEMClassname("games",t)+" i-bem",mods:{"has-carousel":"yes",tabs:t.tabs.length>1?"yes":void 0},href:s,target:i(ht)?"_blank":"",title:i(Tn),titleAttrs:{tabindex:0},titleStat:e.stat.getClientCounter("games.title"),tabs:t.tabs.map((function(t,e){var n=0===e,s=e;return i(ae,{mods:{selected:n?"yes":"no"},mix:home.getBEMClassname("games__tab",{mods:{selected:n?"yes":"no"}}),content:t.ru,attrs:{tabindex:n?"0":"-1","aria-selected":n?"true":"false","aria-controls":n?o+"_panel_"+s:void 0,"data-key":s,"data-stat-select":"games.tab.select."+e,id:o+"_tab_"+s}})})).join(""),content:i(Bn,{panel:i(Ct,{block:"games",id:o,key:String(n.key),mix:" media-service__panel",attrs:{"aria-labelledby":o+"_tab_"+n.key},content:i(Cn,{id:n.key,items:n.games})})}),attrs:{role:"complementary","aria-label":e.l10n("games.games"),"data-bem":home.getBEMParams({games:{data:r,live:!1,uniqId:o}})}})}function Tn(t,e){return e.l10n("games.games")}function Cn(t,e,i){var n="";return"dummy"===t.id?n=t.items:t.items&&(n=i(Sn,t)),i(Ii,{mix:"games__list-wrapper media-service__list-wrapper imageloader",wrapMix:"games__wrap media-service__wrap imageloader__scroller",listMix:"games__list media-service__list",content:n,mods:{theme:"media"},js:{"arrowed-list":{counter:"games"},imageloader:{}}})}function Sn(t,e,i){var n=i(ht)?"_blank":"";return t.items.map((function(o,s){var r=o.coverUrlSet?{1:o.coverUrlSet["104x104"],2:o.coverUrlSet["208x208"]}:void 0;return i(Ot,{stat:e.stat.getClientCounter("games.item.tab_"+t.id+"."+s+"(id="+o.id+")"),href:o.url,target:n,mix:"games__item media-service__item media-service__shadow imageloader__card",mods:{hover:"inherit"},attrs:{role:"listitem"},content:i(In,{img:r?home.htmlFilter(JSON.stringify(r)):void 0,title:o.title,category:o.category[e.Locale]||o.category.ru,rating:i(kn,o)})})})).join("")}function Bn(t){return"<div class='media-service__panels games__panels'>"+E.a.oneElem(t.panel)+"</div>"}function In(t){return E.a.oneElem("<div class='games__item-header'>"+E.a.oneElem("<div "+w()({"class":"games__item-img media-service__image imageloader__image","data-image":t.img})+"></div>")+"</div>")+E.a.oneElem("<div class='games__item-content'>"+(E.a.oneElem("<div class='games__item-title'>"+E.a.oneElem(t.title)+"</div>")+E.a.oneElem("<div class='games__item-category'>"+E.a.oneElem(t.category)+"</div>")+E.a.oneElem("<div class='games__item-rating'>"+E.a.oneElem(t.rating)+"</div>"))+"</div>")}function Pn(){return"<div class='games__item games__item_dummy_yes media-service__shadow'><div class='games__item-header'></div><div class='games__item-content games__item-content_dummy'><div class='games__item-placeholder games__item-placeholder_title'></div><div class='games__item-placeholder'></div></div></div>"}function Dn(t,e,i){var n=i(ae,{content:"&nbsp;",stat:"",attrs:{hidden:!0}}),o=i($n,{panel:i(Ln,{id:"dummy"})});return i(Xs,{block:"autoru-inserts",rootMod:"autoru-inserts-loader i-bem media-grid__autoru-inserts",mods:{"has-carousel":"yes",tabs:"yes"},tabs:[n],title:".",content:o,attrs:{role:"complementary","aria-label":".","data-bem":home.getBEMParams({"autoru-inserts-loader":t})}})}function On(t){return"<span "+w()({"class":"rouble".concat(P(t.mod))})+"></span>"}function jn(t,e,i){var n="dummy"===t.id,o=t.items||[];return n?new Array(5).join(i(An,{mix:i(Hn)})):o.map((function(n,o){return i(Ot,{stat:e.stat.getClientCounter("autoru_inserts.item."+t.id,!1,{id:o}),href:i(Un,n),target:t.linkTarget||"",mix:"autoru-inserts-items__item autoru-inserts__item imageloader__card"+i(Hn),mods:{hover:"inherit"},attrs:{role:"listitem"},content:i(Rn,{img:home.getBEMParams({1:n.image.x1,2:n.image.x2}),imgMix:i(zn),title:home.htmlFilter(n.nameplate||""),price:home.htmlFilter(n.price||"")})})})).join("")}function Rn(t,e,i){return E.a.oneElem("<div "+w()({"class":"autoru-inserts-items__img imageloader__image ".concat(P(t.imgMix)),"data-image":t.img})+"></div>")+E.a.oneElem("<p class='autoru-inserts-items__content'>"+(E.a.oneElem("<span class='autoru-inserts-items__price'>"+E.a.oneElem(t.price)+" "+E.a.oneElem(i(On,t))+"</span>")+E.a.oneElem("<span class='autoru-inserts-items__title'>"+E.a.oneElem(t.title)+"</span>"))+"</p>")}function An(t){return"<div "+w()({"class":"autoru-inserts-items__item autoru-inserts-items__item_dummy autoru-inserts__item autoru-inserts__item_dummy ".concat(P(t.mix))})+"><div class='autoru-inserts-items__img'></div><div class='autoru-inserts-items__content autoru-inserts-items__content_dummy'><div class='autoru-inserts-items__placeholder'></div><div class='autoru-inserts-items__placeholder'></div></div></div>"}function Fn(t,e,i){var n=home.getData("autoru-inserts.data");if(n)return i(Dn,n)}function Nn(t,e,i){var n="autoru-inserts_"+home.rnd().substr(0,5),o=t.tabs[0];return i(Xs,{block:"autoru-inserts",rootMod:home.getBEMClassname("autoru-inserts",t)+" i-bem media-grid__autoru-inserts",mods:{"has-carousel":"yes",tabs:"yes"},href:t.main.url.desktop,target:i(ht)?"_blank":"",title:t.main.title,titleStat:e.stat.getClientCounter("autoru_inserts.title"),tabs:t.tabs.map((function(t,e){var o=0===e;return i(ae,{mods:{selected:o?"yes":"no"},mix:home.getBEMClassname("autoru-inserts__tab",{mods:{selected:o?"yes":"no"}}),content:t.title,attrs:{tabindex:o?"0":"-1","aria-selected":o?"true":"false","aria-controls":o?n+"_panel_"+t.type:void 0,"data-key":t.type,id:n+"_tab_"+t.type,"data-stat-select":"autoru_inserts.tab.select."+t.type}})})).join(""),content:i(Wn,{panel:i(Ct,{block:"autoru-inserts",mix:" media-service__panel",id:n,key:o.type,attrs:{"aria-labelledby":n+"_tab_"+o.type},content:i(Ln,{id:o.type,items:o.content,linkTarget:i(ht)?"_blank":""})})}),attrs:{role:"complementary","aria-label":t.main.title,"data-bem":home.getBEMParams({"autoru-inserts":{data:t.tabs.reduce((function(t,e){return t[e.type]=e,t}),{}),live:!1,uniqId:n}})}})}function Ln(t,e,i){var n="autoru-inserts";return i(Ii,{mix:n+"__list-wrapper media-service__list-wrapper imageloader",wrapMix:n+"__wrap media-service__wrap imageloader__scroller",listMix:n+"__list media-service__list",content:i(jn,t),mods:{theme:"media"},js:{"arrowed-list":{counter:"autoru_inserts"},imageloader:{}}})}function Un(t){return t.url.desktop}ci.prototype.sendCounts=function(t){var e,i,n,o,s,r=home.cls.full("rtb"),a=$("."+r),c=home.getData("rtb.counters");a&&a[0]&&c&&(e=c.shows,n=c.scriptMeasurers,o=c.mrcImpressions,s=c.winNotice,i=c.statPath,n&&ei(n,a[0],r),s&&BEM.blocks["i-showed-counter"].setCounter({useIntersection:!1,blockId:"banner.winNotice",showedTime:0,urls:s}),o&&BEM.blocks["i-showed-counter"].setCounter({elem:a[0],blockId:"banner.mrcImpressions",showedTime:1e3,urls:o}),e&&e.length&&this.sendShowCounters(e,a,t),a.on("click",(function(){i&&home.stat.logPath("click",i.replace(/\./g,"_"))})))},ci.prototype.sendShowCounters=function(t,e,i){var n,o;n=BEM.blocks["i-showed-counter"].setCounter({elem:e[0],blockId:"banner",urls:t,callback:function(){home.stat.logPath("show","rtb_vis.count"),e.off("mouseover",o)}}),o=function(){n(),e.off("click mouseover",o)},i||e.on("click mouseover",o)},ci.prototype.addImageContent=function(){var t=home.getData("rtb.settings"),e=t&&t.mordaType;if(t&&e){var i=home.cls.full("rtb");BEM.channel("adb").trigger("rendered",{id:e+".main.rtb.image",elem:$("."+i)[0]}),this.sendCounts(t.isMedia),t.href&&$("."+i).click((function(){home.openWindow(t.href)}))}},ci.prototype.loadIframeContent=function(){var t,e,i=home.getData("rtb.settings");if(i){var n=home.cls.full("rtb-iframe__content"),o=home.cls.full("rtb-iframe"),s=$("."+home.cls.full("rtb")).parent(),r=i.mordaType+".main.rtb.iframe",a=$('<iframe class="'+n+'" frameborder="no" scrolling="no" allowtransparency="true" hidefocus="true" tabindex="-1" marginwidth="0" marginheight="0" sandbox="allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-scripts allow-forms"></iframe>');if($("."+o).append(a),i.indexSrc?(a[0].onload=function(){var t;i.checkIsLoaded?(t=BEM.blocks["i-performance"].checkUrlLoaded(i.indexSrc))?home.stat.logPath("tech","tech.rtb_iframe_show"):home.stat.logPath("tech","tech.rtb_iframe_hide"):t=!0,t?(this.sendCounts(i.isMedia),i.expandedIndexSrc&&this.expand(i)):s.hide()}.bind(this),a[0].src=i.indexSrc):(r+=".aadb",t=i.html.replace("<head>",'<head><base href="'+i.basePath+'" target="_blank"></base>'),(e=a[0].contentDocument).open(),e.write(t),e.close(),this.sendCounts(i.isMedia)),i.resize){var c=function(t,e){var i,n,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,a=0,c=function(){a=!1===s.leading?0:(new Date).getTime(),r=null,o=t.apply(i,n),r||(i=n=null)};return function(){var l=(new Date).getTime();a||!1!==s.leading||(a=l);var h=e-(l-a);return i=this,n=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),a=l,o=t.apply(i,n),r||(i=n=null)):r||!1===s.trailing||(r=setTimeout(c,h)),o}}(li.bind(null,a,i),100);$(window).on("resize",c),c()}BEM.channel("adb").trigger("rendered",{id:r,elem:$("."+n)[0]})}},ci.prototype.sendPopupShowCounter=function(t){t.expandedTrackings&&!t.popupStatsSent&&(t.expandedTrackings.forEach((function(t){(new Image).src=t})),t.popupStatsSent=!0)},ci.prototype.expand=function(){},ci.prototype.expand=function(t){var e,i=$("."+home.cls.full("rtb-iframe"));i.append('<div class="rtb__expand_innerclick"></div>'),i.addClass("rtb__expand").append('<div class="rtb__expand_inner"></div>'),$(".rtb__expand_innerclick").click(function(){e||(e=$(b(hi,{mods:{autoclosable:"yes",theme:"normal","scrollbar-hider":"yes","banner-expand":"yes"},mix:"rtb__popup",zIndexGroupLevel:2,content:'<div class="rtb__popup-inner"></div>'+b(ui)})).appendTo("body").bem("modal")),this.sendPopupShowCounter(t),mi(e,t)}.bind(this))},$((function(){var t=new ci,e=home.getData("rtb.settings");e&&e.type&&("iframe"===e.type?t.loadIframeContent():"image"===e.type&&t.addImageContent())})),i("CaC8"),i("XF9F"),i("ZsAA"),i("OsvQ"),i("Ifw1"),i("BCHE"),i("GRKD"),function(){var t=window.Ya&&Ya.Rum;if(t&&t.enabled&&window.PerformanceObserver&&window.requestAnimationFrame){var e=s("timing.bannerMainImage");if(e){var i,n,o,r=!1,a=0;t.onReady((function(){var s=performance.timing;s&&(i=s.responseEnd-s.navigationStart),requestAnimationFrame((function(){t.isVisibilityChanged()||function(){var t,s=new PerformanceObserver((function(c){for(var h=c.getEntries(),d=0;d<h.length;d++){var u=h[d];if(e===u.name){var m=u.responseEnd;if(!m){if(!i)continue;r=!0,m=i+u.duration}(void 0===n||m<n)&&(n=m),(void 0===o||m>o)&&(o=m),++a,s.disconnect(),l("ok"),clearTimeout(t)}}}));try{s.observe({type:"resource",buffered:!0}),t=setTimeout((function(){try{s.disconnect(),l("tm")}catch(t){}}),15e3)}catch(c){}}()}))}))}}function l(e){t.sendCounter("690.2096.277",["ft="+t.normalize(n),"lt="+t.normalize(o),"er=1","fr="+a,"t="+e,r&&"u=1"])}}(),i("hkQl"),BEM.DOM.decl("widgets",{onSetMod:{js:function(){if(window.Widget&&(this.save=home.debounce(this.save.bind(this),50),this.history=[],this.historyAcceptedPosition=0,this.personalSettings=this.params.settings,this.initWapi(),this.channel("widget").on("commit",this.changeThis((function(t,e){this.commit(e)}))),this.channel("widget").on("tuned",this.changeThis((function(t,e){this.history.push(e)}))),this.bindToWin("beforeunload",(function(){if(this.history.length!==this.historyAcceptedPosition&&this.hasMod("drag"))return"\n"+Object(r.a)("informationsMessages.settingsNotSaved")+"\n"})),this.params.add&&(this.collectWidgetsOnPage(),this.addWidget(this.params.add)),this.processHistoryState(),home.getData("widgets.altEdit"))){var t=function(){var t=this.collectData();this.wsave(t,!1)}.bind(this);this.channel("widget").on("settingsSaved",t,this),this.bindToWin("widgetSettingsTuned",(function(e,i){"save"===i.state&&t()}))}}},_afterSetMod:function(){this.__base.apply(this,arguments),this.domElem.removeClass("i-bem widgets_js_inited")},initWapi:function(){var t=this.params,e=t.prototype,i={wauth:t.auth,layoutFixed:!0,addUrl:"/adddata/",formUrl:"/form.html?json=1",patternId:t.patternid,yu:t.yu,domain:t.domain,locale:t.locale,prototype:e,widgetStyle:t.widgetStyle,showPreferencesHandler:this.changeThis(this.showPrefs),gsid:this.params.gsid,version:t.version};e&&(i[e+"_prototype"]=e),t.geoid&&(i.geoid=Number(t.geoid)),Widget.Init(i)},showPrefs:function(t){this.findBlockOutside(t.$(),"widget").showPrefs()},collectWidgetsOnPage:function(){var t=Widget.Framework.all(),e={};t.forEach((function(t){t.params.is_default&&(e[t.classId]=!0)}),this),this.widgetsOnPage=e},getMoved:function(){var t={};return this.history.forEach((function(e){if("drag"===e.type&&e.from!==e.to){var i=e.id;t[i]?t[i].from===e.to?t[i]=null:t[i].to=e.to:t[i]={from:e.from,to:e.to}}}),this),t},collectData:function(t){var e=Widget.Framework.all(),i=this.getMoved(),n=e.map((function(t){return t.params.removed?{id:t.id,removed:!0}:(t.markChanged(t.id in i),{id:t.id,coord:t.params.position,usrCh:t.params.usrCh,settings:""})}),this);return this.personalSettings=$.extend(!0,{},this.personalSettings),delete this.personalSettings.newpattern,t&&(n=n.concat(t)),{save:JSON.stringify({psettings:this.personalSettings,widgets:n})}},save:function(){var t=this.collectData();this.wsave(t,!0)},revert:function(){try{this.historyAcceptedPosition=this.history.length,window.location.href="/?ncrnd="+Math.random()}catch(t){}},reset:function(){window.confirm(Object(r.a)("informationsMessages.beforeReset"))&&this.wsave({"delete":1})},wsave:function(t,e,i){$.ajax({url:"/wsave",data:$.extend(t,{wauth:this.params.auth||this.params.wpAuth,yu:this.params.yu,prototype:this.params.prototype}),traditional:!0,type:"post",dataType:"json",success:this.changeThis((function(t){if(i||(this.historyAcceptedPosition=this.history.length),"ok"===t.result)if(e)this.channel("catalog").trigger("saved");else{var n=window.location;setTimeout((function(){window.location="//"+n.host}),500)}}))})},updatePersonalSettings:function(t,e){null===e?delete this.personalSettings[t]:this.personalSettings[t]=e,this.wsave({save:JSON.stringify({psettings:this.personalSettings})},!0,!0)},addWidget:function(t){setTimeout(function(){var e=Widget.Framework.updateNo(t,"_topnews"===t?0:1),i=t+"-"+e,n={coord:this.getInsertPosition(),id:i,settings:"",usrCh:0},o=this.params.column10List||[];o.unshift(n);var s=this.collectData(o);this.wsave(s,!1)}.bind(this),50)},commit:function(){this.save()},processHistoryState:function(){var t=window.location.hash.match(/^#open=(.+)/);if(window.history&&history.replaceState?$(window).one("load",(function(){var t=home.parseUrl(location.toString(),{multi:!0});["add","sign","settings","from"].forEach((function(e){delete t.query[e]})),t.search="",history.replaceState(null,null,home.makeUrl(t))})):window.location.hash="m"+this.params.patternid,t&&t[1])for(var e=this.findBlocksInside("widget"),i=0;i<e.length;i++)if(0===e[i].getId().indexOf(t[1]))return void e[i].showPrefs()},getColumn:function(t,e){for(var i,n=-1,o=0;o<this.colParams.length;o++){var s=this.colParams[o],r=t<s.left?s.left-t:t>s.right?t-s.right:0,a=e<s.top?s.top-e:e>s.bottom?e-s.bottom:0,c=Math.max(r,a);(c<n||-1===n)&&(n=c,i=s)}return i},getColumnFromChild:function(t){for(var e=t.closest(".widgets__col"),i=0;i<this.colParams.length;i++){var n=this.colParams[i];if(n.elems.is(e))return n}},getColumnWidgets:function(t){return t.find(".widget:not(.widget_removed_yes):not(.widget_mode_hidden)").map((function(){var t=$(this),e=t.offset();return{elem:t,center:e.top+t.height()/2}})).toArray()},getAllColumnWidgets:function(t){return t.find(".widget:not(.widget_removed_yes)").map((function(){return{elem:$(this)}})).toArray()},getInsertPosition:function(){var t,e,i=-1;return[3,4,5].forEach((function(n){var o,s=this.elem("col","td",n).find(".widget:not(.widget_removed_yes):not(.widget_mode_hidden)").toArray(),r=s.length;o=s.reduce((function(t,e){return t+$(e).height()}),0),(-1===i||o<i)&&(i=o,t=n,e=r+1)}),this),t+":"+e},getWidgetById:function(t){return this.findBlockOn($("#wd-wrapper-"+t),"widget")},getWidgets:function(){if(!this.widgets){var t=this.elem("col");this.widgets=this.findBlocksInside(t,"widget")}return this.widgets},recalculateParams:function(t){return this.colParams=[1,2].map((function(e){var i=this.elem("col","td",e),n=i.offset();return n.index=e,n.elems=i,n.height=i.height(),n.bottom=n.top+n.height,n.width=i.width(),n.right=n.left+n.width,n.widgets=t?this.getAllColumnWidgets(i):this.getColumnWidgets(i),n}),this),this},recalculateWidgetCoords:function(){this.recalculateParams(!0),this.colParams.forEach((function(t,e){t.widgets.forEach((function(t,i){this.findBlockOn(t.elem,"widget").getInstance().params.position=e+1+":"+(i+1)}),this)}),this)}}),i("Fij0"),i("tJo/"),i("CoFk"),i("tijA"),i("ruje"),i("3b1C"),i("a52g"),BEM.DOM.decl({block:"etrains",modName:"client",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.init()}}},init:function(){var t=this.findBlockOutside("widget").getInstance(),e=this.params;if(t&&e.host){var i=e.host+"widgets/suburban/next_trains",n={locale:BEM.blocks["i-global"].param("locale")};["rasp_to","rasp_direction","rasp_from","minutes_forward","minutes_backward","n"].forEach((function(e){var i=t.getValue(e);i&&(n[e]=i)})),$.ajax({url:i,data:n,dataType:"jsonp",success:this.changeThis((function(e){this.draw(e),$(window).trigger({type:"widgetLoaded",id:t.id})})),error:this.changeThis((function(){this.clear(),$(window).trigger({type:"widgetLoaded",id:t.id})}))})}},draw:function(t){var e,i;if(t){var n=!0,o=this.params.counterType;t.routes_forward.length||(n=!1),e=b(fi,{from:t.from.name,to:t.to.name,today:t.routes_forward,host:this.params.host,direction:n,counterType:o}),i=b(fi,{from:t.to.name,to:t.from.name,today:t.routes_backward,host:this.params.host,direction:!n,counterType:o}),e||i||(e=i="")}else e=i="";this.elem("tracks").append(e,i),home.stat.logDOMShow(this.domElem)},clear:function(){this.elem("tracks").empty()}}),i("cTAP"),i("lazP"),i("TkuS"),i("6Hjr"),BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},opened:{yes:function(){this.__base.apply(this),this.domElem.attr("aria-expanded","true"),home.stat.logPath("click",this.params.from+".notifier.popup.show")},"":function(){this.__base.apply(this),this.domElem.attr("aria-expanded","false"),home.stat.logPath("resize",this.params.from+".notifier.popup.close")}}},_fetchCounter:function(){if(this.__self._fetchPromise)return this.__self._fetchPromise.then(this.onUpdateCounter.bind(this));var t=this.__base.apply(this,arguments);return this.__self._fetchPromise=t,t},onFetchCounterError:function(t){if(!t||429!==t.status){var e=t&&t.responseJSON&&t.responseJSON.error;"DataNotFoundError"!==e&&home.error.logError({block:"notifier",method:"_fetchCounter",message:"Cannot load counter: "+(e||t&&t.status||"unknown"),sourceType:"network"})}},onUpdateCounter:function(t){return void 0!==t&&(this.__base.apply(this,arguments),t?this.domElem.attr("aria-label",Object(r.a)("notifications.unread_full").replace("%count",t).replace("%word",home.decline(t,Object(r.a)("notifications.unread_word")))):this.domElem.attr("aria-label",Object(r.a)("notifications.no_unread"))),t},onFetchCounterSuccess:function(t){this.__base.apply(this,arguments),0===t.counter&&this.domElem.attr("aria-label",Object(r.a)("notifications.no_unread"))}},{hide:function(){$(".notifier").each((function(){var t=$(this);if(t.hasClass("notifier_js_inited")){var e=t.bem("notifier");e&&e.getPopup().delMod("visible")}}))}}),i("hTyO"),i("ydIG"),i("qWmC"),i("aJtm"),i("imma");var Hn=F((function(){return" media-service__item media-service__bg media-service__shadow"})),zn=F((function(){return" media-service__image"}));function Wn(t){return"<div class='media-service__panels autoru-inserts__panels'>"+E.a.oneElem(t.panel)+"</div>"}function $n(t){return"<div class='media-service__panels autoru-inserts__panels'>"+E.a.oneElem("<div class='autoru-inserts__panel media-service__panel'>"+E.a.oneElem(t.panel)+"</div>")+"</div>"}function Vn(t,e,i){var n=t.event||{},o=Boolean(t.dummy),s=(t.mix||"")+" afisha-event-film",r={imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}};return o?(s+=" afisha-event-film_dummy",r.content=i(z,{mod:"afisha-event-film__dummy-text"})):(r.imageAttrs["data-image"]||(r.imageMix+=" afisha-event-film__image_empty_yes",r.imageMix+=" afisha-event-film__image_empty-type_"+Math.floor(5*Math.random())),r.content=i(z,{mod:"afisha-event-film__title",content:home.prepareSpaces(n.full||n.name)})+i(z,{mod:"afisha-event-film__genre",content:n.genre||""})),n.release&&(n.premiere_badge=e.l10n("afisha.premiere")),r.premiere=i(Kn,n),i(Ot,{href:t.href,mix:s,stat:t.stat,content:i(qn,r),target:i(ht)?"_blank":""})}function qn(t){return E.a.oneElem("<span class='afisha-event-film__image-wrapper'>"+(E.a.oneElem("<span "+w()(Object.assign({"class":"afisha-event-film__image ".concat(P(t.imageMix))},t.imageAttrs))+"></span>")+E.a.oneElem(t.premiere))+"</span>")+E.a.oneElem("<span class='afisha-event-film__content'>"+E.a.oneElem(t.content)+"</span>")}function Kn(t,e,i){return t.premiere_badge?i(z,{mod:"afisha-event-film__premiere",content:home.capitalize(e.l10n("afisha.premiere").toLowerCase())}):""}function Yn(){return"<span class='afisha-event-show__dummy-text'></span>"}function Gn(t,e,i){var n=t.event||{},o=Boolean(t.dummy),s=(t.mix||"")+" afisha-event-show",r={innerMix:t.innerMix||"",imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}};if(n.place||(n.place=e.l10n("afisha.multiple_locations")),n.title&&n.description&&n.place&&(s+=" afisha-event-show_content_full"),n.price){var a={rub:i(On,{}),kzt:"",byn:".."}[n.currency_code];if(a){var c=n.price/100;r.price=i(z,{mod:"afisha-event-show__price",content:e.l10n("afisha.from").replace("%s",c+" "+a)})}else home.error.logError({block:"afisha-event-show",message:"Unknown currency: "+n.currency_code})}return o?(s+=" afisha-event-show_dummy",r.content=i(Yn)):(!r.imageAttrs["data-image"]&&n.type&&(r.imageMix+="afisha-event-show__image_empty_"+n.type+"_"+Math.floor(4*Math.random())),r.dates=Array.isArray(n.dates)&&n.dates.length?i(Zn,{dates:n.dates}):"",r.content=i(Xn,n)),i(Ot,{mix:s,href:t.href,stat:t.stat,content:i(Jn,r),target:i(ht)?"_blank":""})}function Zn(t,e,i){var n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],o=t.dates,s=[],r=[];function a(t){var e=new Date(t);isNaN(e.valueOf())||(s.push(e.getMonth()),r.push(e.getDate()))}return a(o[0]),o[0].split("-")[1]===o[o.length-1].split("-")[1]?(a(o[1]),s.length=1):(a(o[o.length-1]),r.length=0),i(z,{mod:"afisha-event-show__date afisha-event-show__date_days_"+r.length,content:(r.length?i(z,{mod:"afisha-event-show__day",content:r.join(", ")}):"")+s.map((function(t){return i(z,{mod:"afisha-event-show__month",content:e.l10n("months_short_genetive."+n[t])})})).join("")})}function Xn(t,e,i){return["title","description","place"].reduce((function(e,n){return t[n]&&(e+=i(z,{mod:"afisha-event-show__"+n,content:t[n]})),e}),"")}function Jn(t){return"<span "+w()({"class":"afisha-event-show__inner ".concat(P(t.innerMix))})+">"+(E.a.oneElem("<span "+w()(Object.assign({"class":"afisha-event-show__image ".concat(P(t.imageMix))},t.imageAttrs))+"></span>")+E.a.oneElem(t.price)+E.a.oneElem("<span class='afisha-event-show__content'>"+(E.a.oneElem("<span class='afisha-event-show__text'>"+E.a.oneElem(t.content)+"</span>")+E.a.oneElem(t.dates))+"</span>"))+"</span>"}function Qn(t,e,i){var n=home.getData("afisha-inserts.data");if(n)return i(to,n)}function to(t,e,i){var n=t.retryButtonTheme,o=e.zenInsert,s=t.afisha.events,r=i(io,{tabs:t.afisha.tabs,defaultTab:"cinema"}),a="afisha-inserts_"+home.rnd().substr(0,5);return t.mods=t.mods||{},i(Xs,{block:"afisha-inserts",layoutName:"afisha_inserts",rootMod:home.getBEMClassname("afisha-inserts",t)+" i-bem media-grid__afisha-inserts",mods:{"has-carousel":"yes",tabs:r.length>1?"yes":void 0},href:t.href,target:i(ht)?"_blank":"",title:i(eo),titleStat:e.stat.getClientCounter("afisha_inserts.title"),tabs:r.join("")||" ",content:i(ro,{panelId:a+"_panels",panel:i(Ct,{block:"afisha-inserts",id:a,key:"cinema",mix:" media-service__panel",attrs:{"aria-labelledby":a+"_tab_cinema"},content:i(no,{key:"cinema",events:s})})}),attrs:{role:"complementary","aria-label":e.l10n("a11y.afisha"),"data-bem":home.getBEMParams({"afisha-inserts":{selectedKey:"cinema",retryButtonTheme:n,live:!o,uniqId:a,geoId:t.geoId,locale:t.locale}})}})}function eo(t,e){return e.l10n("afisha.title")}function io(t,e,i){var n=[],o=t.tabs||[];return o.length>0&&(o=[{id:"cinema"}].concat(o)),o.forEach((function(o){var s=o.id===t.defaultTab,r=o.title||e.l10n("afisha."+o.id);n.push(i(ae,{mods:{selected:s?"yes":"no"},mix:home.getBEMClassname("afisha-inserts__tab",{mods:{selected:s?"yes":"no"}}),content:r,attrs:{tabindex:s?0:-1,"aria-selected":s?"true":"false","aria-controls":s?"afisha-inserts_panel_"+o.id:void 0,"data-key":o.id,id:"afisha-inserts_tab_"+o.id,"data-stat-select":"afisha_inserts.tab.select."+o.id}}))})),n}function no(t,e,i){var n,o="afisha_inserts.link.cinema."+("cinema"===t.key?"all":"fav");return t.events&&t.events.length?(n=t.events.map((function(t){var n,s;return(n=t.posters&&Object.keys(t.posters).length)&&(s=t.posters.base?{1:t.posters.base+"/120x180",2:t.posters.base+"/240x360"}:t.posters.raw?t.posters.raw:{1:t.posters["120x180"],2:t.posters["240x360"]}),t.genre=(t.genre||"").toLowerCase(),i(Vn,{href:t.href,mix:"afisha-inserts__event afisha-inserts__event_type_film media-service__item home-link_hover_inherit imageloader__card",imageMix:"media-service__shadow media-service__image imageloader__image",imageAttrs:{"data-image":n?home.htmlFilter("string"==typeof s?s:JSON.stringify(s)):void 0},stat:e.stat.getClientCounter(o),event:t})})).join(""),i(oo,{content:n,js:{counter:"afisha_inserts"}})):(n=e.l10n("afisha.cinemaNoSessions"),t.cinema&&t.cinema.href&&(n+=i(Yi,{mix:"afisha-inserts__no-films-link",mods:{theme:"normal",size:"s"},content:e.l10n("afisha.cinemaSeeNextDay"),url:home.addQueryToUrl(t.cinema.href,{"schedule-preset":"tomorrow"}),stat:e.stat.getClientCounter("afisha_inserts.no_timetable")})),i(ao,{content:n}))}function oo(t,e,i){var n="afisha-inserts";return i(Ii,{enableScrollHider:!0,mix:n+"__list-wrapper media-service__list-wrapper",wrapMix:n+"__wrap media-service__wrap imageloader__scroller",listMix:n+"__list media-service__list",content:t.content,mods:{theme:"media","arrow-position":"weighted"},js:{"arrowed-list":t.js,imageloader:{}}})}function so(t,e,i){var n,o="afisha_inserts.link."+t.key+".all";return t.events&&t.events.length?(e.stat.logShow(o),n=t.events.map((function(n){var s;return n.image_url&&(s=n.image_url.raw?n.image_url.raw:{1:n.image_url+"/s280x136",2:n.image_url+"/s560x272"}),n.type=t.key,i(Gn,{href:n.url,mix:"afisha-inserts__event afisha-inserts__event_type_show media-service__item home-link_hover_inherit imageloader__card",innerMix:"media-service__shadow",imageMix:"media-service__image imageloader__image",imageAttrs:{"data-image":s?home.htmlFilter("string"==typeof s?s:JSON.stringify(s)):void 0},stat:e.stat.getAttr(o,null,{logShow:!1}),event:n})})).join(""),i(oo,{content:n,js:{counter:"afisha_inserts"}})):(n=e.l10n("afisha.sorry"),i(ao,{content:n}))}function ro(t){return"<div "+w()({"class":"media-service__panels afisha-inserts__panels",id:t.panelId})+">"+E.a.oneElem(t.panel)+"</div>"}function ao(t){return"<div class='afisha-inserts__panel-empty'>"+E.a.oneElem("<div class='afisha-inserts__panel-empty-center'>"+E.a.oneElem(t.content)+"</div>")+"</div>"}var co=F((function(t){return!(t.DefskinArg||t.Skin)}));function lo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ho(t,e){var i=e.RtbInserts;if(!function(t){return Boolean(t&&"0"!==(e=t.show)&&Boolean(e));var e}(i))return!1;var n=t.blockName;if("rtb-inserts"===n||i.blocks[n]&&n.match(/rtb-inserts[2-4]$/))return!0;Object(o.a)({block:"rtb-inserts",message:"Incorrect block: "+n+". Blocks must be in the format rtb-inserts[2-4].",meta:{data:JSON.stringify(t)}})}function uo(t,e,i){var n=i(ko,t);return i(fo,i(_o,n))}function mo(t,e,i){var n=i(ko,t);e.settingsJs.add("data",i(_o,n),i(wo,n.block))}function po(t,e,i){var n=i(ko,t).block,o=i(wo,n),s=home.getData("".concat(o,".data")),r=$.extend({},s.clientData,{live:e.zenInsert});return i(fo,$.extend({},s,{clientData:r,block:n}))}function fo(t,e,i){if(t){if(t.clientData){var n=e.cls.full("rtb-inserts"),o=e.cls.full("rtb-inserts_dummy"),s=e.cls.full("rtb-inserts_type_native"),r=t.clientData&&t.clientData.nativeExp,a=i(wo,t.block);window.home[a]={params:t.clientData,block:t.block};var c=[n,o,"i-bem",r?s:"",a];return i(U,{content:"."+o+"{height:"+t.height+"px;}"})+i(H,{mix:c.join(" "),attrs:{id:n,"data-bem":x(lo({},n,lo({},a,{})))}})}home.error({block:t.block,method:"rtb-inserts__client-view",message:"Missing client data"})}}function _o(t,e,i){if(t.height&&t.imp_id){i("pcode-csp");var n=e.options&&e.options.pcodever,o=home.flags.get(e,"pcodever",n),s=home.flags.checkBool(e,"zen_context_new"),r=home.flags.checkBool(e,"rtb_inserts_native"),a=[];return i(co)&&a.push("rtb-inserts__bg"),{clientData:{nonce:e.CSP&&e.CSP.nonce,blockId:t.imp_id,additionalClasses:a,pcodever:o,contextUrl:s?"https://yastatic.net/partner-code-bundles/"+o+"/loaders/context.js":"https://an.yandex.ru/system/context.js",shouldGetAdvManagerFromZenLib:Boolean(i(lr)),nativeExp:r,isTablet:Boolean(i("ua__is-tablet"))},height:t.height,block:t.block}}}function go(t,e){return e.l10n("chats.title_channels")}function vo(t){return t.map((function(t){return{name:t.block,title:go,check:ho,serverRender:uo,clientData:mo,clientRender:po}}))}var bo=F((function(t,e){return e(vo,s("rtb-inserts.blocks",[]))})),yo=F((function(t){return{rtb_inserts:t.cls.full("rtb-inserts_place_1"),rtb_inserts2:t.cls.full("rtb-inserts_place_2"),rtb_inserts3:t.cls.full("rtb-inserts_place_3"),rtb_inserts4:t.cls.full("rtb-inserts_place_4"),"rtb-inserts":t.cls.full("rtb-inserts_place_1"),"rtb-inserts2":t.cls.full("rtb-inserts_place_2"),"rtb-inserts3":t.cls.full("rtb-inserts_place_3"),"rtb-inserts4":t.cls.full("rtb-inserts_place_4")}}));function wo(t,e,i){return i(yo)[t]}function ko(t,e){var i=e.RtbInserts;return i&&i.blocks?i.blocks[t.blockName]:Object.assign({block:t.blockName},i)}function Eo(t,e,i){var n=t.mods||{},o=t.mix||"",s=i(Mo,{title:t.title,text:t.text.replace("<br>"," <br>"),innerMix:t.innerMix||"",imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}});return n.black="yes",i(Ot,{href:t.href,stat:t.stat||"",mods:n,mix:"tutor-card "+o,content:s})}function Mo(t){return"<span "+w()({"class":"tutor-card__inner ".concat(P(t.innerMix))})+">"+(E.a.oneElem("<span class='tutor-card__image-wrapper'>"+E.a.oneElem("<span "+w()(Object.assign({"class":"tutor-card__image ".concat(P(t.imageMix))},t.imageAttrs))+"></span>")+"</span>")+E.a.oneElem("<span class='tutor-card__content'>"+(E.a.oneElem("<span class='tutor-card__title i-multiline-overflow'>"+E.a.oneElem(t.title)+"</span>")+E.a.oneElem("<span class='tutor-card__text i-multiline-overflow'>"+E.a.oneElem(t.text)+"</span>"))+"</span>"))+"</span>"}function xo(t,e,i){var n=home.getData("tutor.data");return n&&i(To,n)}function To(t,e,i){var n=e.zenInsert,o=t.tabs.map((function(t,e){return i(Ct,{block:"tutor",id:"tutor",key:e,mix:" media-service__panel",content:i(Co,{key:e,cards:t.cards}),attrs:{style:0===e?"":"display: none;","aria-labelledby":"tutor_tab_"+e}})})).join("");return i(Xs,{block:"tutor",rootMod:"tutor media-grid__tutor i-bem",href:t.href,title:t.title,titleStat:e.stat.getClientCounter("tutor.title"),mods:{"has-carousel":"yes",tabs:t.tabs.length>1?"yes":void 0},tabs:i(So,{tabs:t.tabs,defaultTab:0}),content:i(Bo,{panels:o}),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({tutor:{live:!n,uniqId:"tutor",selectedKey:0}})}})}function Co(t,e,i){var n=(t.cards||[]).map((function(t,n){var o=t.icons||[];return i(Eo,{title:t.title,text:t.text,href:t.url,mix:"tutor__card media-service__item imageloader__card",innerMix:"media-service__shadow",mods:{hover:"inherit"},stat:e.stat.getClientCounter("tutor.link."+n),imageMix:"media-service__image imageloader__image",imageAttrs:{"data-image":home.getBEMParams({1:o[0],2:o[2]})}})})).join("");return i(Ii,{mix:"tutor__list-wrapper media-service__list-wrapper imageloader",wrapMix:"tutor__wrap media-service__wrap imageloader__scroller",listMix:"tutor__list media-service__list",mods:{theme:"media"},js:{"arrowed-list":{counter:"tutor"},imageloader:{}},content:n})}function So(t,e,i){return(t.tabs||[]).map((function(e,n){var o=n===t.defaultTab;return i(ae,{mix:home.getBEMClassname("tutor__tab",{mods:{selected:o?"yes":"no"}}),mods:{selected:o?"yes":"no"},content:e.title,attrs:{tabindex:o?"0":"-1","aria-selected":o?"true":"false","aria-controls":o?"tutor_panel_"+n:void 0,"data-key":n,id:"tutor_tab_"+n,"data-stat-select":"tutor.tab.select."+n}})})).join("")}function Bo(t){return"<div class='media-service__panels tutor__panels'>"+E.a.oneElem(t.panels)+"</div>"}function Io(t,e,i){var n=home.getData("banner-inserts.data");if(n)return i(Po,n)}function Po(t,e,i){var n=t.borderColor,o=t.href,s=t.isInsert,r=t.stat,a=i(Oo,{url:t.image,attrs:{style:"border-color: "+n}})+i(jo,{showUrl:t.showUrl});return a=i(Ot,{mix:"banner-inserts__link",href:o,content:a,stat:r,target:"_blank"}),i(Do,{rootMod:"imageloader imageloader_scroll_no i-bem",content:a,attrs:{"data-bem":home.getBEMParams({imageloader:{},"banner-inserts":{live:!s}})}})}function Do(t){return"<div "+w()(Object.assign({"class":"banner-inserts ".concat(P(t.rootMod))},t.attrs))+">"+E.a.oneElem(t.content)+"</div>"}function Oo(t){return"<div "+w()(Object.assign({"class":"banner-inserts__image imageloader__image imageloader__image_loaded_no","data-image":t.url},t.attrs))+"></div>"}function jo(t){return"<img "+w()({src:t.showUrl,"aria-hidden":"true",style:"display: none;"})+">"}function Ro(t){if(!t)return"";var e="";for(var i in t)if(t.hasOwnProperty(i)){if(!t[i]&&0!==t[i])continue;e&&(e+=";"),e+=i+":"+String(t[i])}return e}function Ao(t){return"<div class='dummy-cards'>"+E.a.oneElem(t.content)+"</div>"}function Fo(t,e,i){var n=i(No),o=0;function s(t){return(t/13).toFixed(4)+"em"}for(var r=[];o<n.targetWidth;)r.push(i(H,{mix:"dummy-cards__card",attrs:{style:Ro({width:s(t.width),height:s(t.height||n.defaultHeight),"margin-right":s(n.space)})}})),o+=t.width;return i(Ao,{content:r.join("")})}var No=F((function(){return{targetWidth:700,space:4,defaultHeight:180}}));function Lo(t,e,i){return new Array(2).join(i(ae,{mods:{dummy:"yes"},content:"&nbsp;"}))}function Uo(t,e,i){t.layoutName||home.error("divjson-block: layoutName is required!");var n=t.layoutName,o=home.getData("media-grid.blocks"),s=o&&o[n]&&o[n]||{};return i(Xs,{block:"divjson-block",layout:s.layout,rootMod:"divjson-block i-bem mix-tabber_theme_media"+(t.test?" divjson-block_test_yes":""),mods:{"has-carousel":"yes",tabs:t.tabs?"yes":void 0},title:t.title,titleIcon:i(tr,s),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({"divjson-block":{showUrl:t.showUrl,api:t.api,layoutName:t.layoutName}}),style:t.blockHeight?"height:"+t.blockHeight+"px":""},tabs:t.tabs?i(H,{mix:"divjson-block__dummy-tabs",content:i(Lo)}):"",content:i(Fo,{width:t.cardWidth,height:t.cardHeight})})}function Ho(t,e,i){var n=home.getData("divjson-block."+t.layoutName);if(n)return i(Uo,n)}var zo={black:"black",blue:"blue",cyan:"cyan",gray:"#888888",green:"#00ff00",magenta:"magenta",red:"red",transparent:"transparent",white:"white",yellow:"yellow"};function Wo(t){var e;return(t=(t||"").toLowerCase())in zo?zo[t]:"#"!==t.charAt(0)?"transparent":9===t.length?(e=[t.substr(1,2),t.substr(3,2),t.substr(5,2),t.substr(7,2)],"rgba("+String(parseInt(e[1],16))+","+String(parseInt(e[2],16))+","+String(parseInt(e[3],16))+","+(parseInt(e[0],16)/255).toFixed(2)+")"):5===t.length?(e=[t.charAt(1)+t.charAt(1),t.charAt(2)+t.charAt(2),t.charAt(3)+t.charAt(3),t.charAt(4)+t.charAt(4)],"rgba("+String(parseInt(e[1],16))+","+String(parseInt(e[2],16))+","+String(parseInt(e[3],16))+","+(parseInt(e[0],16)/255).toFixed(2)+")"):7===t.length||4===t.length?t:"transparent"}function $o(t){return t?t.replace(/<font color="(#[\da-f]{8})">/i,(function(){return"<font>"})).replace(//g,'<span class="rouble"></span>'):""}function Vo(t){return(Number(t)/20).toFixed(4)+"em"}function qo(t,e,i,n){var o=n.json;i.stack||(i.stack=[]),i.stack.push({type:o.type,hasAction:Boolean(o.action||o.actions&&o.actions.length)});var s=t(e,Object(Pt.a)({block:i.block,stack:i.stack},n));return i.stack.pop(),s}function Ko(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={layoutName:t.layoutName,titleIcon:t.titleIcon,templates:t.templates,context:t.context,stack:t.stack,hasParentAction:t.hasParentAction,hasCurrentAction:t.hasCurrentAction,inGallery:t.inGallery,inPreciseGallery:t.inPreciseGallery};for(var o in i&&(n.containerStyle=t.containerStyle,n.containerMix=t.containerMix),e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function Yo(t,e,i,n){i.stack||(i.stack=[]),i.stack.push(e);var o=Ko(i,n,!0);o.hasCurrentAction&&(o.hasParentAction=!0,o.hasCurrentAction=!1);var s=i.json;s&&(s.action||s.actions&&s.actions.length)&&(o.hasCurrentAction=!0);var r=t(e,o);return i.stack.pop(),r}function Go(t,e,i){var n=t.json;if(Array.isArray(n.items)&&n.items.length){var o=t.style||{},s=n.id||"divjson2-tabs-"+home.rnd().substr(0,5),r=i(Xo,n),a=i(Jo,{id:s,json:n}),c=i(ns)&&t.stack.some((function(t){return t===Ns}));return i(Ps,Ko(t,{id:s,js:c?null:{"divjson2-tabs":{uniqId:s,baseData:{layoutName:t.layoutName,stack:t.stack,context:{}},data:Object.keys(n.items).reduce((function(t,e,i){return i!==r&&(t[e]=n.items[e].div),t}),{}),swipe:i(ts,{json:n})}},json:n,style:o,mix:home.getBEMClassname("divjson2-tabs",{mods:{},mix:i(Qo,t)}),content:a+i(es,{json:n,tabs:c?"":i(H,{mix:"divjson2-tabs__tabs",content:i(Zo,{json:n,id:s,layoutName:t.layoutName})}),panels:i(Ct,{block:"divjson2-tabs",id:s,key:String(r),attrs:{"aria-labelledby":s+"_tab_"+String(r)},content:i(Cs,Ko(t,{json:n.items[r].div},!0))})})},!0))}i(Ds,{block:"divjson2-block",message:"Missing divjson2-tabs items",level:"warn",source:t.layoutName})}function Zo(t,e,i){var n=t.json,o=t.id,s=i(Xo,n),r=i(is);return n.items.map((function(e,n){var a,c=n===s;r&&(a=e.title_click_action);var l=a&&a.log_id?a.log_id.replace(/\//g,"."):n;return i(ae,{href:a?a.url:void 0,mods:{selected:c?"yes":"no"},mix:home.getBEMClassname("divjson2-tabs__tab",{mods:{selected:c?"yes":"no"}}),content:home.htmlFilter(e.title),attrs:{tabindex:c?"0":"-1","aria-selected":c?"true":"false","aria-controls":c?o+"_panel_"+n:void 0,"data-key":n,"data-stat-link":a?t.layoutName+".tab.link."+l:void 0,"data-stat-select":t.layoutName+".tab.select."+l,id:o+"_tab_"+n}})})).join("")}function Xo(t){var e=Number(t.selected_tab)||0;return e>=t.items.length&&(e=t.items.length-1),e<0&&(e=0),e}function Jo(){return""}function Qo(){return""}function ts(){return 0}function es(t){return E.a.oneElem(t.tabs)+E.a.oneElem("<div class='divjson2-tabs__panels'>"+E.a.oneElem(t.panels)+"</div>")}function is(){return!1}function ns(){return!0}function os(t,e,i){if(1===t.length&&"solid"===t[0].type)return i(ss,{color:t[0].color,isUniqueBg:!0});var n=t.map((function(t){var e;return"solid"===t.type?e=ss:"gradient"===t.type?e=rs:"image"===t.type&&(e=as),i(e,t)})).reverse().reduce((function(t,e){return t.image.push(e.image),t.size.push(e.size||"auto"),t.pos.push(e.pos||"50% 50%"),t}),{image:[],size:[],pos:[]});return{image:n.image.join(","),size:n.size.join(","),pos:n.pos.join(",")}}function ss(t){var e=Wo(t.color||"transparent");return t.isUniqueBg?{color:e,size:"auto",pos:"50% 50%"}:{image:"linear-gradient(to bottom,"+e+","+e+")"}}function rs(t){return{image:"linear-gradient("+(90-Number(t.angle))+"deg,"+t.colors.map((function(t){return Wo(t)})).join(",")+")"}}function as(t,e,i){return{size:i(cs,t),pos:i(ls,t),image:'url("'+home.htmlFilter(t.image_url)+'")'}}function cs(t){return"fill"!==t.scale&&t.scale?"fit"===t.scale?"contain":void 0:"cover"}function ls(t){return("left"===t.content_alignment_horizontal?"0%":"right"===t.content_alignment_horizontal?"100%":"50%")+" "+("top"===t.content_alignment_vertical?"0%":"bottom"===t.content_alignment_vertical?"100%":"50%")}function hs(t,e,i){var n=t.json;if(Array.isArray(n.items)&&n.items.length){var o=t.style||{},s={};s.valign=home.htmlFilter(n.content_alignment_vertical||"top"),s.halign=home.htmlFilter(n.content_alignment_horizontal||"left");var r="vertical";"horizontal"!==n.orientation&&"overlap"!==n.orientation||(r=n.orientation),s.orientation=r;var a=n.items.map((function(e){var n=e,o=t.templates,s=t.context,r=i(Ss,{json:n,templates:o,context:s,layoutName:t.layoutName});return{item:n=r.json,context:s=r.context}})),c=a.map((function(e){return i(Cs,Ko(t,{context:e.context,json:e.item}))})).join("");if(c){if("overlap"!==r){var l="vertical"===r?"height":"width",h=a.map((function(t){if(t.item[l]){if("match_parent"===t.item[l].type)return(Number(t.item[l].weight)||1)+"fr"}else if("width"===l)return"1fr";return"auto"})).join(" ");o["vertical"===r?"grid-template-rows":"grid-template-columns"]=h;var d=!1,u=!1;a.forEach((function(t){!t.item.width||"wrap_content"!==t.item.width.type&&"fixed"!==t.item.width.type||(d=!0),t.item.height&&"wrap_content"!==t.item.height.type&&"fixed"!==t.item.height.type||(u=!0)})),s["has-width-content"]=d?"yes":void 0,s["has-height-content"]=u?"yes":void 0}return i(Ps,Ko(t,{json:n,style:o,mix:home.getBEMClassname("divjson2-container",{mods:s}),content:c},!0))}}else i(Ds,{block:"divjson2-block",message:"Missing divjson2-container items",level:"warn",source:t.layoutName})}function ds(t,e,i){var n=t.json;if(n.image_url||n.gif_url){var o=t.inGallery,s=t.style||{};return s["background-color"]=Wo(n.placeholder_color||"#14000000"),s["background-size"]=i(cs,n),s["background-position"]=i(ls,n),n.preview&&("data:"===n.preview.substr(0,5)?s["background-image"]='url("'+n.preview+'")':s["background-image"]='url("data:image/jpg;base64,'+n.preview+'")'),i(Ps,Ko(t,o?{json:n,mix:"divjson2-image",content:i(H,{mix:"divjson2-image__image imageloader__image",attrs:{"data-image":n.image_url||n.gif_url,style:Ro(s)}})}:{json:n,mix:"divjson2-image",js:{"divjson2-image":{image:n.image_url||n.gif_url}},content:i(H,{mix:"divjson2-image__image",attrs:{style:Ro(s)}})},!0))}i(Ds,{block:"divjson2-block",message:"Missing divjson2-image url",level:"warn",source:t.layoutName,meta:{type:n.type}})}function us(t,e,i){return i(Di,{wrapMix:"divjson2-gallery__scroller imageloader__scroller",listMix:"media-service__list divjson2-gallery__items",content:t.items,attrs:t.attrs})}function ms(t){return"weighted"===t.json.arrow_position?" arrowed-list_arrow-position_weighted":""}function ps(){return""}var fs=F((function(){return 16}));function _s(t,e,i){return"<div "+w()({"class":"divjson2-gallery__inner media-service__list-wrapper arrowed-list arrowed-list_theme_media i-bem ".concat(P(t.mix)).concat(i(ms,t)),"data-bem":"{&quot;imageloader&quot;:{},&quot;arrowed-list&quot;:{&quot;counter&quot;:&quot;".concat(P(t.layoutName),"&quot;}}")})+">"+E.a.oneElem("<div class='scroller__hider divjson2-gallery__wrapper'>"+E.a.oneElem(t.content)+"</div>")+"</div>"}function gs(t,e,i){var n=t.json;if(Array.isArray(n.items)&&n.items.length){t.inGallery=!0,t.json&&t.json.precise_logging&&(t.inPreciseGallery=!0);var o=n.items.map((function(e){return i(Cs,Ko(t,{json:e,containerMix:"divjson2-gallery__item imageloader__column imageloader__card"}))})).join("");if(o){var s=t.style||{},r={};r.align=home.htmlFilter(n.cross_content_alignment||"start"),r["height-ref"]=n.height&&"wrap_content"!==n.height.type?"parent":"content","paging"===n.scroll_mode&&(r["scroll-mode"]="paging");var a=n.items.map((function(){return"auto"})).join(" ");return s["grid-template-columns"]=a,s["grid-gap"]=Vo(n.item_spacing||i(fs)),n.paddings&&(s.padding=i(ps,n)||void 0),i(Ps,Ko(t,{json:n,skipHorizontalPadding:!0,mix:home.getBEMClassname("divjson2-gallery",{mods:r}),js:i(vs,{layoutName:t.layoutName}),content:i(_s,{json:n,mix:home.getBEMClassname("imageloader",{mods:{different:"yes",tracking:n.precise_logging?"yes":""}}),layoutName:t.layoutName,content:i(us,{attrs:{style:Ro(s)},items:o})})},!0))}}else i(Ds,{block:"divjson2-block",message:"Missing divjson2-gallery items",level:"warn",source:t.layoutName})}function vs(){return""}function bs(t,e,i){function n(t,e,i){var n,o=0,s=0,r=[];if(t.every(Boolean))for(s=t.reduce((function(t,e){return t+e}),0),n=0;n<i;++n)if(e[n]){var a=e[n]/t[n]*s;a>o&&(o=a)}for(n=0;n<i;++n)o?r[n]="minmax("+Vo(o*t[n]/s)+","+t[n]+"fr)":t[n]?r[n]=t[n]+"fr":r[n]="auto";return r.join(" ")}var o=t.json;if(Array.isArray(o.items)&&o.items.length){var s=t.style||{},r={};r.valign=home.htmlFilter(o.content_alignment_vertical||"top"),r.halign=home.htmlFilter(o.content_alignment_horizontal||"left");for(var a={},c=[],l=0,h=0,d=Number(o.column_count)||1,u=[],m=[],p=[],f=[],_=0;_<o.items.length;++_){var g=o.items[_],v=t.templates,b=t.context,y=i(Ss,{json:g,templates:v,context:b,layoutName:t.layoutName});g=y.json,b=y.context;var w=Number(g.column_span)||1,k=Number(g.row_span)||1;c.push(i(Cs,Ko(t,{context:b,json:g,containerStyle:{"grid-area":h+1+"/"+(l+1)+"/span "+k+"/span "+w}})));for(var E=g.width&&"match_parent"===g.width.type&&g.width.weight?Number(g.width.weight)/w:0,M=g.height&&"match_parent"===g.height.type&&g.height.weight?Number(g.height.weight)/k:0,x=1===w&&g.width&&"fixed"===g.width.type&&g.width.value?Number(g.width.value)/w:0,T=1===k&&g.height&&"fixed"===g.height.type&&g.height.value?Number(g.height.value)/k:0,C=l;C<l+w;++C)for(var S=h;S<h+k;++S){if(a[C+"_"+S])return;a[C+"_"+S]=!0,(!u[C]||u[C]<E)&&(u[C]=E),(!m[S]||m[S]<E)&&(m[S]=M),(!p[C]||p[C]<x)&&(p[C]=x),(!f[S]||f[S]<T)&&(f[S]=T)}do{++l>=d&&(l=0,++h)}while(a[l+"_"+h])}if(0===l)return s["grid-template-columns"]=n(u,p,d),s["grid-template-rows"]=n(m,f,h),i(Ps,Ko(t,{json:o,style:s,mix:home.getBEMClassname("divjson2-grid",{mods:r}),content:c.join("")},!0));i(Ds,{block:"divjson2-block",message:"Mismatching divjson2-grid rows/columns",level:"warn",source:t.layoutName})}else i(Ds,{block:"divjson2-block",message:"Missing divjson2-grid items",level:"warn",source:t.layoutName})}function ys(t,e,i){var n=t.json,o=t.style||{},s=n.delimiter_style&&"vertical"===n.delimiter_style.orientation?"vertical":"horizontal",r=!0;return n.delimiter_style&&n.delimiter_style.color&&("transparent"===n.delimiter_style.color||9===n.delimiter_style.color.length&&0===n.delimiter_style.color.indexOf("#00"))&&(r=!1),i(Ps,Ko(t,{json:n,style:o,mix:"divjson2-separator",content:r?i(H,{attrs:{style:Ro({background:Wo(n.delimiter_style&&n.delimiter_style.color||"#14000000"),width:"horizontal"===s?"100%":Vo(1),height:"horizontal"===s?Vo(1):"100%"})}}):""},!0))}function ws(t,e,i){var n=t.json;if(n.text){var o,s={},r=t.style||{},a={},c=Number(n.font_size)||12;r["font-size"]=Vo(c);var l=1.25,h="";if(n.line_height&&(l=Number(n.line_height)/c,r["line-height"]=l),1===n.max_lines)s.clamped="singleline";else if(n.max_lines){var d=Number(n.max_lines);r["max-height"]=d*l+"em",n.ranges||n.images||(r["-webkit-line-clamp"]=d,a["data-lines"]=d,s.clamped="multiline",h="i-multiline-overflow",o={})}var u=!n.ranges||n.ranges.length<=1&&0===n.ranges[0].start&&n.ranges[0].end>=n.text.length,m=Boolean(n.text_color)!==Boolean(n.ranges&&n.ranges[0]&&n.ranges[0].text_color);n.max_lines&&u&&m&&(r.color=Wo(n.text_color||n.ranges&&n.ranges[0]&&n.ranges[0].text_color)),n.text_alignment_horizontal&&(s["text-halign"]=home.htmlFilter(n.text_alignment_horizontal)),n.text_alignment_vertical&&(s["text-valign"]=home.htmlFilter(n.text_alignment_vertical)),n.truncate&&("none"===n.truncate?s.truncate="none":"marquee"===n.truncate&&1===n.max_lines&&(s.marquee="yes",(o=o||{}).marqueeDelay=Number(n.marquee_animation&&n.marquee_animation.start_delay||0),n.marquee_animation&&n.marquee_animation.repeat&&"fixed"===n.marquee_animation.repeat.type?o.marqueeRepeat=Number(n.marquee_animation.repeat.value):o.marqueeRepeat=-1));var p=n.text;if(Array.isArray(n.ranges)&&n.ranges.length||Array.isArray(n.images)&&n.images.length){var f=n.ranges||[{start:0,end:p.length}],_=n.images||[],g=0,v=[],b="",y=[];f.forEach((function(t){y.push({index:t.start,range:t,type:"rangeStart",isStart:!0}),y.push({index:t.end,range:t,type:"rangeEnd"})})),_.forEach((function(t,e){t.start<=p.length&&y.push({index:t.start,image:t,type:"image",arrayIndex:e})})),y.sort((function(t,e){return t.index===e.index?t.type!==e.type?"image"===t.type?-1:"image"===e.type?1:t.type<e.type:"image"===t.type&&"image"===e.type?e.arrayIndex-t.arrayIndex:"rangeStart"===t.type&&"rangeStart"===e.type?t.range.end-e.range.end:"rangeStart"===t.type?1:"rangeStart"===e.type?-1:t.range.start-e.range.start:t.index-e.index})),y.forEach((function(t){var e=t.range,o=t.index;if(o>g){var s=home.deepExtend({},n);v.forEach((function(t){s=home.deepExtend(s,t)})),b+=i(ks,{content:home.htmlFilter(p.substring(g,o)),rootFontSize:c,textStyles:s,rangeMix:h})}if("rangeStart"===t.type)v.push(e);else if("rangeEnd"===t.type)v=v.filter((function(e){return e!==t.range}));else{var r=home.deepExtend({},n);v.forEach((function(t){r=home.deepExtend(r,t)}));var a=Vo(20*(t.image.width&&t.image.width.value||20)/(r.font_size||12)),l=Vo(20*(t.image.height&&t.image.height.value||20)/(r.font_size||12));b+=i(ks,{content:i(z,{mix:"divjson2-text__image",attrs:{style:Ro({"background-image":'url("'+home.htmlFilter(t.image.url)+'")',width:a,height:l,"margin-top":n.line_height?"-"+l:void 0,"margin-bottom":n.line_height?"-"+l:void 0})}}),rootFontSize:c,textStyles:r,rangeMix:h})}g=o})),g<p.length&&(b+=i(ks,{content:home.htmlFilter(p.substring(g)),rootFontSize:c,textStyles:home.deepExtend({},n),rangeMix:h})),p=b}else p=i(ks,{content:home.htmlFilter(p),rootFontSize:c,textStyles:n,rangeMix:h});return i(Ps,Ko(t,{json:n,attrs:a,js:o?{"divjson2-text":o}:void 0,mix:home.getBEMClassname("divjson2-text",{mods:s}),content:i(H,{mix:"divjson2-text__inner",attrs:{style:Ro(r)},content:p})},!0))}i(Ds,{block:"divjson2-block",message:"Missing divjson2-text text",level:"warn",source:t.layoutName})}function ks(t,e,i){var n=Vo,o=t.textStyles,s={},r={},a=Number(o.font_size)||12,c=1.25;return s["font-size"]=n(20*a/t.rootFontSize),o.line_height&&(c=Number(o.line_height)/a,s["line-height"]=c),o.letter_spacing&&(s["letter-spacing"]=n(o.letter_spacing)),"medium"!==o.font_weight&&"bold"!==o.font_weight&&"regular"!==o.font_weight||("medium"===o.font_weight?s["font-weight"]=500:"bold"===o.font_weight?s["font-weight"]="bold":s["font-weight"]=400),o.text_color&&(s.color=Wo(o.text_color)),(o.underline||o.strike)&&("single"===o.underline&&"single"===o.strike?r.decoration="both":"single"===o.underline?r.decoration="underline":"single"===o.strike?r.decoration="strike":r.decoration="none"),o.underline&&(r.underline=o.underline),o.strike&&(r.strike=o.strike),i(z,{mix:home.getBEMClassname("divjson2-text__range",{mods:r,mix:t.rangeMix||""}),content:t.content,attrs:{style:Ro(s)}})}function Es(t,e,i){var n=t.json;if(Array.isArray(n.states)&&n.states.length){var o=n.states[0].div,s=String(n.states[0].state_id),r="divjson2-state-"+home.rnd().substr(0,5);return i(Ps,Ko(t,{js:{"divjson2-state":{uniqId:r,divId:n.div_id,baseData:{layoutName:t.layoutName,stack:t.stack,context:t.context},data:n.states.reduce((function(t,e,i){var n={animation_in:e.animation_in,animation_out:e.animation_out};return i>0&&(n.div=e.div),t[e.state_id]=n,t}),{}),keys:n.states.map((function(t){return String(t.state_id)})),selectedKey:s}},mix:"divjson2-state",json:n,attrs:{"data-div-id":n.div_id},content:i(H,{mix:"divjson2-state__panels",content:i(Ct,{block:"divjson2-state",id:r,key:s,content:o?i(Cs,Ko(t,{json:o},!0)):""})})},!0))}i(Ds,{block:"divjson2-block",message:"Missing divjson2-state states",level:"warn",source:t.layoutName})}function Ms(t,e,i){if(!t||!t.json)return"Missing object";var n,o=t.json,s=o.card,r=o.templates||{};if(!s)return"Missing card";if(!s.states)return"Missing states";var a=i(Ts);function c(t){var e;if("tabs"===t.type&&Array.isArray(t.items))for(var i=0;i<t.items.length;++i)if(e=c(t.items[i].div))return e;if(t.type&&"home:"!==t.type.substr(0,5)&&!(t.type in r)&&!(t.type in a))return'Unknown type "'+t.type+'"';if(Array.isArray(t.items))for(var n=0;n<t.items.length;++n)if(e=c(t.items[n]))return e;return""}for(var l in r)if(r.hasOwnProperty(l)){if(0===l.indexOf("home:"))return'Reserved template name "'+l+'"';if(n=c(r[l]))return n;if(l in a)return'Template name collision "'+l+'"'}for(var h=0;h<s.states.length;++h)if(n=c(s.states[h].div))return n;return"ok"}function xs(t,e,i){var n=t.json,o=n.card,s=n.templates||{},r="divjson_"+home.rnd().substr(0,5),a=i(Cs,{layoutName:t.layoutName,titleIcon:t.titleIcon,templates:s,context:{},json:o.states[0].div}),c=o.states.map((function(t){return String(t.state_id)}));return c.length>1&&(a=i(H,{mix:"divjson2__panels",content:i(Ct,{block:"divjson2",id:r,key:c[0],content:a})})),i(Rs,{content:a,mods:{name:t.layoutName},mix:t.mix,js:{divjson2:{keys:c,data:o.states.slice(1).reduce((function(t,e){return t[e.state_id]=e.div,t}),{}),id:r,selectedKey:c[0],baseData:{layoutName:t.layoutName},templates:s}}})}var Ts=F((function(){return{container:hs,gallery:gs,gif:ds,grid:bs,image:ds,separator:ys,tabs:Go,text:ws,state:Es}}));function Cs(t,e,i){var n,o=t.json,s=t.templates,r=t.context,a=i(Ss,{json:o,templates:s,context:r,layoutName:t.layoutName});o=a.json,r=a.context;var c=i(Ts),l=i(Fs)||{};return(n=c[o.type])?Yo(i,n,t,{json:o,context:r}):o.type in l?Yo(i,l[o.type],t,{json:o,context:r}):void i(Ds,{block:"divjson2-block",message:"Unknown element type",source:t.layoutName,meta:{type:o.type}})}function Ss(t,e,i){for(var n=t.json,o=t.templates,s=t.context;n.type in o;){var r=i(Bs,{json:n,templates:o,context:s,layoutName:t.layoutName});n=r.json,s=r.context}return{json:n,context:s}}function Bs(t,e,i){var n,o=t.json,s=t.templates[o.type],r=t.context||{},a={};for(n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(n in o)"type"!==n&&"__proto__"!==n&&o.hasOwnProperty(n)&&(a[n]=o[n]);function c(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e||"undefined"===e||null===t?t:home.deepExtend(Array.isArray(t)?[]:{},t)}var l=function h(e,n){var s=Object.keys(n).filter((function(t){return"__proto__"!==t})),r=s.filter((function(t){return"$"!==t.charAt(0)})),l=s.filter((function(t){return"$"===t.charAt(0)}));function d(s){for(var r=0;r<s.length;++r){var l=s[r],d=n[l];if("$"===l.charAt(0)){var u=a[d];if(void 0!==u){var m=l.substr(1);e[m]=c(u)}else i(Ds,{block:"divjson2-block",message:"Missing template field",level:"warn",source:t.layoutName,meta:{key:l,template:o.type}})}else"object"==typeof d&&null!==d?(e[l]=Array.isArray(d)?[]:{},h(e[l],d)):e[l]=c(d)}}return d(r),d(l),e}({},s);for(n in o)"type"!==n&&"__proto__"!==n&&o.hasOwnProperty(n)&&(l[n]=c(o[n]));return{json:l,context:a}}function Is(t,e,i){var n,o,s,r=!t.hasParentAction&&t.json&&(t.json.actions||(t.json.action?[t.json.action]:null)),a=r&&r.filter((function(t){return t.url&&-1===t.url.indexOf("div-action://set_state?state_id=")})),c=r&&r.filter((function(t){return t.url&&0===t.url.indexOf("div-action://set_state?state_id=")})),l=a&&a.length&&a[0]&&a[0].url,h=l&&a[0].log_url,d=home.deepExtend({href:l||void 0,"data-set-state":c?home.getBEMParams(c):void 0,tabindex:a&&a.length||!c||!c.length?void 0:"0"},t.attrs||{});if(r&&r.forEach((function(t){t.hover&&(n=t)})),l&&(t.action&&"_blank"===t.action.target||i(ht))&&(d.target="_blank",d.rel="noopener"),t.json&&(t.json.visibility_action||t.json.visibility_actions)){var u=t.json.visibility_actions||[t.json.visibility_action];d["data-bem"]=home.getBEMParams({"divjson2-visibility":{layoutName:t.layoutName,actions:u.map((function(t){return{log:t.log_id?t.log_id.replace(/\/(?=[^)]+($|\())/g,"."):void 0,url:t.url,percent:t.visibility_percentage,duration:t.visibility_duration,limit:t.log_limit}}))}})}h&&(d["data-log-url"]=h),o=i(Os)("client");var m=i(zs,{action:n}),p=[];return d.style&&p.push({style:d.style}),m&&p.push({pseudo:":hover",style:m}),s=i(js,{className:o,styles:p}),delete d.style,i(As,{tag:l?"a":t.defaultTag||"div",stat:a&&a[0]&&a[0].log_id?e.stat.getAttr(t.layoutName+"."+a[0].log_id.replace(/\/(?=[^)]+($|\())/g,"."),null,{customParams:a[0].payload,precise:Boolean(t.inPreciseGallery)}):"",attrs:d,mix:[t.mix||"",c&&c.length&&"divjson2__state-setter",r&&r.length&&"divjson2__clickable",h&&"divjson2__log-url",r&&r.length&&i(Ls,n),d["data-bem"]&&"i-bem",o].filter(Boolean).join(" "),content:t.content,inlineStyle:s})}function Ps(t,e,i){var n=t.json,o=Vo,s={},r={},a="",c=t.style||{},l=t.attrs||{};if(n.border&&(n.border.has_shadow&&(r.shadow="yes"),n.border.stroke&&(c.border=o(n.border.stroke.width||1)+" solid "+Wo(n.border.stroke.color)),n.border.corner_radius&&(r.radius="yes",c["border-radius"]=o(n.border.corner_radius))),n.width?"fixed"===n.width.type?c.width=o(n.width.value):"match_parent"===n.width.type?s.width="parent":"wrap_content"===n.width.type&&(s.width="content"):s.width="parent",n.height?"fixed"===n.height.type?c.height=o(n.height.value):"match_parent"===n.height.type?s.height="parent":"wrap_content"===n.height.type&&(s.height="content"):s.height="content",n.background){var h=i(os,n.background);c["background-color"]=h.color,c["background-image"]=h.image,c["background-size"]=h.size,c["background-position"]=h.pos,c["background-repeat"]="no-repeat",t.inGallery&&n.background.some((function(t){return"image"===t.type}))&&(a+=" imageloader__image imageloader__image_loaded_no")}n.paddings&&(c.padding=o(n.paddings.top||0)+" "+o(!t.skipHorizontalPadding&&n.paddings.right||0)+" "+o(n.paddings.bottom||0)+" "+o(!t.skipHorizontalPadding&&n.paddings.left||0)),n.alpha&&(c.opacity=Number(n.alpha)),s["valign-self"]=home.htmlFilter(n.alignment_vertical||"default"),s["halign-self"]=home.htmlFilter(n.alignment_horizontal||"default"),l.style=Ro(c),l.id=t.id,t.js&&(l["data-bem"]=home.getBEMParams(t.js),a+=" i-bem");var d=t.containerStyle||{};return n.margins&&(d.padding=o(n.margins.top||0)+" "+o(n.margins.right||0)+" "+o(n.margins.bottom||0)+" "+o(n.margins.left||0)),i(H,{mix:home.getBEMClassname("divjson2__block",{mods:s,mix:t.containerMix}),attrs:{style:Ro(d)},content:i(Is,{json:n,layoutName:t.layoutName,stack:t.stack,mix:home.getBEMClassname("divjson2__block-inner",{mods:r,mix:[t.mix,a].filter(Boolean).join(" ")}),defaultTag:"div",hasParentAction:t.hasParentAction,hasCurrentAction:t.hasCurrentAction,inPreciseGallery:t.inPreciseGallery,attrs:l,content:t.content})})}function Ds(t,e){if(t){var i=e.options&&e.options.disable_divjson2_warn||e.disable_divjson2_warn;"warn"===t.level&&i||home.error(t)}}var Os=F((function(){var t=0;return function(e){return"generated-class_"+e+"_"+t++}}));function js(t){return t.styles.length?"<style>"+t.styles.map((function(e){return"."+t.className+(e.pseudo||"")+"{"+e.style+";}"})).join("\n")+"</style>":""}function Rs(t){return"<div "+w()(Object.assign({"class":"".concat(C("divjson2",t||{})," i-bem")},t.attrs,{"data-bem":x(t.js||{})}))+">"+E.a.oneElem(t.content)+"</div>"}function As(t){return(t.inlineStyle||"")+"<"+t.tag+' class="'+(t.mix||0===t.mix?t.mix:"")+'" '+N(t.attrs)+" "+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+">"}var Fs=F((function(){return{"home:block":Ns}}));function Ns(t,e,i){var n,o,s,r,a=t.json.div,c=t.layoutName,l=i(Us,{json:a,templates:t.templates,context:t.context});l&&(o=l.json),o&&(s="divjson2-tabs-"+home.rnd().substr(0,5),o.id=s,n=i(H,{mix:"media-service__tabs",content:i(Zo,{layoutName:t.layoutName,json:o,id:s})}),r=i(Xo,o));var h=i(Zs),d=home.getData("media-grid.blocks"),u=(d&&d[c]&&d[c].layout||{}).title||home.htmlFilter(t.json.title||""),m=!h&&n||!t.json.title_after?"":i(Ot,{content:home.htmlFilter(t.json.title_after),href:t.json.title_after_link&&home.htmlFilter(t.json.title_after_link)||"",target:i(ht)?"_blank":"",stat:e.stat.getClientCounter(t.layoutName+".title_action"),mix:"home-link_gray_yes divjson2-block__titler-after"}),p=!h&&n?n:"",f=h&&n?n:"";return i(H,{mix:"divjson2-block__block-wrapper"+(n?" i-bem divjson2-tabs":""),attrs:{"data-bem":o?home.getBEMParams({"divjson2-tabs":{uniqId:s,baseData:{layoutName:c,stack:[],context:{}},data:Object.keys(o.items).reduce((function(t,e,i){return i!==r&&(t[e]=o.items[e].div),t}),{})}}):null},content:i(H,{mix:"media-service__header",content:i(rr,{title:i(Qs,{block:"divjson2-block",href:t.json.title_link&&home.htmlFilter(t.json.title_link)||"",title:u,titleStat:e.stat.getClientCounter(t.layoutName+".title"),titleIcon:home.htmlFilter(t.json.title_icon||t.titleIcon||""),target:t.json.target&&home.htmlFilter(t.json.target)||void 0})})+p+m})+f+i(H,{mix:"divjson2-block__content",content:i(Cs,Ko(t,{json:a}))})})}function Ls(t){var e=t&&t.hover&&t.hover.type;return"translate"===e?"divjson2__clickable_translate_yes":"background-color"===e?"divjson2__clickable_bg-color_yes":"divjson2__clickable_opacity_yes"}function Us(t,e,i){return function n(e,o,s){var r=i(Ss,{json:e,templates:o,context:s,layoutName:t.layoutName});if(e=r.json,s=r.context,"tabs"===e.type)return{json:e,context:s};if(("container"===e.type||"grid"===e.type)&&Array.isArray(e.items))for(var a=0;a<e.items.length;++a){var c=n(e.items[a],o,s);if(c)return c}return null}(t.json,t.templates,t.context)}function Hs(t,e,i){return function n(e,o,s){var r=i(Ss,{json:e,templates:o,context:s,layoutName:t.layoutName});if(e=r.json,s=r.context,"home:block"===e.type)return{json:e,context:s};if("container"===e.type||"grid"===e.type||e.states){var a=e.items||e.states;if(Array.isArray(a))for(var c=0;c<a.length;++c){var l=n(!e.type&&e.states?a[c].div:a[c],o,s);if(l)return l}}return null}(t.json,t.templates,t.context)}function zs(t){var e=t&&t.action&&t.action.hover,i=e&&e.type;return"background-color"===i&&e.color?i+":"+Wo(e.color||"transparent"):""}function Ws(t,e,i){t.layoutName||home.error("divjson2-block: layoutName is required!");var n=t.layoutName,o=home.getData("media-grid.blocks"),s=o&&o[n]&&o[n]||{},r=i(tr,s);return i(Xs,{block:"divjson2-block",layout:s.layout,titleIcon:r,rootMod:"divjson2-block i-bem mix-tabber_theme_inline-media"+(t.test?" divjson2-block_test_yes":""),mods:{"has-carousel":"yes",tabs:t.tabs?"yes":void 0,dummy:"yes"},title:t.title,attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({"divjson2-block":{showUrl:t.showUrl,api:t.api&&"1"!==t.api?home.addQueryToUrl(t.api,{platform:"desktop"}):"",titleIcon:r,layoutName:t.layoutName}}),style:t.blockHeight?"height:"+t.blockHeight+"px":""},tabs:t.tabs?i(H,{mix:"divjson2-block__dummy-tabs",content:i(Lo)}):"",content:i(Fo,{width:t.cardWidth,height:t.cardHeight})})}function $s(t,e,i){var n=home.getData("divjson2-block."+t.layoutName);if(n)return i(Ws,n)}function Vs(t,e,i){var n=i(qs);if(n[t])return n[t];if("div_"===t.substr(0,4)){if(home.getData&&home.getData("media-grid.div2")){if(home.getData("media-grid.div2").indexOf(t)>-1)return"divjson2-block"}else if(e.DivBlocks&&e.DivBlocks.blocks&&e.DivBlocks.blocks[t]&&"div2"===e.DivBlocks.blocks[t].type)return"divjson2-block";return"divjson-block"}return t.replace(/_/g,"-")}var qs=F((function(){return{broadcast:"media-broadcast"}})),Ks=F((function(t,e){return Object.assign({},e(yo))}));function Ys(t,e,i){var n=t.content,o=t.layoutName,s={};if(!n)return"";var r={"data-blockname":i(Ks)[o]||o};return s.collapsed=!t.expand&&(e.blocks_folded||{})[o]?"yes":void 0,t.bg&&(s.bg="yes","1"!==t.bg&&(r.style="background:"+t.bg)),s.collapsed&&e.stat.logShow(o+".widget_control.show"),"<div "+w()(Object.assign({"class":C("media-grid__row",{mix:t.mix,mods:s})},r))+">"+E.a.oneElem(n)+"</div>"}function Gs(t,e,i){var n={"media-event-carousel":rn,kinopoisk:pn,games:Mn,"autoru-inserts":Fn,"afisha-inserts":Qn,"widgets-list":ji,tutor:xo,"banner-inserts":Io,"divjson-block":Ho,"divjson2-block":$s};i(bo,t).forEach((function(t){n[t.name]=t.clientRender}));var o=t.blockName;return o in n?i(n[o],t):""}function Zs(t,e){return home.getData("media-grid.zen_single_column")}function Xs(t,e,i){var n=t.content||"",o="",s=t.layoutName||t.block;if(!t.layout&&s){var r=home.getData("media-grid.blocks");t.layout=r&&r[s]&&r[s].layout||{}}if(t.tabs){o=i(H,{mix:t.block+"__tabs media-service__tabs",attrs:{role:"tablist"},content:t.tabs}),"mix-tabber_theme_inline-media",t["title-after"]=(t["title-after"]||"")+o,t.mods=t.mods||{},t.mods["inline-tabs"]="yes";var a=i(Zs);t.mods["single-column"]=a?"yes":"no",t.mix=(t.mix||"")+" mix-tabber_theme_inline-media"}return!t.titleIcon&&t.layout&&(t.titleIcon=i(tr,t)),i(or,home.deepExtend(t,{title:t.title&&i(Js,t),content:n}))}function Js(t,e,i){var n=t["title-after"]||"";return!t.titleIcon&&t.block&&(t.titleIcon=i(tr,t)),i(sr,home.deepExtend(t,{header:i(rr,{title:i(Qs,t),descTmpl:t.desc?i(er,t):""}),headerMods:t.headerMods,"title-after":n,zenSingleColumn:i(Zs)}))}function Qs(t,e,i){var n="",o=t.titleMix||"",s=t.layout||{},r=s.title||t.title,a=t.titleStat||e.stat.getClientCounter(s.id+".title"),c=s.title_url||t.href;return t.titleIcon&&(n=i(H,{mix:"media-service__title-icon",attrs:{style:home.makeStyle({"background-image":"url("+t.titleIcon+")"})}}),o+=" media-service__title-text_icon_yes"),i(Ot,{mix:t.block+"__title media-service__title-text"+(o?" "+o:""),mods:{hover:"inherit"},href:c,content:n+i(ir,{text:r}),attrs:t.titleAttrs,stat:a,target:t.target})}function tr(t){if(t&&t.layout&&t.layout.icon)return"//yastatic.net/s3/home/feed/services/icons/"+t.layout.icon+".svg"}function er(t,e,i){var n=t.desc||t.collapsedText;if(n)return i(ar,{block:t.block,desc:n,mods:{collapsed:t.desc?null:"yes"}})}function ir(t,e,i){return i(H,{content:t.text,mix:"media-service__title-text-inner"})}function nr(t,e,i){if(t.mods&&t.mods.dummy)return"<div class='media-service__footer-wrapper'><span class='media-service__footer media-service__footer-dummy'></span></div>";var n=t.layout,o=t.footer||{},s=n.footer||o.text;return s||o.html?i(H,{mix:"media-service__footer-wrapper",content:o.html||i(Ot,{mods:{hover:"inherit"},mix:"media-service__footer"+(o.mix?" "+o.mix:""),stat:e.stat.getAttr((t.statPath||t.block||o.block)+".footer"),href:n.footer_url||o.url||t.href,content:home.capitalize(s),attrs:o.attrs})+(o.after||"")}):""}function or(t,e,i){return"<div "+w()(Object.assign({"class":"".concat(P(t.rootMod)," ").concat(C("media-service",t||{}))},t.attrs))+">"+(E.a.oneElem(t.before)+E.a.oneElem(t.title)+E.a.oneElem("<div "+w()({"class":"".concat(P(t.block),"__content media-service__content ").concat(P(t.contentMix))})+">"+E.a.oneElem(t.content)+"</div>")+E.a.oneElem(i(nr,t)))+"</div>"}function sr(t){return t.zenSingleColumn?E.a.oneElem("<div "+w()({"class":C("media-service__header",t.headerMods||{})})+">"+E.a.oneElem(t.header)+"</div>")+E.a.oneElem(t["title-after"]):"<div "+w()({"class":C("media-service__header",t.headerMods||{})})+">"+(E.a.oneElem(t.header)+E.a.oneElem(t["title-after"]))+"</div>"}function rr(t){return"<div class='media-service__title-wrapper'>"+(E.a.oneElem("<h1 "+w()({"class":C("media-service__title",t.titleMods||{})})+">"+E.a.oneElem(t.title)+"</h1>")+E.a.oneElem(t.descTmpl))+"</div>"}function ar(t){return"<div "+w()({"class":"".concat(C("media-service__desc",t||{})," ").concat(P(t.block),"__desc")})+">"+E.a.oneElem(t.desc)+"</div>"}var cr=F((function(t){return home.hasBlock(t.Zen)&&t.Zen.is_lib})),lr=F((function(t,e){var i=t.blocks_folded&&t.blocks_folded.infinity_zen;return e(cr)&&!i&&Boolean(t.Zen.lib.params_for_static.is_adblock)}));function hr(t,e,i){var n=home.getData("infinity-zen.media-promo"),o=i(yi,t.params);return i(Js,{block:"infinity-zen",layout:i(mr,t),href:o,target:i(ht)?"_blank":"",title:i(dr),desc:i(ur),titleStat:e.stat.getClientCounter(t.params.statRoot+".title"),"title-after":n,headerMods:{mix:"infinity-zen__header"+(t.isZenInsert?" zen-insert":""),mods:{valign:n?"center":void 0,style:"padding-bottom: 10px"}}})}function dr(t,e){return e.l10n("media.zen.title")}function ur(t,e){return e.l10n("media.zen.desc")}function mr(t,e,i){var n=home.getData("media-grid.blocks");return n&&n.infinity_zen&&n.infinity_zen.layout}function pr(t){return"<div class='infinity-zen__alert'><div class='infinity-zen__alert-left'><div class='infinity-zen__alert-icon'></div></div>"+E.a.oneElem("<div class='infinity-zen__alert-right'>"+(E.a.oneElem("<div class='infinity-zen__alert-title'>"+E.a.oneElem(t.title)+"</div>")+E.a.oneElem("<div class='infinity-zen__alert-text'>"+E.a.oneElem(t.text)+"</div>"))+"</div>")+"</div>"}function fr(t,e,i){if(!t.item||!t.item.text||!t.item.url)return home.error({block:"services-new",message:"Incorrect item data",method:"services-new__item",additional:{item:t.item}}),"";var n=t.item,o=t.attrs||{},s=t.icon||i(_r,{appendDark:t.appendDark,staticHost:t.staticHost,service:n}),r=t.mix||"",a=t.mods||{};o["data-id"]=n.service,a.search=n.search&&"yes";var c=i(Ot,{mix:home.getBEMClassname("services-new__item",{mix:r,mods:a}),href:n.url,attrs:o,stat:t.stat,content:s+i(H,{mix:"services-new__item-title",content:n.text})});return"more"!==n.service&&(c='<li class="services-new__list-item">'+c+"</li>"),c}function _r(t,e,i){var n,o=t.service&&t.service.iconSrc||i(gr,t),s=t.promo?t.promo.mix:"",r="",a="";return t.service&&t.service.iconSrc||!t.appendDark||(t.promo?n=t.promo.mix:r=n="services-new__maybe-dark_"+t.service.service,a=i(U,{content:".document_dark_yes ."+n+'{background-image:url("'+i(gr,{service:t.service,promo:t.promo,isDark:!0,staticHost:t.staticHost})+'")!important}'})),a+i(H,{mix:home.getBEMClassname("services-new__icon",{mix:[s,r].filter(Boolean).join(" ")}),attrs:{style:home.makeStyle({"background-image":"url("+o+")"})}})}function gr(t){var e=t.service&&t.service.icon||t.promo.icon;return t.staticHost+"/s3/home/services/block/"+e+(t.isDark?"_skin":"")+".svg"}function vr(t,e,i){var n="",o=t.fullList.map((function(n,o){return n.iconSrc=i(gr,{service:n,isDark:!1,staticHost:t.staticHost}),i(fr,{staticHost:t.staticHost,mix:" services-new__more-popup-item",item:n,stat:e.stat.getAttr("services_new.popup.item."+n.service+"."+o)})})).join("");return t.bottomLinks&&t.bottomLinks.length&&(n=t.bottomLinks.map((function(t,n){return i(Ot,{content:t.text,href:t.url,mix:"services-new__more-popup-bottom-link",stat:e.stat.getAttr("services_new.popup.bottom_link."+n),mods:{black:"yes"}})})).join("")),i(br,{services:o,bottomLinks:n})}function br(t,e){return"<div class='services-new__more-popup-content'>"+(E.a.oneElem("<ul class='services-new__more-popup-services'>"+E.a.oneElem(t.services)+"</ul>")+E.a.oneElem("<div class='services-new__more-popup-bottom-links'>"+E.a.oneElem(t.bottomLinks)+"</div>")+E.a.oneElem("<div "+w()({"class":"services-new__more-popup-close",role:"button",tabindex:"0",title:e.l10n("a11y.close")})+"></div>"))+"</div>"}function yr(t,e,i){var n="";return n+=t.link||"",n+=t.title?i(wr,t):"",n+=t.details?i(kr,t):"",(t.iconSrc||t.iconClass)&&(n+=""+i(Er,{iconClass:[t.iconClass||"",""].filter(Boolean).join(" "),attrs:t.iconSrc?{style:home.makeStyle({"background-image":'url("'+t.iconSrc+'")'})}:""})),(n+=t.extraElems||"")+(t.switcher||"")}function wr(t){return"<div "+w()({"class":C("desk-notif-card__title",t.titleDesc||{})})+">"+E.a.oneElem(t.title)+"</div>"}function kr(t){return"<div "+w()({"class":C("desk-notif-card__details",t.detailsDesc||{})})+">"+E.a.oneElem(t.details)+"</div>"}function Er(t){return"<div "+w()(Object.assign({"class":"desk-notif-card__icon ".concat(P(t.iconClass))},t.attrs))+"></div>"}function Mr(t,e,i){var n,o,s,r,a=t.width||50,c=t.heigth||16,l=t.values,h=Math.min.apply(Math,l),d=Math.max.apply(Math,l),u=Math.floor((a-3-3)/(l.length-1)),m=[];for(s=0,r=l.length;s<r;s++)n=s*u+3,o=c-3-Math.floor((l[s]-h)*(c-6)/(d-h)),m.push([n,o]);return i(xr,{width:a,height:c,line:i(Tr,{points:m.map((function(t){return t[0]+","+t[1]})).join(" ")}),label:t.text})}function xr(t){return"<svg "+w()({"class":"desk-notif-card__rate-image",width:t.width,height:t.height})+">"+E.a.oneElem(t.line)+"</svg>"}function Tr(t){return"<polyline "+w()({"class":"desk-notif-card__rate-line",fill:"none","stroke-width":"1","stroke-linecap":"round",points:t.points})+"/>"}function Cr(t,e){function i(t){return void 0!==t.longitude&&void 0!==t.latitude?t.longitude+","+t.latitude:"string"==typeof t?t:void Object(o.a)({level:"warn",message:"Incorrect format for point from route. Got something wrong instead Object.ll Object.lt or string.",block:"route",method:"route__api-url",meta:{point:t}})}var n=i(t.start),s=i(t.finish),r=t.transit,a=r&&r.length?r.map(i).join("~"):"",c=e.TestingInstance&&e.Getargshash&&e.Getargshash.geohelperMocks||"",l=t.transit&&t.transit.length&&!a;if(n&&s&&!l)return"https://"+e.GeohelperHost+"/geohelper/api/v1/router?points="+n+"~"+s+"&locale="+e.Locale+"&domain="+e.MordaZone+"&feature=bypass_first"+(a?"&via="+a:"")+(c?"&usemock="+c:"")+"&from="+t.from||!1}function Sr(t,e,i){var n=i(Rr,{from:(t.from||"").replace(/\s*\(.*$/,""),to:(t.to||"").replace(/\s*\(.*$/,"")});return i(jr,{content:n})}function Br(t,e,i){var n=i(Ir,{table:t.from,host:t.host}),o=i(Ir,{table:t.to,host:t.host});if(n||o)return i(Dr,{from:n,to:o,stat:e.stat.getAttr("notifications.etrains.rasp")})}function Ir(t,e,i){var n=t.table;if(n&&n.length)return n.map((function(e){return i(Pr,{row:e,host:t.host})})).join("")}function Pr(t,e,i){var n,o=t.row;return o.uid&&(n=t.host+"thread/"+o.uid),i(Or,{link:i(Ot,{href:n,stat:e.stat.getAttr("notifications.etrains.rasp",n,{logShow:!1}),content:o.stime||o.departure,mix:o.express?"desk-notif-card__etrains-time_express":"",mods:{black:"yes"},attrs:{title:(o.express?e.l10n("etrain.express")+"&#32;":"")+(o.name||o.title)}})})}function Dr(t){return"<div "+w()({"class":C("desk-notif-card__etrains-schedule",t||{}),_temp:t.stat})+">"+E.a.oneElem("<div class='desk-notif-card__etrains-list-wrapper'>"+(E.a.oneElem("<div class='desk-notif-card__etrains-list-from-wrapper'>"+E.a.oneElem("<ul class='desk-notif-card__etrains-list desk-notif-card__etrains-list-from'>"+E.a.oneElem(t.from)+"</ul>")+"</div>")+E.a.oneElem("<div class='desk-notif-card__etrains-list-to-wrapper'>"+E.a.oneElem("<ul class='desk-notif-card__etrains-list desk-notif-card__etrains-list-to'>"+E.a.oneElem(t.to)+"</ul>")+"</div>"))+"</div>")+"</div>"}function Or(t){return"<li "+w()({"class":C("desk-notif-card__etrains-time",t||{})})+">"+E.a.oneElem(t.link)+"</li>"}function jr(t){return"<div class='desk-notif-card__etrains-title desk-notif-card__style_bold'>"+E.a.oneElem(t.content)+"</div>"}function Rr(t){return E.a.oneElem("<div class='desk-notif-card__etrains-part desk-notif-card__etrains-from'><div class='desk-notif-card__icon desk-notif-card__etrains-icon'></div>"+E.a.oneElem("<div class='desk-notif-card__etrains-part-text'>"+(E.a.oneElem("<div class='desk-notif-card__etrains-route'>"+E.a.oneElem(t.from)+"</div>")+E.a.oneElem("<div class='desk-notif-card__etrains-route'>"+E.a.oneElem(t.to)+"</div>"))+"</div>")+"</div>")+E.a.oneElem("<div class='desk-notif-card__etrains-part desk-notif-card__etrains-to'><div class='desk-notif-card__icon desk-notif-card__etrains-icon'></div>"+E.a.oneElem("<div class='desk-notif-card__etrains-part-text'>"+(E.a.oneElem("<div class='desk-notif-card__etrains-route'>"+E.a.oneElem(t.to)+"</div>")+E.a.oneElem("<div class='desk-notif-card__etrains-route'>"+E.a.oneElem(t.from)+"</div>"))+"</div>")+"</div>")}function Ar(t){return"<img "+w()({"class":"dist-popup__image",alt:"",src:t.image})+">"}function Fr(t,e,i){t.mods||(t.mods={}),t.mods.theme||(t.mods.theme="normal"),t.mods.size||(t.mods.size="m"),t.mods.view||(t.mods.view="classic"),t.attrs||(t.attrs={}),t.js=t.js||{},t.stat&&(t.js.stat=t.stat);var n=t.checkboxAttrs||{};return n.type="checkbox",t.name&&(n.name=t.name),t.mods.disabled&&(n.disabled="disabled"),t.mods.checked&&(n.checked="checked"),n.id||(n.id=t.id||"cbid"+String(Math.random()).substr(3,12)),t.checkboxAttrs=n,"label"in t&&(t.label=i(Nr,{attrs:{"for":t.checkboxAttrs.id},label:t.label})),i(Lr,t)}function Nr(t,e,i){return"<label "+w()(Object.assign({"class":"checkbox__label"},t.attrs))+">"+E.a.oneElem(void 0!==t.label?t.label:void 0!==e.label?e.label:i("label",t))+"</label>"}function Lr(t,e,i){return"<span "+w()(Object.assign({"class":"i-bem ".concat(C("checkbox",t||{})),"data-bem":"{&quot;checkbox&quot;:".concat(x(t.js||{}),"}")},t.attrs))+">"+(E.a.oneElem("<span class='checkbox__box'>"+E.a.oneElem("<input "+w()(Object.assign({"class":"checkbox__control"},t.checkboxAttrs,{_temp:void 0!==t.stat&&t.stat||""}))+">")+"<i class='checkbox__tick'></i></span>")+E.a.oneElem(void 0!==t.label?t.label:void 0!==e.label?e.label:i("label",t)))+"</span>"}function Ur(t){var e=t.control&&t.control.attrs||{},i=t.mods||{},n="textarea"===i.type,o=n?"textarea":"input",s=n?">"+(t.value||"")+"</textarea":"/",r=t.control&&t.control.mix&&" "+t.control.mix||"";switch(t.value&&!n&&(e.value=t.value),t.name&&(e.name=t.name),i.disabled&&(e.disabled="disabled"),t.placeholder&&(e.placeholder=t.placeholder),i.type){case"password":case"search":e.type=i.type}return"<"+o+' class="input__control input__input'+r+'"'+home.getAttributes(e)+s+">"}function Hr(t){var e=t.clearMix;return'<span class="input__clear'+(e?" "+e:"")+'" unselectable="on">&nbsp;</span>'}function zr(t,e,i){var n=t.mods||{},o=t.js||{};return n.theme||(n.theme="normal"),t.keyboard&&(n.keyboard="yes"),"gradient"===n.popup&&(o.popupMods={gradient:"yes"}),t.mods=n,'<span class="'+home.getBEMClassname("input",t)+' i-bem" data-bem="{&quot;input&quot;:'+home.getBEMParams(o)+'}">'+(t.before||"")+'<span class="input__box">'+(t.noclear?"":i(Hr,t))+(t.forgot?'<span class="input__forgot input__forgot_visible_yes" unselectable="on">'+t.forgot+"</span>":"")+(t.icons||"")+i(Ur,t)+(t.search?t.search:"")+"</span>"+(t.after||"")+"</span>"}function Wr(t,e,i){var n=t.groups||[{options:t.options}],o=t.selected.split(",").reduce((function(t,e){return t[e]=1,t}),{});return t.mix?t.mix+=" i-bem":t.mix="i-bem","<div "+w()({"class":home.getBEMClassname("multiselect",t),"data-bem":'{"multiselect":{}}'})+">"+(E.a.oneElem(n.map((function(e){return i(Vr,{group:e,mods:t.mods,selectedMap:o})})))+E.a.oneElem("<input "+w()({"class":"multiselect__selected",type:"hidden",name:t.name,value:t.selected})+">"))+"</div>"}function $r(t,e,i){var n=t.option,o=t.selected;return i(Fr,{checkboxAttrs:{value:n.value},mods:{size:n.size,theme:n.theme,checked:o?"yes":void 0,lines:"multi"},label:n.label})}function Vr(t,e,i){var n=t.group,o=t.mods,s=t.selectedMap,r="";n.label&&(r="<div class='multiselect__label'>"+E.a.oneElem(home.htmlFilter(n.label))+"</div>");var a=[],c=Math.ceil(n.options.length/3);return n.options.forEach((function(t,e){var i=Math.floor(e/c);a[i]||(a[i]=[]),o&&(t.size=String(o.size),t.theme=String(o.theme)),a[i].push(t)})),"<div class='multiselect__group'>"+(E.a.oneElem(r)+E.a.oneElem("<div class='multiselect__items'>"+E.a.oneElem(a.map((function(t){return"<div "+w()({"class":"multiselect__column ".concat(home.cls.full("col"))})+">"+E.a.oneElem(t.map((function(t){return"<div class='multiselect__item'>"+E.a.oneElem(i($r,{option:t,selected:t.value in s}))+"</div>"})))+"</div>"})))+"</div>"))+"</div>"}function qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Kr(t,e,i){var n=t.button,o=t.initOption,s=t.mods,r=t.tabindex,a={arrow:"down"};s&&(s.theme&&(a.theme=s.theme),s.size&&(a.size=s.size),s.disabled&&(a.disabled="yes"));var c={role:"listbox",type:"button","aria-haspopup":"true","aria-expanded":"false"};return void 0!==r&&(c.tabindex=r),i(St,{mix:"select__button",content:(null==o?void 0:o.content)||n.content,mods:a,attrs:c})}function Yr(t){var e,i=t.labelId,n=t.option,o=home.rnd(),s=n.attrs;return s.id=o,(null===(e=n.elemMods)||void 0===e?void 0:e.label)&&(i&&(s.id=i),s["aria-hidden"]="true"),"<option "+w()(Object.assign({"class":"select__option"},s))+">"+E.a.oneElem(n.content)+"</option>"}function Gr(t,e,i){var n,o=t.index,s=t.total,r=t.group,a=home.rnd(),c=0===o,l=o===s-1;n=l&&c?"both":l?"last":c?"first":"middle";var h=r.attrs;return h.role="group",h["aria-labelledby"]=a,h.position=n,"<optgroup "+w()({"class":"select__group select__group_position_".concat(n),role:"group","aria-labelledby":a})+">"+E.a.oneElem(r.content.map((function(t){return i(Yr,{labelId:a,option:t})})))+"</optgroup>"}function Zr(t,e,i){var n=t.id,o=t.name,s=t.mods,r=t.control,a=t.initOption,c={};if(a&&(c=home.deepExtend(c,{value:a.attrs.value})),r.controlAttrs)c=home.deepExtend(c,r.controlAttrs);else{var l={};l.id=n,o&&(l.name=o),s&&(l.disabled=Boolean(s.disabled)),l.tabindex=-1,l["aria-hidden"]="true",c=home.deepExtend(c,l)}return"<select "+w()(Object.assign({"class":"select__control"},c))+">"+E.a.oneElem(r.content.map((function(t,e){return"option-group"===t.elem?i(Gr,{index:e,total:r.content.length,group:t}):i(Yr,{option:t})})))+"</select>"}function Xr(t,e,i){t.mix?t.mix+=" i-bem":t.mix="i-bem";var n,o={select:home.deepExtend({live:!1},t.js||{})};if(o.select.live){var s,r=null===(s=t.content.filter((function(t){return"elem"in t&&"control"===t.elem}))[0])||void 0===s?void 0:s.content;r&&r.length&&((n=function e(t){var i,n,o=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return qr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,s=t},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(a)throw s}}}}(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("option"===s.elem&&Object(s.attrs).selected?i=s:"option-group"===s.elem&&(i=e(s.content)),i)break}}catch(r){o.e(r)}finally{o.f()}return i}(r))||(n="option-group"===r[0].elem?r[0].content[0]:r[0]))}var a=t.id||home.rnd(),c=t.content.map((function(e){return"block"in e&&"button"===e.block?i(Kr,{button:e,initOption:n,mods:t.mods,tabindex:t.tabindex}):"elem"in e&&"control"===e.elem?i(Zr,{control:e,id:a,name:t.name,mods:t.mods,initOption:n}):void 0})).filter(Boolean);return"<span "+w()({"class":home.getBEMClassname("select",t),"data-bem":home.getBEMParams(o)})+">"+E.a.oneElem(c)+"</span>"}function Jr(t){var e,i;return"<div "+w()({"class":home.getBEMClassname("select__item",{mods:t.elemMods}),id:home.rnd()})+">"+E.a.oneElem("<span class='select__text'>"+E.a.oneElem(null===(e=t.content)||void 0===e||null===(i=e.content)||void 0===i?void 0:i.html)+"</span>")+"</div>"}function Qr(t){var e=t.name,i=t.controlAttrs;return i.checked=Boolean(i.checked),i.disabled=Boolean(i.disabled),i.disabled&&(i.tabindex="-1"),i.name=e,"<input "+w()(Object.assign({"class":"radio-button__control",type:"radio"},i))+">"}function ta(t,e,i){var n=t.index,o=t.total,s=t.name,r=t.value,a=t.mods,c=t.radio,l=c.elemMods||{},h=c.controlAttrs||{};if(void 0!==h.value&&h.value===r&&(l.checked="yes"),a.disabled&&(l.disabled="yes"),"default"!==a.view&&!l.side){var d=0===n?1:0,u=n===o-1?1:0;l.side=["","right","left","both"][2*d+u]}return h.checked=Boolean(l.checked),h.disabled=Boolean(l.disabled),h.id||(h.id=home.rnd()),"<label "+w()({"class":home.getBEMClassname("radio-button__radio",{mods:l}),"for":String(h.id)})+">"+(E.a.oneElem(i(Qr,{name:s,controlAttrs:h}))+E.a.oneElem("<span class='radio-button__text'>"+E.a.oneElem(c.content)+"</span>"))+"</label>"}function ea(t,e,i){var n=home.deepExtend({live:!1},t.js);return t.mix?t.mix+=" i-bem":t.mix="i-bem","<span "+w()({"class":home.getBEMClassname("radio-button",t),"data-bem":home.getBEMParams({"radio-button":n})})+">"+E.a.oneElem(t.content.map((function(e,n){return i(ta,{index:n,total:t.content.length,name:t.name,value:t.value,mods:t.mods,radio:e})})))+"</span>"}function ia(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function na(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ia(Object(i),!0).forEach((function(e){oa(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ia(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function oa(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function sa(t){var e=t.item;return"<input "+w()({type:"hidden",name:e.name,value:e.value})+">"}BEM.DOM.decl({block:"services-new",modName:"more",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isPopupOpened=!1,this.bindToWin("resize",this._onResize),MBEM.channel("mini-suggest").on("show",this._togglePopup.bind(this,!1)),setTimeout(this._recalcItems.bind(this),0)}}},_onResize:function(){this._popup&&(this._updatePopupContentWidth(),this._updatePopupOffset()),this._recalcItems()},_togglePopup:function(t){if("boolean"!=typeof t&&(t=!this._isPopupOpened),!this._popup){if(!t)return;this._createPopup()}return!1===t&&(this._popup._preventHideByClick=!1),this._popup.toggleMod("visible","yes",t),!1},_createPopup:function(){var t=home.getData("services-new.data");t.staticHost=this.params.staticHost;var e=$(b(S,{mods:{view:"default",target:"anchor",autoclosable:"yes"},directions:["bottom-left"],mix:"services-new__more-popup",mainOffset:0,secondaryOffset:0,content:b(vr,t)})).appendTo("body");BEM.DOM.init(e),this._popup=this.findBlockInside(e,"popup2"),this._popup.setAnchor(this.elem("more-popup-anchor")),this._popup.onFirst("beforeOpen",(function(){home.stat.logPath("show","services_new.popup.show"),home.stat.logDOMShow(e,{visibilityCheck:!1})})),this._popup.onFirst("beforeClose",(function(){home.stat.logPath("click","services_new.popup.close")})),this.bindTo(this.findElem(this._popup.domElem,"more-popup-close"),"click",this._togglePopup),this.bindKeyTo(this.findElem(this._popup.domElem,"more-popup-close"),"space enter",this._togglePopup),this._popup.on("beforeOpen",this._beforeOpenPopup.bind(this)),this._popup.on("beforeClose",this._beforeClosePopup.bind(this)),this._searchInput&&(this._searchItems=this._searchItems.add(this.findElem(this._popup.domElem,"item","search","yes")),this._updateUrls(this._searchInput.val()))},_updatePopupContentWidth:function(){this._popup.domElem.find(".services-new__more-popup-content").css("width",this.elem("content").width())},_updatePopupOffset:function(){var t=this.domElem.offset(),e=this.domElem.find(".services-new__item").offset(),i=$(".home-arrow__search"),n=parseInt(this._popup.domElem.css("padding-top"),10),o=parseInt(this._popup.domElem.css("padding-left"),10),s=e.left-t.left-o,r=e.top-t.top-n,a=i.length&&"before-arrow"!==this.getMod("position")?i.offset().top+i.height()-t.top+8:-1/0,c=Math.max(r,a);this._popup.setParams({mainOffset:c,secondaryOffset:Math.max(10-t.left,s)})},_recalcItems:function(){var t=this.elem("item"),e=this.elem("list").offset().top;t.toArray().forEach(function(t){var i=$(t),n=i.offset().top<e+60,o=i.data("id");n?(i.removeAttr("tabindex").removeAttr("aria-hidden"),home.stat.logDOMShow(i,{visibilityCheck:!1})):i.attr("tabindex","-1").attr("aria-hidden","true"),this._popup&&this._popup.domElem.find('[data-id="'+o+'"]').parent().css("display",n?"none":"")}.bind(this))},_beforeOpenPopup:function(){this._updatePopupContentWidth(),this._updatePopupOffset(),this._recalcItems(),this.elem("more").attr("aria-expanded","true"),this.channel("banner").trigger("overlapping",!0),this._isPopupOpened=!0},_beforeClosePopup:function(){this.elem("more").attr("aria-expanded","false"),this.channel("banner").trigger("overlapping",!1),this._isPopupOpened=!1}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("more","pointerclick",(function(t){this._togglePopup(),t.preventDefault()})),this.liveBindKey("more","space enter",(function(t){this._togglePopup(),t.preventDefault()})),!1}}),i("nV1K"),i("k/MW"),BEM.DOM.decl("desk-notif-card",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initDropDownMenu(),BEM.channel("desk-notif-card").on("ban",this._onBanMessage,this),this.elem("toggler").length&&(this.bindTo("toggler","pointerclick",this._togglerOnClick),this.bindKeyTo("toggler","space enter",(function(t){this._togglerOnClick(),t.preventDefault()}))),this.bindTo("mouseenter mouseleave",(function(t){this.toggleMod("hovered","yes","mouseenter"===t.type)}));var t=this.params.closeUrl;t&&this.bindTo("link","click",(function(e){var i=$(e.target),n="_blank"===i.attr("target")?void 0:i.attr("href");BEM.blocks["i-yabs-sender"].sendClose(e,t,n)})),this._isVisible()&&this.onShow();var e=this.findBlockOutside("rotate-items");e&&e.on("show-item",(function(t,e){this.domElem.closest(e.item).length&&this.onShow()}),this)},"inner-menu":function(){this.afterCurrentEvent(this._calcShift)},hovered:function(){this.afterCurrentEvent(this._calcShift)},focused:function(){this.afterCurrentEvent(this._calcShift)}},onShow:function(){if(!this.sentShowUrl){var t=this.params.linkNext;t&&BEM.blocks["i-yabs-sender"].sendShow(t),this.sentShowUrl=!0}home.stat.logDOMShow(this.domElem)},_togglerOnClick:function(){var t=this.hasMod("minified","yes");this.delMod("hovered"),this.toggleMod("minified","yes"),this._saveState(t?"expanded":"minified"),home.stat.logDOMShow(this.domElem),home.stat.logPath("click","notifications.mail.login.resize."+(t?"big":"small")),this.channel("desk-notif-card").trigger("toggled")},_initDropDownMenu:function(){this.bindTo("popup-action","pointerclick",(function(t){this.dropdown.delMod("opened"),this._onActionClick(t)})),this.bindKeyTo("popup-action","space enter",(function(t){"a"!==t.data.domElem.prop("tagName").toLowerCase()&&this.dropdown.delMod("opened"),this._onActionClick(t)})),BEM.blocks.dropdown2.on(this.domElem,"beforeOpen",(function(){this.dropdown=this.findBlockInside("dropdown2"),this.setMod("inner-menu","toggled"),home.stat.logDOMShow(this.elem("options"),{visibilityCheck:!1})}),this),BEM.blocks.dropdown2.on(this.domElem,"beforeClose",(function(){this.delMod("inner-menu")}),this)},_onBanMessage:function(t,e){e.name===this.params.name&&e.type===this.params.type&&this._onAction("ban")},_toggleExpanded:function(t){var e=this.hasMod("expanded"),i=e?"expand":"collapse",n=Object(r.a)("desktopNotifications.menu."+i),o=this.elem("action","type","expand");t=t||{},o.attr("title",n),o.attr("aria-label",n),this.toggleMod("expanded","yes"),this.toggleMod("minified","yes"),t.save&&this._saveState(e?"minified":"expanded"),this.domElem.removeAttr("data-statlog")},_sendAction:function(t){var e=this.params&&this.params.actions,i=e&&e[t];i&&i.href&&((new Image).src=i.href)},_hideCard:function(){BEM.channel("navi").trigger("closed",{item:this.domElem,delay:400}),this.setMod("state","hidden")},_isVisible:function(){var t=this.findBlockOutside("navi__item");if(t){if(!t.hasMod("hide","yes")&&!t.hasMod("disabled","yes"))return!0}else if(!this.domElem.closest(".rotate-items__item_hidden_focusable").length)return!0;return!1},_showClientCard:function(t){this.hasError||!this.hasMod("state","hidden")&&!this.hasMod("transparent","yes")?this._isVisible()&&home.stat.logDOMShow(this.domElem):(this.delMod("loading"),this.domElem.appendTo(this.domElem.parent()),this.delMod("state"),this.delMod(t?"position":"transparent"),setTimeout(function(){this.delMod(t?"transparent":"position"),home.stat.logDOMShow(this.domElem)}.bind(this),0))},_saveState:function(t){var e=this.params.actions&&this.params.actions[t]&&this.params.actions[t].href;e||(e=this.params.save&&this.params.save[t]),e&&setTimeout((function(){try{var t=$(".desk-notif-card__frame");t.length||(t=$('<iframe class="desk-notif-card__frame" name="desk-notif-card__frame" style="display:none"></iframe>'),$("body").append(t)),t.attr("src",e)}catch(i){}}),300)},_onAction:function(t){switch(t){case"toggle":break;case"close":case"ban":this._hideCard();break;case"expand":return void this._toggleExpanded({save:!0});case"settings":return}this._sendAction(t)},_onActionClick:function(t){var e=$(t.data.domElem),i=this.getMod(e,"type");"setup"!==i&&"settings"!==i&&t.preventDefault(),"ban"===i?BEM.channel("desk-notif-card").trigger("ban",{name:this.params.name,type:this.params.type}):i&&this._onAction(i,t)},_calcShift:function(){var t=this._isShifted();this.toggleMod("shifted","yes",t)},_isShifted:function(){return(this.hasMod("inner-menu")||this.hasMod("hovered")||this.hasMod("focused"))&&this.hasMod("actions","yes")}},{live:function(){return this.liveBindTo("action","pointerclick",(function(t){this._onActionClick(t)})),this.liveBindKey("action","space enter",(function(t){this._onActionClick(t)})),this.liveBindTo("focusin focusout",(function(t){var e=$("html").hasClass("utilityfocus");this.toggleMod("focused","yes","focusin"===t.type&&e)})),!1}}),i("Oy8Q"),i("EbQR"),i("YxSv"),i("nJe8"),i("+6Tr"),i("0RKT"),i("2A6R"),i("BwLZ"),i("l7b8"),BEM.DOM.decl({block:"desk-notif-card",modName:"rates",modVal:"yes"},{onSetMod:{js:{inited:function(){this.initListeners()}}},destruct:function(){var t=home.getData("inline-stocks.xivas")||[],e=this._onXivaEvent,i=this._onStocksChangedEvent;BEM.channel("stocks").un("changed",i),t.forEach((function(t){BEM.blocks["i-xiva"].stopListen(t.ch,e)}))},initListeners:function(){var t=home.getData("inline-stocks.xivas")||[],e=this,i=this._onXivaEvent=function(t){e.onXivaEvent(t.dt)},n=this._onStocksChangedEvent=function(t,i){e.onXivaEvent(i)};t.forEach((function(t){BEM.blocks["i-xiva"].listen(t.ch,t.ts,i)})),BEM.channel("stocks").on("changed",n)},onXivaEvent:function(t){if(t.id===this.params.rateId){t=t.data&&t.data[0]||t.data;try{var e=this.params.precision,i=t["value"+e]||t.value,n=t["delta"+e]||t.delta,o=Number((n||"").replace("","-").replace(/[+%]/g,"").replace(",","."));this.elem("rate-info-value").text(i),this.elem("rate-info-delta").text(n);var s=o>0?"up":"down";if(this.setMod(this.elem("rate-info"),"delta",s),t.history){var a=b(Mr,{values:t.history.reverse()});this.findElem("rate-image").replaceWith(a)}}catch(r){home.error.logError({block:"desk-notif-card_rates",method:"onXivaEvent",meta:{id:this.params.rateId}},r)}}}}),BEM.DOM.decl({block:"desk-notif-card",modName:"route",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.routes={},this.placeholder={gohome:this.elem("route-gohome"),gowork:this.elem("route-gowork")},this.setMod("loading","yes"),this._changeDirectionTo(this._getDirection()),this.hasMod("confirm-promo")&&(this.bindTo(this.elem("points-confirm","action","open-popup"),"click",this._onPointsConfirm),this.bindKeyTo(this.elem("points-confirm","action","open-popup"),"space enter",this._onPointsConfirm),this.bindTo(this.elem("points-confirm","action","reject"),"click",this._onPointsReject),this.bindKeyTo(this.elem("points-confirm","action","reject"),"space enter",this._onPointsReject),this.params["user-points"].promoMode||this._saveState("full"))},direction:function(t,e,i){this.findElem(this.findElem("route-"+e),"link").attr("tabindex","0"),i&&this.findElem(this.findElem("route-"+i),"link").attr("tabindex","-1")},hovered:{yes:function(){this.hasMod("confirm-promo")&&this._loadUserPointsBundle({preload:!0})}}},_changeDirectionTo:function(t){return this.direction=t,this.setMod("direction",this.direction),this.from="gohome"===t?"gowork":"gohome",this._getRouterData().then(this._renderRoute.bind(this)).then(this._showRoute.bind(this)).then(this._showClientCard.bind(this,this.isShowWithoutMotion)).fail(this._errorHandler.bind(this))},_errorHandler:function(t){this.hasError=!0,this.setMod("loading","no");var e=this.from;this.from=this.direction,this.direction=e,home.stat.logPath("tech","notifications.route.error"+t),this._hideCard()},_switchDirection:function(){return this._changeDirectionTo(this.from).then(this._saveDirection.bind(this)).then((function(){BEM.channel("navi").trigger("height-change",{delay:150})})),!1},_saveLastDirection:function(t){home.localStorage&&!home.localStorage.disabledLS&&home.localStorage.setItem("traffic."+this.params.id+".lastDirection",t)},_saveDirection:function(){var t;home.localStorage&&!home.localStorage.disabledLS&&(t="gowork"===this._getAutoDirectionTime()?this.__self._getWorkEnd():this.__self._getHomeEnd(),home.localStorage.setItem("traffic."+this.params.id,JSON.stringify({direction:this.direction,validUntil:t})))},_showRoute:function(){this.elem("route-placeholder").height(this.placeholder[this.direction].height()),setTimeout(function(){this.setMod("loading","no")}.bind(this),50)},_renderRoute:function(){var t,e=this.direction,i=this.placeholder[e],n=this.routes[e],o="";n.jamsNumber>6?t="red":n.jamsNumber>3?t="yellow":n.jamsNumber>=0?t="green":n.isBlocked&&(t="blocked"),t&&(o="desk-notif-card__icon_traffic_"+t);var s=n.title+" "+n.timeText,r=n.otherWayShow&&n.inBypassText.replace("%s",n.otherWayTimeBenefitText);i.html(b(yr,{title:b(Ot,{href:n.href,mix:" desk-notif-card__link",attrs:{"data-statlog":"notifications.route."+e+".card",tabindex:-1},mods:{black:"yes",pseudo:"yes"},content:s},{}),titleDesc:{mix:"desk-notif-card__style_text"},details:n.otherWayShow?b(Ot,{href:n.aroundHref,content:r,mix:" desk-notif-card__details-link",attrs:{"aria-label":r,"data-statlog":"notifications.route."+e+".bypass"},mods:{pseudo:"yes"}},{}):"",iconClass:o}))},_getDirection:function(){var t,e="traffic."+this.params.id;if(home.localStorage&&!home.localStorage.disabledLS){t=home.localStorage.getItem(e+".lastDirection");var i=home.localStorage.getItem(e);if(i){var n=JSON.parse(i);if(home.now().getTime()<n.validUntil)return this.isShowWithoutMotion=!0,n.direction}}var o=this._getAutoDirection();return t===o?this.isShowWithoutMotion=!0:this._saveLastDirection(o),o},_getRouterData:function(){return this.__self._getRouterDataOrCachedRawData(this.params.apiUrls[this.direction]).then(function(t){var e,i;t.isBlocked?this.routes[this.direction]={title:this.params.pointTitles[this.direction],timeText:t.description,href:t.direct&&t.direct.mapUrl,isBlocked:!0}:(t.direct.isBlocked?e=t.bypass:(e=t.direct,i=t.bypass),this.routes[this.direction]={title:this.params.pointTitles[this.direction],timeText:e.timeText,inBypassText:i&&i.label,otherWayTimeBenefitText:i&&i.timeTextDelta,jamsNumber:t.jamsRate,href:e.mapUrl,aroundHref:i&&i.mapUrl,otherWayShow:!!i})}.bind(this))},_getAutoDirection:function(){return this.params.direction?this.params.direction:this._getAutoDirectionTime()},_getAutoDirectionTime:function(){if(this.params.directionTime)return this.params.directionTime;var t=home.now().getHours();return t<15&&t>=3?"gowork":"gohome"},_loadUserPointsBundle:function(t){return t=t||{},this._userPointsBundle||(this._userPointsBundle=home.bundles.load("user-points"),this._userPointsBundle["catch"](function(){this._userPointsBundle=null,home.error.logError({block:this.__self.getName(),method:"_loadUserPointsBundle",message:"Failed to load bundle"}),t.preload||(this.setMod(this.elem("points-confirm-wrapper"),"load-failed","yes"),setTimeout(function(){this.delMod(this.elem("points-confirm-wrapper"),"load-failed")}.bind(this),300))}.bind(this))),this._userPointsBundle},_onPointsConfirm:function(){return this._loadUserPointsBundle().then(function(){this._switchPromoToMinMode();var t=BEM.blocks["user-points"];t.on("hide",this._onUserPointsClose,this),t.on("points",this._onUserPointsUpdate,this),t.open(this.params["user-points"])}.bind(this)),!1},_onPointsReject:function(){return this._hideCard(),this._saveState(""),this._sendAction("ban"),!1},_switchPromoToMinMode:function(){this.delMod(this.findElem("points-screen","screen","big"),"visibility"),this.setMod(this.findElem("points-screen","screen","small"),"visibility","visible"),this._saveState("min"),home.stat.logDOMShow(this.domElem)},_onUserPointsClose:function(){BEM.blocks["user-points"].un("hide",this._onUserPointsClose,this),BEM.blocks["user-points"].un("points",this._onUserPointsUpdate,this)},_onUserPointsUpdate:function(t,e){var i=BEM.blocks["i-global"],n={GeohelperHost:i.param("geohelperHost"),MordaZone:i.param("mordaZone"),Locale:i.param("locale")};this.params.apiUrls={gohome:b(Cr,{start:e.work,finish:e.home,from:"notif"},n),gowork:b(Cr,{start:e.home,finish:e.work,from:"notif"},n)},this.delMod("confirm-promo"),this.setMod("updating","yes"),this._changeDirectionTo(this._getDirection()).then(function(){this.delMod("updating")}.bind(this)),this._saveState("")},_saveState:function(t){var e=this.params["user-points"];e.promoMode!==t&&""!==e.promoMode&&(e.csl&&((new Image).src=e.csl+"&empty=1&exdp="+t),e.promoMode=t)}},{_getWorkEnd:function(){var t=home.now();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),15).getTime()},_getHomeEnd:function(){var t=home.now();return t.getHours()<3?new Date(t.getFullYear(),t.getMonth(),t.getDate(),3).getTime():new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,3).getTime()},_getRouterDataOrCachedRawData:function(t){var e=this,i=e.cache[t];return i&&i.timestamp>home.now().getTime()?$.when(JSON.parse(i.data)):$.ajax({method:"get",url:t,cache:!1,timeout:1e4}).then((function(i){if(!i||!i.direct)return $.Deferred().reject("parseData").promise();if(!i.direct.time||i.bypass&&!i.bypass.time)return $.Deferred().reject("zeroResponse").promise();var n=i.bypass&&i.bypass.timeText;return i.isBlocked||i.direct.timeText||n?(e.cache[t]={data:JSON.stringify(i),timestamp:home.now().getTime()+3e5},i):$.Deferred().reject("parseData").promise()}),(function(e,i,n){return home.error.logAjaxError({block:"desk-notif-card",message:"notif-card._getRouterDataOrCahedRawData: ajax",url:t,source:"geohelper/router"},e,i,n),$.Deferred().reject("getData").promise()}))},cache:{}}),i("Hmaj"),BEM.DOM.decl({block:"desk-notif-card",modName:"domik",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initMailCountUpdate()}},_initMailCountUpdate:function(){this.params.uid&&this.channel("mail").on("update",function(t,e){this.params.uid===e.uid&&this._updateMailCounter(t,e)}.bind(this))},_updateMailCounter:function(t,e){this.elem("mail-count").text(e.value||Object(r.a)("desktopNotifications.mail.empty"))}}),BEM.DOM.decl({block:"desk-notif-card",modName:"promo",modVal:"yes"},{onSetMod:{js:function(){if(this.__base.apply(this,arguments),Qe(this.elem("style-text"),4,"desk-notif-card_promo_yes"),this.params.scroll){if(!$("."+this.params.scroll).length)return void home.error.logError({block:"desk-notif-card_promo_yes",method:"desk-notif-card:onSetMod:js",message:"Block not found"});this.bindTo("link","click",this._onClick),this.bindKeyTo("link","space enter",this._onClick),this.params.doScroll&&this._scroll()}}},_onClick:function(t){this._scroll(),t.preventDefault()},_scroll:function(){var t=$("."+this.params.scroll),e=$(".media-grid"),i=e.bem("media-grid");t.closest(e).length&&i.hasMod("collapsed")&&i.delMod("collapsed"),$("html,body").stop().animate({scrollTop:t.offset().top-40},"slow")}}),i("y/To"),BEM.DOM.decl({block:"desk-notif-card",modName:"etrains",modVal:"yes"},{onSetMod:{js:function(){if(this.__base.apply(this,arguments),this._widgetId=this.params.widgetId,this.params.isTuned?this._initClientSchedule():this._initHeightAnimation(),this.params.isWidgetMode&&this._widgetId){var t=$("#wd-wrapper-"+this.params.widgetId);t.length?(this._widget=t.bem("widget"),this._bindWidgetEvents()):home.error.logError({block:"desk-notif-card",method:"desk-notif-card:onSetMod:js",message:"Etrains widget not found"})}this._hasNavi=!!$(".navi").length}},_bindWidgetEvents:function(){this.bindToWin("widgetSettingsTuned",this._onWidgetTuned),this.bindToWin("widgetSettingsDropped",this._onWidgetDropped)},_onAction:function(t){"setup"===t&&this.params.isWidgetMode?this._showWidgetPreferences():this.__base.apply(this,arguments)},_onWidgetTuned:function(t,e){t.id===this._widgetId&&e&&"save"===e.state&&window.location.reload()},_onWidgetDropped:function(t){t.id===this._widgetId&&window.location.reload()},_showWidgetPreferences:function(){$(".b-wdgt-preferences").bem("b-wdgt-preferences").show(this._widget)},_initClientSchedule:function(){var t=this.params;if(t.widgetHost){var e=t.widgetHost+"widgets/suburban/next_trains",i=t.raspData;i.locale=BEM.blocks["i-global"].param("locale"),$.ajax({url:e,data:i,context:this,dataType:"jsonp",success:this._onSuccess,error:this._onError})}},_onError:function(t,e,i){home.error.logAjaxError({block:"desk-notif-card",message:"desk-notif-card__etrains._initClientSchedule: ajax",source:"widget_store"},t,e,i),this._drawingFailed()},_onSuccess:function(t){if(t&&t.routes_forward&&t.routes_forward.length||t.routes_backward&&t.routes_backward.length)if(t){var e=b(Sr,{from:t.from.name,to:t.to.name}),i=b(Br,{from:t.routes_forward,to:t.routes_backward,host:this.params.host});this.elem("etrains-placeholder").empty().append(e,i),BEM.channel("navi").trigger("height-change",{delay:0}),this._showClientCard(!0),this._initHeightAnimation(),home.stat.logDOMShow(this.domElem)}else this._drawingFailed();else this._drawingFailed()},_drawingFailed:function(){this._hideCard()},_switchDirection:function(t){t.preventDefault(),this.toggleMod("direction","reverse"),this._updateWrapperHeight()},_updateWrapperHeight:function(){if(this._hasDifferentHeight){var t=this.elem("etrains-list-from-wrapper").height(),e=this.elem("etrains-list-to-wrapper").height(),i=Math.max(t,e);this.elem("etrains-list-wrapper").height(i),this._hasNavi&&BEM.channel("navi").trigger("height-change",{delay:150})}},_initHeightAnimation:function(){this.elem("etrains-list-from").height()!==this.elem("etrains-list-to").height()&&(this._hasDifferentHeight=!0,this.setMod("height-animation","yes"))}}),i("ayR3"),i("qVEr"),BEM.DOM.decl({block:"desk-notif-card",modName:"social-alert",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),Qe(this.elem("style-text"),4,"desk-notif-card_social-alert_yes"),this.params.markAsReadParams&&(this.bindTo("link","click",this._markAsRead),this.bindKeyTo("link","space enter",this._markAsRead))}},_markAsRead:function(){var t=this.params.markAsReadParams;this._sendRequest({method:"post",url:t.read_url,source:"bell",headers:{"X-CSRF-Token":t.csrf_token}}),this._sendRequest({method:"put",url:t.read_url_legacy,source:"bell_legacy"})},_sendRequest:function(t){$.ajax({method:t.method,url:t.url,xhrFields:{withCredentials:!0},headers:t.headers,dataType:"json",timeout:1e4}).asPromise()["catch"](function(e){home.error.logError({block:this.__self.getName(),method:"_sendRequest",source:t.source},e)}.bind(this))}}),BEM.DOM.decl({block:"desk-notif-card",modName:"covid",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t="desk-notif-card_covid_yes";Qe(this.elem("covid-detail"),4,t)}}}),i("CCCR"),i("6vhi"),i("DG8K"),i("yFtQ"),BEM.DOM.decl({block:"desk-notif-card",modName:"market",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.params.endDate&&this._checkFlashDiscountTime(this.params.endDate),Qe(this.elem("market-desc"),2,"desk-notif-card_market_yes")}},_checkFlashDiscountTime:function(t){var e=setInterval(function(){(function(t){var e=(new Date).getTime(),i=Number(new Date(t))-e,n=Math.floor(i/36e5),o=Math.floor(i%36e5/6e4),s=Math.floor(i%6e4/1e3),r=n+":"+("0"+o).slice(-2)+":"+("0"+s).slice(-2);return i<=0&&(r="00:00:00"),{distance:i,time:r,hours:n,minutes:o}})(t).distance<24e4&&(this._hideFlashDiscount(),clearInterval(e))}.bind(this),1e3)},_hideFlashDiscount:function(){this.setMod(this.elem("market-content-with-flash-discount"),"ended")}}),i("zDJ7"),i("4oEA"),BEM.DOM.decl("media-service",{onSetMod:{js:function(){this._calcOverflow(this.domElem),this._initMenuEvents()}},_onData:function(){this._calcOverflow(this.domElem)},_calcOverflow:function(t){Qe(t,this.__self.TEXT_OVERFLOW_LINES,this.__self.getName())},_initMenuEvents:function(){this._getMenuId()&&setTimeout(this._createMenuChecked.bind(this),0)},_getMenuId:function(){return this.domElem.closest("[data-blockname]").data("blockname")},_createMenuChecked:function(){!this._control&&this.domElem&&this._createMenu()},_remove:function(){this._collapse(function(){this._fireEvent("remove")}.bind(this))},_fireEvent:function(t){this.channel("media-service").trigger(t,{$elem:this.domElem,layoutName:this._getMenuId()})},_collapse:function(t){var e=this.domElem,i=e.outerHeight();this.setMod("collapsed","yes"),e.height(i),this.afterCurrentEvent((function(){e.addClass("media-service_collapsed_yes").css("height","").onceAnimationEnd("transition",300,(function(){t(),BEM.blocks["i-reposition-event"].trigger()}))}))},_createMenu:function(){var t=this._getMenuId();t&&(this._control=BEM.blocks["widget-control"].create(this.domElem,{name:t,removeOnHide:!0,items:{hide2:!0},customItems:this._getMenuCustomItems()}),this._control.on({hide:this._remove.bind(this,!1)},this))},_getMenuCustomItems:function(){return[]}},{live:!0,TEXT_OVERFLOW_LINES:2}),i("9mXv"),BEM.DOM.decl("dist-popup",{onSetMod:{js:function(){this.__base(),this._initPopup()}},_initPopup:function(){setTimeout(function(){BEM.blocks["i-message-locker"].acquireLock("dist-popup",this._hide.bind(this)).then(function(){this._onShow()}.bind(this),this.destruct.bind(this))}.bind(this),this.__self.SHOW_TIMEOUT)},_getPopupPosition:function(){return{top:12,left:18}},_bindEvents:function(){this.bindTo("no close","click",this._onNoClick),this.bindKeyTo("close","space enter",this._onNoClick),this.bindTo("yes","click",this._onYesClick)},_onShow:function(){var t=this.params,e=t.counters,i=$("html").hasClass("i-ua_inlinesvg_yes")&&t.icons.icon_svg||t.icons.icon;this.elem("image-wrapper").prepend(b(Ar,{image:i})),this.popup=this.findBlockOn("popup").show(this._getPopupPosition()),this.popup.on({"before-hide":this._onBeforeHide,hide:this._onHide},this),this.popup._unbindFocusEvents(),BEM.blocks["i-visibilitychange"].waitForVisible(function(){this._sendCounter(e.show)}.bind(this)),this._bindEvents()},_onBeforeHide:function(t,e){e&&["esc-key","close-click"].indexOf(e.source)>-1&&this.afterCurrentEvent(this._countCancel)},_onHide:function(){BEM.blocks["i-message-locker"].releaseLock("dist-popup"),setTimeout(this.destruct.bind(this),this.__self.DESTRUCT_TIMEOUT)},_onYesClick:function(){this._closeFlag(this.params.close_url),this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&BEM.blocks["i-bannerid"].save(this.params.bannerid))},_onNoClick:function(){return this.popup.hide(),this._countCancel(),!1},_hide:function(){this.popup&&this.popup.hide()},_countCancel:function(){this._closeFlag(this.params.close_url),this.params.quarantineUrl&&this._closeFlag(this.params.quarantineUrl),this._sendCounter(this.params.counters.no),window.home.gaCounter.trackCancelPopup()},_closeFlag:function(t){t&&((new Image).src=t)},_sendCounter:function(t){t&&t.length&&t.forEach((function(t){"path"===t.type?home.stat.logPath("click",t.content):"image"===t.type?(new Image).src=t.content:"show"===t.type&&home.stat.logPath("show",t.content)}))},destruct:function(){return this.popup&&(this.popup.destruct(),this.popup=null),this.__base.apply(this,arguments)}},{SHOW_TIMEOUT:1e3,DESTRUCT_TIMEOUT:1e3}),i("IVQ+"),i("1PLx"),i("zAsB"),i("e+S3"),i("pQu5"),i("0SjY"),i("kVI9");var ra=F((function(){return{theme:"normal",size:"s"}}));function aa(t,e,i){var n=t.item;return"<div class='b-wdgt-preferences__pref-col'>"+E.a.oneElem(i(Fr,{mods:na(na({},i(ra)),{},{checked:"true"===n.value?"yes":"",lines:"multi"}),label:n.label,checkboxAttrs:{value:1,name:n.name},stat:""}))+"</div>"}function ca(t,e,i){var n=t.item;return"<div class='b-wdgt-preferences__pref-col b-wdgt-preferences__pref-col_labeled_yes'>"+(E.a.oneElem("<span class='b-wdgt-preferences__label'>"+E.a.oneElem(n.label)+"</span>")+E.a.oneElem(i(Xr,{name:n.name,mods:{theme:"normal",size:"s",layout:"fixed",width:"200"},js:{live:!0,elemPopupMods:{width:200}},content:[{block:"button",content:""},{elem:"control",content:n.options.map((function(t){var e=String(t.value);return{elem:"option",attrs:{value:e,selected:e===(n.value||n["default"])?"selected":void 0},content:t.label}}))}]})))+"</div>"}function la(t){var e=t.item;return"<div class='b-wdgt-preferences__comment-cell'>"+E.a.oneElem("<span class='b-wdgt-preferences__comment-title'>"+E.a.oneElem(e.value)+"</span>")+"</div>"}function ha(t,e,i){var n=t.item;return"<div class='b-wdgt-preferences__pref-col b-wdgt-preferences__pref-col_labeled_yes'>"+(E.a.oneElem("<span class='b-wdgt-preferences__label'>"+E.a.oneElem(n.label)+"</span>")+E.a.oneElem(i(ea,{name:n.name,value:n.value,mods:{size:"xs",view:"classic",theme:"normal"},content:n.options.map((function(t){return{elem:"radio",content:t.label,controlAttrs:{value:t.value}}}))})))+"</div>"}function da(t,e,i){var n=t.item;return"<div class='b-wdgt-preferences__pref-col'>"+(E.a.oneElem("<span class='b-wdgt-preferences__label'>"+E.a.oneElem(n.label)+"</span>")+E.a.oneElem(i(Wr,{name:n.name,selected:n.value,groups:n.groups,options:n.options,mods:i(ra)})))+"</div>"}function ua(t,e,i){var n=t.item;return"<table class='b-wdgt-preferences__pref-table'>"+(E.a.oneElem("<td class='b-wdgt-preferences__pref-td b-wdgt-preferences__pref-td_labeled_yes'>"+E.a.oneElem("<span class='b-wdgt-preferences__label'>"+E.a.oneElem(n.label)+"</span>")+"</td>")+E.a.oneElem("<td class='b-wdgt-preferences__pref-td'>"+(E.a.oneElem(i(zr,{mods:{size:"s",suggest:"yes"},js:{live:!1,dataprovider:{name:"dataprovider-geo",url:"https://suggest-maps."+document.domain.replace(/[\w\d-.]+\.(yandex\.[.\w]+)/,"$1")+"/suggest-geo"},popupMods:{fade:"yes"}},control:{attrs:{value:n.geoname}}}))+E.a.oneElem("<input "+w()({"class":"input__geo",type:"hidden",name:n.name,value:n.value||n["default"]})+">"))+"</td>"))+"</table>"}function ma(t,e,i){var n=t.item;return"<table class='b-wdgt-preferences__pref-table'>"+(E.a.oneElem("<td class='b-wdgt-preferences__pref-td b-wdgt-preferences__pref-td_labeled_yes'>"+E.a.oneElem("<span class='b-wdgt-preferences__label'>"+E.a.oneElem(n.label)+"</span>")+"</td>")+E.a.oneElem("<td class='b-wdgt-preferences__pref-td'>"+E.a.oneElem(i(zr,{mods:{size:"s"},name:n.name,value:String(n.value||n["default"])}))+"</td>"))+"</table>"}function pa(t,e,i){return"<form class='b-wdgt-preferences__data'>"+E.a.oneElem("<div class='b-wdgt-preferences__table'>"+E.a.oneElem(t.list.filter((function(t){return"name"in t&&t.name})).map((function(t){var e="";if("hidden"===t.type?e=i(sa,{item:t}):"bool"===t.type||"boolean"===t.type?e=i(aa,{item:t}):"list"===t.type?e=i(ca,{item:t}):"comment"===t.type?e=i(la,{item:t}):"radio-button"===t.type?e=i(ha,{item:t}):"multi"===t.type?e=i(da,{item:t}):"geoselect"===t.type||"geo"===t.type?e=i(ua,{item:t}):"text"===t.type&&(e=i(ma,{item:t})),e)return"<div class='b-wdgt-preferences__pref'>"+E.a.oneElem(e)+"</div>"})))+"</div>")+"</form>"}function fa(t){t.mix?t.mix+=" i-bem":t.mix="i-bem";var e="";return t.subtitle&&(e="<span class='b-autocomplete-item__details b-autocomplete-item__full'>"+E.a.oneElem(" (".concat(home.htmlFilter(t.subtitle),")"))+"</span>"),"<li "+w()({"class":home.getBEMClassname("b-autocomplete-item",t),"data-bem":home.getBEMParams({"b-autocomplete-item":{}}),"data-id":t.geoid})+">"+(E.a.oneElem("<span class='b-autocomplete-item__reg'>"+E.a.oneElem(home.htmlFilter(t.title))+"</span>")+E.a.oneElem(e))+"</li>"}function _a(t){t.mix?t.mix+=" i-bem":t.mix="i-bem";var e={addressLine:t.name,addressLineShort:t.name_short,coordinates:[t.lat,t.lon]},i=function(t,e){var i,n=[],o=0,s=e.sort((function(t,e){return t[0]-e[0]})),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return a||function(){for(var e,i=/&(#\d+|#x[a-f\d]+|\w+);/gi;e=i.exec(t);)r.push(e[0]),t=t.replace(e[0],"?")}(),s.forEach((function(e){i=o>e[0]?o:e[0],n.push({elem:"span",content:c(t.slice(o,i))}),n.push({elem:"em",content:c(t.slice(i,o=e[1]))})})),n.push({elem:"span",content:c(t.slice(o))}),n}(home.htmlFilter(t.data[1].name),t.data[1].hl).map((function(t){return"<span "+w()({"class":"b-autocomplete-item__".concat(t.elem)})+">"+E.a.oneElem(t.content)+"</span>"}));return"<li "+w()({"class":home.getBEMClassname("b-autocomplete-item",t),"data-bem":home.getBEMParams({"b-autocomplete-item":e})})+">"+E.a.oneElem(i)+"</li>"}function ga(t,e){var i="div";t.tag&&(i=t.tag);var n=va(t.content,e),o=home.getBEMClassname((t.block||e||"")+(t.elem?"__"+t.elem:""),t);t.js&&(o+=" i-bem");var s,r,a,c={};if(c["class"]=o,t.js&&(t.block||e)){var l=t.block||e||"";t.elem&&(l+="__"+l),c["data-bem"]=home.getBEMParams((s={},r=l,a=t.js,r in s?Object.defineProperty(s,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[r]=a,s))}return"<"+i+home.getAttributes(c)+">"+n+"</"+i+">"}function va(t,e){return t?Array.isArray(t)?t.map((function(t){return ga(t,e)})).join(""):ga(t,e):""}BEM.DOM.decl("b-wdgt-preferences",{onSetMod:{js:function(){var t=this;this.popup=this.findBlockOn(this.domElem,"popup"),this.popup.delMod("position"),this.bindTo("save","click",this.save),this.bindTo("cancel","click",this.cancel),this.bindTo("reset","click",this.reset),Widget.Init({hidePreferencesHandler:this.changeThis((function(){this.hide()}))}),this.bindToWin("widgetSettingsTuned",(function(e){t.widget&&e.id===t.widget.getId()&&t.widget.markChanged(!1,!0)})),this.popup.on("show",(function(){this._skipReturnFocus=!0})),this.popup.on("hide",(function(){this.channel("widget").trigger("hidePreferences",{elem:t.widget}),t._resetPopup()})),this.popup.on("show",(function(){this.channel("widget").trigger("showPreferences",{elem:t.widget})})),this.baseTitle||(this.baseTitle=this.elem("head").text())}},show:function(t,e){this.widget=t,this.callback=e||function(){},this.setMod("loading","yes"),BEM.DOM.destruct(this.elem("form"),!0),Widget.Framework.showEditForm(t.getId(),this.elem("form"),this.changeThis(this.updateForm)),this.popup.show(this._setPopupParams()),this.bindToWin("resize",$.debounce(this.changeThis((function(){this.popup.repaint(this._setPopupParams())})),100))},hide:function(){this.widget=null,this.callback=null,this.popup.hide()},_resetPopup:function(){this.elem("head").text(this.baseTitle),this.unbindFromWin("resize")},_getPopupPos:function(){var t=this.domElem.width(),e=this.domElem.height(),i=$(window).height();return{left:($(window).width()-t)/2,top:Math.max(50,$(window).scrollTop()+(i-e)/2)}},_setPopupParams:function(){var t=this._getPopupPos();return this.popup.params.top=t.top,this.popup.params.left=t.left,t},updateForm:function(t){var e;t&&(this.delMod("loading"),t.title&&this.elem("head").text(t.title),t.form?e=t.form:t.prefs&&(e=this.buildForm(t.prefs)),e?(BEM.DOM.update(this.elem("form"),e),BEM.DOM.init(this.elem("form")),this.elem("controls").show()):this.elem("controls").hide(),this.popup.hasMod("visibility","visible")&&this.popup.repaint(this._setPopupParams()))},buildForm:function(t){return b(pa,{list:t})},save:function(){for(var t=this.elem("form").find("form")[0],e={},i=0;i<t.length;i++){var n=t[i];n.name&&("checkbox"===n.type?e[n.name]=!!n.checked:"radio"===n.type?n.checked&&(e[n.name]=n.value):e[n.name]=n.value)}this.widget.markChanged(!1,!0),this.widget.getInstance().saveValues(e,this.callback.bind(this.widget)),this.hide()},cancel:function(){this.hide()},reset:function(){this.widget.getInstance().dropValues(this.callback.bind(this.widget)),this.hide()}},{live:!0}),i("2cTF"),i("1cYz"),i("+iT6"),i("JddL"),i("b7em"),i("TJmz"),i("nKr7"),i("/4SB"),i("M0/h"),i("A4gj"),i("4opE"),i("vhCX"),i("pJ9q"),i("qtrq");var ba={popup:function(t){var e="",i=t.mix&&"object"==typeof t.mix&&t.mix[0];return i&&i.js&&(e=(i.block||"")+(i.elem?"__"+i.elem:"")),b(Le,{mods:t.mods,js:t.js,mix:t.mix,jsMix:i&&i.js?home.getBEMParams(e)+":"+home.getBEMParams(i.js):null,content:va(t.content&&!Array.isArray(t.content)&&"content"===t.content.elem?t.content.content:void 0,"popup")})},"b-autocomplete-item":function(t){return t.mods&&"geo"===t.mods.type&&t.geoid&&t.title?b(fa,t):t.mods&&"address"===t.mods.type&&t.name&&t.name_short&&t.lat&&t.lon&&t.data?b(_a,t):(home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown b-autocomplete-item: "+String(t.mods&&t.mods.type||"unknown")}),"")},select:function(t){return"item"===t.elem?b(Jr,t):(home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown select: "+(t.elem||"unknown")}),"")}};function ya(t){if(t.block&&t.block in ba){var e=t.block;return ba[e](t)}return home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown block: "+(t.block||"unknown")}),""}window.BEMHTML=window.BEMHTML||{apply:function(t){try{return function(t){return Array.isArray(t)?t.map(ya).join(""):ya(t)}(t)}catch(e){return home.error.logError({block:"i-bemhtml-wrapper",method:"apply"},e),""}}},i("3EtG"),i("LzIu"),i("NpOj"),i("b37U"),BEM.DOM.decl("media-grid",{ADB_BLOCKS:{rtb_inserts:home.cls.full("rtb-inserts_place_1"),"rtb-inserts":home.cls.full("rtb-inserts_place_1"),rtb_inserts2:home.cls.full("rtb-inserts_place_2"),rtb_inserts3:home.cls.full("rtb-inserts_place_3"),rtb_inserts4:home.cls.full("rtb-inserts_place_4"),"rtb-inserts2":home.cls.full("rtb-inserts_place_2"),"rtb-inserts3":home.cls.full("rtb-inserts_place_3"),"rtb-inserts4":home.cls.full("rtb-inserts_place_4")},onSetMod:{js:function(){this._notInitedBlocks=this.params.layout,this._notShowedBlocks=this._notInitedBlocks.slice(),this._sendRealShowDebounced=$.debounce(this._sendRealShow,400,this),this._onScroll(null,BEM.DOM.win.scrollTop()),this.channel("i-reposition-event").on("reposition",this._onScroll,this),this.channel("media-service").on("remove",(function(t,e){var i=e.$elem.closest(this.findElem("row"));BEM.DOM.destruct(i)}),this);var t=BEM.blocks["blender-logger"];t.initBlock(),t.updateMediaRows(),t.sendStat();var e=this.elem("media-content")[0];if(e){var i=Math.floor(function(t){return function(t,e){var i=t.getBoundingClientRect();return Math.max(Math.min(e.clientHeight,i.bottom)-Math.max(0,i.top),0)}(t,document.documentElement)}(e));home.stat.logPath("tech","mediafooter.initial_visibility(id="+i+")")}}},_getDom:function(t){return this.elem("row").filter('[data-blockname="'+t+'"]').children().eq(0)},_getBlock:function(t,e){if(!t.hasClass("i-bundle-bem"))return this.findBlockOn(t,b(Vs,e))},_requestInit:function(t){var e=this;this._notInitedBlocks=this._notInitedBlocks.filter((function(i){var n=e.ADB_BLOCKS[i]||i,o=this._getDom(n);return o.length?t<o.offset().top||(this.setMod("visible","yes"),this._getBlock(o,n),home.stat.logDOMShow(o,{convertCounters:function(t){return e.ADB_BLOCKS[i]?t.replace(e.ADB_BLOCKS[i],i):t}}),void this.setMod(o.closest("[data-blockname]"),"visible","yes")):(home.error.logError({block:"media-grid",method:"_requestInit",message:"Child not found: "+i}),!1)}),this)},_sendRealShow:function(t,e){this._notShowedBlocks=this._notShowedBlocks.filter((function(i){var n=this._getDom(i);if(!n.length)return!1;var o=n.height(),s=n.offset().top,r=s+o;if(!(t<=s&&r<=e||s<=t&&r<=e&&(r-t)/o>.5||t<=s&&e<=r&&(e-s)/o>.5))return!0;var a=this._getBlock(n,i);a&&a.setMod("visible","yes"),home.stat.logPath("show",i+".realshow")}),this),this._notShowedBlocks.length||this.channel("i-reposition-event").un("reposition",this._onScroll,this)},_onScroll:function(t,e){var i=window.innerHeight+e;this._requestInit(i),this._sendRealShowDebounced(e,i),!this._shown&&i>this.domElem.offset().top+this.__self.MIN_VISIBLE_HEIGHT&&(this._shown=!0,home.stat.logPath("show","mediafooter.realshow"))}},{MIN_VISIBLE_HEIGHT:62});var wa={show:{entity:"card",eventType:"show"},click:{entity:"card",eventType:"click"},swipe_to_site:{entity:"card",eventType:"click"},share:{entity:"share",eventType:"click"},"comments:counter_click":{entity:"comments",eventType:"click"},"comments:counter_show":{entity:"comments",eventType:"show"},"donate:click":{entity:"donate",eventType:"click"},"donate:show":{entity:"donate",eventType:"show"},"feedback:cancel_more":{entity:"feedback_cancel_more",eventType:"click"},"feedback:cancel_less":{entity:"feedback_cancel_less",eventType:"click"},"feedback:more":{entity:"feedback_more",eventType:"click"},"feedback:less":{entity:"feedback_less",eventType:"click"},"feedback:favourite":{entity:"feedback.favourite",eventType:"click"},"feedback:cancel_favourite":{entity:"feedback.cancel_favourite",eventType:"click"},"feedback:block":{entity:"feedback.block",eventType:"click"},"feedback:cancel_block":{entity:"feedback.cancel_block",eventType:"click"},"preview:click":{entity:"preview",eventType:"click"},"preview:show":{entity:"preview",eventType:"show"},"favourite_button:show":{entity:"favourite_button",eventType:"show"},"favourite_button:click":{entity:"favourite_button",eventType:"click"},"custom_user_feedback:show":{entity:"custom_user_feedback",eventType:"show"},"complain:click":{entity:"complain",eventType:"click"},"complain:show":{entity:"complain",eventType:"show"},select:{entity:"iceboarding",eventType:"click"},"iceboarding:show":{entity:"iceboarding",eventType:"show"},"ad_feed:show":{entity:"ad_feed",eventType:"show"},"ad_feed:click":{entity:"ad_feed",eventType:"click"},"ad_feed:feedback:less":{entity:"ad_feed_feedback_less",eventType:"click"},"ad_feed:feedback:more":{entity:"ad_feed_feedback_more",eventType:"click"},"ad_feed:share":{entity:"ad_feed_share",eventType:"click"},autoplay_on:{entity:"video.autoplay_on",eventType:"click"},autoplay_off:{entity:"video.autoplay_off",eventType:"click"},sound_on:{entity:"video.sound_on",eventType:"click"},sound_off:{entity:"video.sound_off",eventType:"click"},"call2action:show":{entity:"call2action",eventType:"show"},"call2action:click":{entity:"call2action",eventType:"click"},"content_item:show":{entity:"content_item",eventType:"show"},"content_item:swipe":{entity:"content_item",eventType:"swipe"},"ad_gallery:show":{entity:"ad_gallery",eventType:"show"},"ad_gallery:click":{entity:"ad_gallery",eventType:"click"},"source:show":{entity:"source",eventType:"show"},"source:click":{entity:"source",eventType:"click"},external_click:{entity:"external_click",eventType:"click"},expand_text:{entity:"expand_text",eventType:"click"},"stop_and_go:show":{entity:"stop_and_go",eventType:"show"},"stop_and_go:click_continue":{entity:"stop_and_go",eventType:"click"},"stop_and_go:click_out":{entity:"stop_and_go",eventType:"click"},"card_source:click":{entity:"card_source",eventType:"click"},"ecom:product:show":{entity:"ecom.product",eventType:"show"},"ecom:product:click":{entity:"ecom.product",eventType:"click"},"ecom:product_on_card_preview:show":{entity:"ecom.product_on_card_preview",eventType:"show"},"ecom:product_on_card_preview:click":{entity:"ecom.product_on_card_preview",eventType:"click"},"onboarding_car:intro:short":{entity:"onboarding_car.intro",eventType:"show"},"onboarding_car:intro:show":{entity:"onboarding_car.intro",eventType:"show"},"onboarding_car:outro:show":{entity:"onboarding_car.outro",eventType:"show"},"onboarding_car:more":{entity:"onboarding_car",eventType:"click"}},ka=["client:show","open_feedback_menu","swipe","deepwatch","ad_feed:load","ad_feed:fail","ad_feed:preview_show","ad_feed:s2s_received","ad_video:play","heartbeat","autoplay","autopause","play","pause","end","replay","seek","custom_user_feedback:click","custom_user_feedback:cancel_click","interview:show","interview:close","interview:submit","short","view","content_item:tap","auto_expand"],Ea=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0};BEM.DOM.decl("zen-lib",{onSetMod:{js:function(){var t,e,i;this.bindTo("retry-button","click",this._onRetryClick),this._loadDevLibParamsMemo=(t=this._loadDevLibParams,function(){return e&&Ea(e,arguments)?i:(e=arguments,i=t.apply(null,arguments))}),BEM.channel("adb").on("detect",this._handleAdblockDetection.bind(this)),this.nativeBundleNeed=this.params.libParams.isAdblock&&this.params.libParams.additionalBundles,this.nativeBundleNeed&&(this.nativeBundlePromise=new Promise(function(t,e){this.nativeBundlePromiseResolve=t,this.nativeBundlePromiseReject=e}.bind(this))["catch"](function(t){var e=t||new Error("cannot load native bundle: Timeout");return this._logError(e,"error"),!1}.bind(this)))},state:function(t,e){if("loaded"===e&&"prerender"===document.visibilityState){home.stat.logPath("show",this.params.statRoot+".loaded_in_prerender");var i=this;document.addEventListener("visibilitychange",(function t(){"visible"===document.visibilityState&&(home.stat.logPath("show",i.params.statRoot+".visible_after_prerender"),document.removeEventListener("visibilitychange",t))}))}home.stat.logPath("show",this.params.statRoot+"."+e),this._rumPage&&"retry"===e&&this._rumPage.cancel()}},_triggerFirstPaint:function(t,e){if(requestAnimationFrame(function(){requestAnimationFrame(function(){this.trigger("painted",t)}.bind(this))}.bind(this)),this._rumPage&&window.Ya&&Ya.Rum&&Ya.Rum.sendRaf&&Ya.Rum.sendTimeMark){var i=e.timemark||Ya.Rum.getTime();this.triggered?Ya.Rum.sendTimeMark("2954",Ya.Rum.getTime(),!1,this._rumPage):(Ya.Rum.sendTimeMark("2793",i,!1,this._rumPage),Ya.Rum.sendTimeMark("first-paint."+(t?"":"no_")+"ssr."+(e.isCache?"":"no_")+"cache",i,!1,this._rumPage),Ya.Rum.sendRaf("hero_element"),Ya.Rum.sendTimeMark("zen.html",i),Ya.Rum.sendTimeMark("zen.init")),this.triggered=!0}},loadAndRender:function(){if(window.Ya&&Ya.Rum&&Ya.Rum.makeSubPage&&!this._rumPage&&(this._rumPage=Ya.Rum.makeSubPage(this.params.pageId,window.zenTimeMark)),!this._bundleRequested){this._bundleRequested=!0,home.stat.logPath("show",this.params.statRoot+".init"),this.params.libParams.appContainer=this.elem("container")[0];var t=this.params.zenClientHost?this._loadDevLibParamsMemo(this.params.zenClientHost,this.params.libParams.isAdblock).then(function(t){var e=this._combineParams(t,this.params.libParams);return console.log("Current zen lib params:",e),e}.bind(this)):Promise.resolve(this.params.libParams),e=this.params.zenLoaderHost?this._loadDevLibParamsMemo(this.params.zenLoaderHost,this.params.libParams.isAdblock).then(function(t){return this._injectZen(t.pathToLoader)}.bind(this)):this._runIncludedLoader();return Promise.all([t,e]).then(function(t){if(!this.__self.isZenEvaluated())throw Error("zen lib hasn't been evaluated correctly");return this._createZen(t[0])}.bind(this))}},_onRetryClick:function(){this.setMod("state","loading"),this._bundleRequested=!1,this.loadAndRender()},_runIncludedLoader:function(){},_loadDevLibParams:function(t,e){var i="https://"+t+"/lib-config",n=[["withSsr",!0],["withAdblock",e]].reduce((function(t,e){return e[1]&&t.push(e[0]+"=true"),t}),[]).join("&");return i+=n?"?"+n:"",$.ajax({url:i,xhrFields:{withCredentials:!0}})},_combineParams:function(t,e){var i=["isDev","pathToLoader","staticHost","version","fallbackVersion"].reduce((function(e,i){return e[i]=t[i],e}),{});return $.extend({},e,i)},_writeCacheTtlToCookie:function(t,e,i){var n=Number(e(i)),o=Number(this.params.timestamp);if(n&&o){var s={};s[t]=o+n,window.Ya&&window.Ya.ycCookie&&window.Ya.ycCookie.set(this.__self.ZEN_COOKIE_CONTAINER,s)}},_removeCacheTtlFromCookie:function(){window.Ya.ycCookie.remove(this.__self.ZEN_COOKIE_CONTAINER)},_rows:[],_createZen:function(t){var e={api:"1096",js:"628",css:"2447","react-chunk":"2953"},i=this.params.timeout||1e4,n=window.YandexZen.loader;return n.on("timings",function(t){if(this._rumPage){var i=this._rumPage;Object.keys(e).forEach((function(n){var o=t[n];o>-1&&Ya.Rum.sendDelta(e[n],o,i)}))}}.bind(this)),n.on("chunkTimings",function(t){if(this._rumPage&&window.zenTimeMark){var i=this._rumPage;Object.keys(e).forEach((function(n){var o=t[n];o>-1&&Ya.Rum.sendDelta(e[n],o-window.zenTimeMark,i)}))}}.bind(this)),n.on("renderCachePut",this._handleRenderCachePut.bind(this)),n.on("packShown",this._removeCacheTtlFromCookie.bind(this)),n.on("invalidatePack",this._removeCacheTtlFromCookie.bind(this)),n.on("firstPaint",function(t){this._triggerFirstPaint(!0,t)}.bind(this)),n.on("placeholder",function(t){this.trigger("placeholder",t)}.bind(this)),n.on("rowMounted",function(t){this.trigger("rowMounted",t)}.bind(this)),n.on("zenClicksCount",function(t){this.trigger("zenClicksCount",t)}.bind(this)),n.on("ssrSchemeFailed",function(t){home.stat.logPath("tech",this.params.statRoot+".ssr_scheme_failed",{customParams:$.extend({},t.meta,{causeError:t.message,step:t.key})})}.bind(this)),new Promise((function(t){$(t)})).then(function(){return BEM.channel("adb").trigger("rendered",{id:"zen-lib",elem:this.domElem[0]}),this._execLoader(n,t,i).then(this._renderLib.bind(this))["catch"](function(t){this.trigger("error"),this.setMod("state","retry"),this._logError(t,"critical")}.bind(this))}.bind(this))},_execLoader:function(t,e,i){var n=t.create(e);return this._lateRenderingRace({loader:n,lagTime:i}),n},_renderLib:function(t){this.trigger("loaded"),t.on("firstPaint",function(t){this._triggerFirstPaint(!1,t),this._rumPage&&Ya.Rum.sendTTI(!1,Ya.Rum.getTime(),this._rumPage)}.bind(this)),t.on("stat",this._onZenStatData.bind(this)),t.on("placeholder",function(t){this.trigger("placeholder",t)}.bind(this)),t.on("hydrate-placeholder",function(t){this.trigger("hydrate-placeholder",t)}.bind(this)),t.on("rowsHeightsChanged",function(t){this.trigger("rowsHeightsChanged",t)}.bind(this)),t.on("placeholderShow",function(t){this.trigger("placeholderShow",t)}.bind(this)),t.on("rowMounted",function(t){var e=t.grid[0].row;this._rows[e]=t.grid[0].type,t.grid[0].row>this.params.MAX_ROW_TO_LOG||this.trigger("rowMounted",t)}.bind(this)),t.on("morePackLoadingError",function(t){home.stat.logPath("tech",this.params.statRoot+".more_pack_not_loaded"),this.trigger("morePackLoadingError",t)}.bind(this)),t.on("advManagerReceived",function(t){this.trigger("advManagerReceived",t)}.bind(this)),this.nativeBundleNeed&&(t.on("nativeBundleLoaded",function(){this.nativeBundlePromiseResolve(!0)}.bind(this)),t.on("nativeBundleFailed",function(t){this.nativeBundlePromiseReject(t)}.bind(this))),t.on("advManagerReceiveFailed",function(t){this._logError(t,"error"),this.trigger("advManagerReceiveFailed",t)}.bind(this)),t.on("packShown",this._removeCacheTtlFromCookie.bind(this)),t.on("invalidatePack",this._removeCacheTtlFromCookie.bind(this)),t.render(this.params.isZenChuckedAnswer&&document.getElementById("zen")||this.elem("container")[0]),this.setMod("state","loaded")},_handleRenderCachePut:function(t){this.isAdblockDetected&&!this.params.libParams.isAdblock||this._writeCacheTtlToCookie(this.__self.cachStatic,(function(t){return t&&t["static"]&&t["static"].ttl}),t)},_handleAdblockDetection:function(){this.isAdblockDetected||this.params.libParams.isAdblock||this._removeCacheTtlFromCookie(),this.isAdblockDetected=!0},_lateRenderingRace:function(t){var e=(t=t||{}).loader,i=t.lagTime,n=new Promise((function(t){setTimeout(t,i,i)}));return Promise.race([e["catch"]((function(){})),n]).then(function(t){t===i&&this.trigger("lateRendering")}.bind(this))},_onZenStatData:function(t){var e=this.params.MAX_ROW_TO_LOG,i=t&&t.statMeta&&t.statMeta.rowIndex,n=t&&t.statMeta&&t.statMeta.link,o=t.eventName.split("#")[0];if(-1===ka.indexOf(o)){var s=wa[o];if(s){var r,a=s.eventType;if(this.__self.checkIsPlaceholderRow(this._rows[i]))r=this.params.statRoot+"..placeholder."+a+".row"+i+"."+s.entity,home.stat.logPath("tech",r);else{var c=(r="number"==typeof i&&i<e?this.params.statRoot+".row"+i:this.params.statRoot)+"."+s.entity,l="click"===a?{url:n}:void 0;home.stat.logPath(a,c,l)}"click"===a&&home.stat.flushQueue()}else home.error.logError({block:"zen-lib",message:"Unknown zen stat event type "+o,meta:t,sourceType:"logic",level:"warn"})}},_injectZen:function(t){return new Promise((function(e,i){var n=t,o=document.createElement("script");o.src=n,o.onload=function(){e()},document.body.appendChild(o),setTimeout((function(){i(new Error("_injectZen: Unreachable Zen loader"))}),5e3)}))},_logError:function(t,e){var i=t.name,n=t.message;t.name&&t.message&&(t.message=i+" "+n),home.error.logError({block:"zen_lib",method:"_logError",message:i||n?void 0:"UNKNOWN_ERROR"+JSON.stringify(t),sourceType:t.sourceType,source:t.owner,meta:t.meta,level:e},t)}},{ZEN_COOKIE_CONTAINER:"zen",cachStatic:"cacS",isZenEvaluated:function(){return window.YandexZen&&window.YandexZen.loader},checkIsPlaceholderRow:function(t){return"placeholder"===t||"typed-placeholder"===t}}),i("VznB"),i("gm0g"),i("tJai");var Ma={rtb_inserts:home.cls&&home.cls.full("rtb_inserts")},xa={};for(var Ta in Ma)xa[Ma[Ta]]=Ta;function Ca(t){return xa[t]||t}function Sa(t,e,i){var n=t.mods||{};n.view=n.view||"classic";var o=t.js||{};return i(S,{mods:home.deepExtend({target:"anchor",hiding:"yes",autoclosable:t.mods&&t.mods.autoclosable||"no",theme:"normal",view:t.mods&&t.mods.view},t.popupMods||{}),directions:o.to||["right-center","bottom-center","top-center","left-center"],mainOffset:o.mainOffset,secondaryOffset:o.secondaryOffset,tailOffset:o.tailOffset,zIndexGroupLevel:o.zIndexGroupLevel,mix:home.getBEMClassname("tooltip",{mods:n,mix:t.mix}),content:i(H,{mix:"tooltip__backdrop",content:!1!==t.tail&&i(H,{mix:"popup2__tail",content:""})})+i(H,{mix:"tooltip__content",content:t.content})})}function Ba(t,e,i){return i(z,{mod:home.getBEMClassname("tumbler__text",{mods:{side:t.side},mix:t.mix}),content:t.content})}function Ia(t,e,i){return i(z,{mod:home.getBEMClassname("tumbler__label",{mods:{side:t.side}}),content:i(Ba,{side:t.side,mix:t.textMix,content:t.content})})}function Pa(t,e,i){return i(H,{mix:home.getBEMClassname("tumbler__sticker",{mods:t.mods}),attrs:{"aria-hidden":"true"},content:t.content})}function Da(t,e,i){return i(H,{mix:"tumbler__sticker-label",content:t.content})}function Oa(t,e,i){return i(z,{mod:"tumbler__box",content:i(Pa,{mods:{position:"left"},content:i(Da,{content:e.l10n("tumbler.on")})})+i(Pa,{mods:{position:"right"},content:i(Da,{content:e.l10n("tumbler.off")})})+i(Yi,{js:{prvntKeys:["ENTER"],clickKeys:["SPACE"]},mods:{view:"classic"===t.view?"classic":void 0,theme:"normal",disabled:t.disabled?"yes":void 0},tabindex:t.tabindex,attrs:{"aria-labelledby":t.leftId||t.rightId,"aria-pressed":t.checked},mix:"tumbler__button"})})}function ja(t,e,i){var n=t.checked?t.rightId||t.leftId:t.leftId||t.rightId;return i(Ra,{attrs:{"data-bem":home.getBEMParams({tumbler__input:{_values:t.values}}),name:t.name,checked:t.checked,value:t.values[Number(t.checked)],disabled:t.disabled,tabindex:-1,autocomplete:"off","aria-hidden":"true","aria-labelledby":n}})}function Ra(t){return"<input "+w()(Object.assign({type:"checkbox","class":"tumbler__input"},t.attrs))+">"}function Aa(t,e,i){var n=t.id||home.rnd(),o=void 0===t.content?[]:[].concat(t.content),s="",r="",a=function(t){"left"!==t.side&&"right"!==t.side&&home.error("tumbler:   option    side   left  right"),"left"===t.side&&(s=i(Ia,t)),"right"===t.side&&(r=i(Ia,t))},c=t.mods||{};c.view||(c.view="classic"),o[0]&&a(o[0]),o[1]&&a(o[1]);var l={values:[s.value||"false",r.value||"true"],view:c.view,name:t.name||n,leftId:s?"left"+n:void 0,rightId:r?"right"+n:void 0,tabindex:t.tabindex||0,checked:"yes"===c.checked,disabled:"yes"===c.disabled};return i(z,{mod:home.getBEMClassname("tumbler",{mix:"i-bem"+(t.mix?" "+t.mix:""),mods:c}),attrs:{"data-bem":home.getBEMParams({tumbler:home.deepExtend({live:!1},t.js||{})})},content:s+i(Oa,l)+r+i(ja,l)})}function Fa(t,e,i){var n=Math.ceil(t.length/2),o=t.map((function(t){return i(La,{layoutName:t.layoutName,tumbler:i(Aa,{mods:{size:"n",tone:"grey",theme:"normal",view:"default","no-wrap":"yes"},content:[{side:"right",content:i(Ua,{title:t.title,desc:t.desc})}]})})})),s=o.slice(0,n),r=o.slice(n);return i(Na,{left:s.join(""),right:r.join(""),cancel:i(St,{mix:"hidden-blocks-popup__button hidden-blocks-popup__cancel",mods:{theme:"normal-sharp",size:"line"},content:e.l10n("hidden_blocks.cancel")}),submit:i(St,{mix:"hidden-blocks-popup__button hidden-blocks-popup__submit",mods:{theme:"action-sharp",size:"line"},content:e.l10n("hidden_blocks.save")})})}function Na(t,e,i){return E.a.oneElem("<div class='hidden-blocks-popup i-bem' data-bem='{\"hidden-blocks-popup\":{}}'>"+(E.a.oneElem("<div class='hidden-blocks-popup__inside'>"+(E.a.oneElem("<h1 class='hidden-blocks-popup__title'>"+E.a.oneElem(e.l10n("hidden_blocks.title"))+"</h1>")+E.a.oneElem("<div class='hidden-blocks-popup__content'>"+(E.a.oneElem("<div class='hidden-blocks-popup__column'>"+E.a.oneElem(t.left)+"</div>")+E.a.oneElem("<div class='hidden-blocks-popup__column'>"+E.a.oneElem(t.right)+"</div>"))+"</div>"))+"</div>")+E.a.oneElem("<div class='hidden-blocks-popup__buttons buttons-line buttons-line_border-bottom_no'>"+(E.a.oneElem(t.cancel)+E.a.oneElem(t.submit))+"</div>"))+"</div>")+E.a.oneElem(i(ui,t))}function La(t){return"<div "+w()({"class":"hidden-blocks-popup__item","data-layout-name":t.layoutName})+">"+E.a.oneElem(t.tumbler)+"</div>"}function Ua(t){return E.a.oneElem("<span class='hidden-blocks-popup__item-title'>"+E.a.oneElem(t.title)+"</span>")+E.a.oneElem("<span class='hidden-blocks-popup__item-desc'>"+E.a.oneElem(t.desc)+"</span>")}function Ha(t,e,i,n){var o=Math.abs(n-i),s="exact";o>100?s="huge":o>10?s="big":o>=1&&(s="small"),home.stat.logPath("tech",e+".height_change."+s,{customParams:{oldHeight:i,newHeight:n,layoutName:t}})}BEM.decl("blender-logger",{},{initBlock:function(){this._inited||(this._inited=!0,this.updateMediaRows(),this._zenRows=[],this.MAX_ZEN_ROW_COUNT=home.getData("infinity-zen.MAX_ROW_TO_LOG"),this._zenInserter=BEM.blocks["zen-inserter"])},updateMediaRows:function(){this._mediaRows=this._getMediaRows()},_getMediaRows:function(){var t=$(".media-grid__media-content>[data-blockname]"),e=[],i=home.getData("media-grid.layoutMap",{});return home.getData("rows.first_screen_height")&&e.push({name:"first_screen",height:$(".rows__row_first").height()+$(".rows__row_main").height()}),t.each((function(){var t=$(this),n=t.attr("data-blockname");if(n in i&&"infinity_zen"!==n){var o=0;n&&t.is(":visible")&&(o=Math.floor(t.outerHeight(!0))),e.push({name:n,height:o})}})),e},updateZenRowsAndSendStat:function(t){var e=this._zenInserter.ZEN_ROW_FOR_BLENDER;this._zenRows=t.map((function(t,i){return t.name===e?{name:t.name+".row"+i,height:t.height}:t})),this.sendStat()},_toStatFormat:function(t){return Ca(t).replace(/-/g,"_").replace(/\./g,"#")},logBlockShow:function(t){home.stat.logPath("show",t+".realshow")},sendStat:function(){var t=[];if((1!==(t=(t=t.concat(this._mediaRows)).concat(this._zenRows)).length||"first_screen"!==t[0].name)&&(t.length>this.MAX_ZEN_ROW_COUNT&&(t=t.slice(0,this.MAX_ZEN_ROW_COUNT)),(t=t.filter(function(t){return t.name!==this._zenInserter.EMPTY_PLACEHOLDER}.bind(this))).every((function(t){return t&&"number"==typeof t.height&&"string"==typeof t.name})))){var e=t.map((function(t){return this._toStatFormat(t.name)+"="+t.height}),this).join(",");home.stat.logPath("media_services_height",e)}}}),BEM.decl("zen-inserter",{},{EMPTY_PLACEHOLDER:"EMPTY",PLACEHOLDER_FROM_ZEN:"Placeholder",ZEN_ROW_FOR_BLENDER:"infinity-zen",CLASS_NAME:"zen-insert",RENDERED_BLOCKS:{},BLOCK_NAME_TO_HEIGHT:{},initBlock:function(){if(!this._inited){this._inited=!0,this._blocks=home.getData("zen-inserter.blocks",[]),this._rows=[];var t=home.getData("zen-inserter.namesMapper",{});this.ppToMordaNamesMapper=Object.keys(t).reduce((function(e,i){return e[t[i]]=i,e}),{}),this._blocks&&(this._blenderLogger=BEM.blocks["blender-logger"],this._blenderLogger.initBlock())}},logRealShow:function(t){var e=home.getData("zen-inserter.zen_united_feed",!1);if(this._blocks){var i=t.index,n=e?this.ppToMordaNamesMapper[t.cardPayload]:this._blocks[i];n&&this.RENDERED_BLOCKS[n]&&this.BLOCK_NAME_TO_HEIGHT[n]&&this._blenderLogger.logBlockShow(n)}},onZenRowsUpdated:function(t,e){var i=home.getData("zen-inserter.zen_united_feed",!1);if(this._blocks||i){var n=0,o=t.map((function(t,o){if(t.type!==this.PLACEHOLDER_FROM_ZEN)return{name:this.ZEN_ROW_FOR_BLENDER,height:t.container.offsetHeight};var s,r=e[o];s=i?r&&r.cardPayload&&this.ppToMordaNamesMapper[r.cardPayload]||this.EMPTY_PLACEHOLDER:this._blocks[n]||this.EMPTY_PLACEHOLDER;var a=this.BLOCK_NAME_TO_HEIGHT[s]||0;return n++,{name:s,height:a}}),this);this._blenderLogger.updateZenRowsAndSendStat(o)}},renderBlock:function(t,e){var i=this._getHtml(t,e);if(i){var n=$(i);return n.addClass(this.CLASS_NAME),n}},render:function(t){var e=home.getData("zen-inserter.zen_united_feed",!1);if(this._blocks){var i=t.container,n=t.index,o=e?this.ppToMordaNamesMapper[t.cardPayload]:this._blocks[n];if(o&&(BEM.blocks["i-block-renderer"].wrapRender({from:"zen-inserter",layoutName:o},function(){var t=this.renderBlock(o);if(t){var e=$(i);return e.append(t),BEM.DOM.init(t),home.stat.logDOMShow(e,{convertCounters:function(t){return Ma[o]?t.replace(Ma[o],o):t}}),e.find("[data-blockname]").addClass("media-grid__row_visible_yes"),this.BLOCK_NAME_TO_HEIGHT[o]=Math.floor(t.outerHeight(!0)),this._rows.push(t),t}}.bind(this))||this.RENDERED_BLOCKS[o]))return o}},discover:function(t,e){var i=this.ppToMordaNamesMapper[e];i&&(home.stat.logDOMShow(t,{convertCounters:function(t){return Ma[i]?t.replace(Ma[i],i):t}}),t.find("[data-blockname]").addClass("media-grid__row_visible_yes"),this.BLOCK_NAME_TO_HEIGHT[i]=Math.floor(t.outerHeight(!0)),this.RENDERED_BLOCKS[i]=!0)},hide:function(t){var e=t.data("blockname");BEM.DOM.destruct(t),this.BLOCK_NAME_TO_HEIGHT.hasOwnProperty(e)?this.BLOCK_NAME_TO_HEIGHT[e]=0:this._blenderLogger&&this._blenderLogger.updateMediaRows(),BEM.blocks["i-reposition-event"].trigger()},_getHtml:function(t,e){if(this.RENDERED_BLOCKS[t])return"";var i=b(Vs,t),n=b(Ys,{content:b(Gs,{blockName:i,layoutName:t}),layoutName:t,expand:e&&e.expand,bg:home.getData("media-grid.bg",{})[t]},{zenInsert:!0});return n&&(this.RENDERED_BLOCKS[t]=!0),n},renderAllBefore:function(t){if(this._blocks){var e=this._blocks.filter((function(t){return t!==home.cls.full("rtb_inserts")})).map(this._getHtml,this).join("");if(e){var i=$(e);i.insertBefore(t),BEM.DOM.init(i),home.stat.logDOMShow(i),this._blenderLogger.updateMediaRows(),this._blenderLogger.updateZenRowsAndSendStat([])}}},pullOutAllBefore:function(t){this._rows.forEach((function(e){e.removeClass("zen-insert").insertBefore(t)})),this._rows=[],this.renderAllBefore(t)}}),i("jm34"),BEM.DOM.decl({name:"infinity-zen",baseBlock:"media-service"},{onSetMod:{js:function(){this._rowIndexToPlaceholderMetaMap={},this._layoutNameToPlaceholderMetaMap={};var t=home.getData("infinity-zen.zen_chunked_answer",!1),e=home.getData("infinity-zen.zen_united_placeholders",!1),i=home.getData("zen-inserter.namesMapper",{}),n=home.getData("zen-inserter.zen_united_feed",!1);this._zenLib=this.findBlockInside("zen-lib"),n||this._insertZenHeaderAtTop(this._zenLib.params),this._grid=$(".media-grid").bem("media-grid"),this._grid.hasMod("collapsed","yes")||this._onGridExpand(),this._grid.on("collapsed",this._onGridCollapse,this),this._grid.on("expanded",this._onGridExpand,this);var o,s,r=BEM.blocks["zen-inserter"];r.initBlock(),this._debouncedRowsUpdated=$.debounce(r.onZenRowsUpdated.bind(r),this.DEBOUNCE_ZEN_ROWS_UPDATED_TIMEOUT),this._zenRow=this.domElem.closest(".media-grid__row"),t||(this._insertHeaderOnce=(o=this._insertHeader,s=!1,function(){if(!s){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];s=o.apply(this,e)}})),this._zenLib.on("placeholder",function(t,o){var s=r.render(o);(e||n)&&(this._rowIndexToPlaceholderMetaMap[o.rowIndex]=o,s&&(this._layoutNameToPlaceholderMetaMap[i[s]]=o),s&&!o.cardPayload&&(o.cardPayload=i[s],i[s]||home.error.logError({block:"infinity-zen",message:"Mapping for zen layoutName not found",meta:{mordaLayoutName:s},sourceType:"logic"})),s&&o.setPlaceholderInfo&&o.setPlaceholderInfo(o.cardPayload),!s&&r.RENDERED_BLOCKS[r.ppToMordaNamesMapper[o.cardPayload]]&&o.setPlaceholderInfo&&(s=o.cardPayload,o.setPlaceholderInfo(s),this._layoutNameToPlaceholderMetaMap[s]=o,o.cardPayload=s))}.bind(this)),this._zenLib.on("placeholderShow",(function(t,e){r.logRealShow(e)})),this._zenLib.on("hydrate-placeholder",this._onHydratePlaceholder.bind(this)),this.collectedRows=[],this._zenLib.on("rowMounted",function(e,i){this.collectedRows.push({container:i.container,type:BEM.blocks["zen-lib"].checkIsPlaceholderRow(i.grid[0]&&i.grid[0].type)?"Placeholder":"Zen"}),this._debouncedRowsUpdated(this.collectedRows,this._rowIndexToPlaceholderMetaMap),n&&!t&&this._insertHeaderOnce(this.collectedRows,this._zenLib.params)}.bind(this)),t||(this._zenLib.on("lateRendering",this.changeThis((function(){r.renderAllBefore(this._zenRow),home.stat.logPath("tech",this.params.statRoot+".render_at_the_bottom")}))),this._zenLib.on("error",function(){r.renderAllBefore(this._zenRow)}.bind(this))),this._zenLib.on("rowsHeightsChanged",function(){this._debouncedRowsUpdated(this.collectedRows,this._rowIndexToPlaceholderMetaMap)}.bind(this)),this._zenLib.on("error",function(){this._showAlert()}.bind(this)),this.domElem.is(":visible")&&!this.elem("content-suffix").is(":visible")&&this._showAlert(),this.params.needForceLoad&&this.forceLoad(),this._initMenuEvents(),(e||n)&&home.stat.addHandler(null,function(t,e,n){if("redirect"===n||"click"===t){var o=i[Ca(e.split(".")[0])],s=this._layoutNameToPlaceholderMetaMap[o];s&&s.onClick&&("redirect"===n||s.cardPayload===i.rtb_inserts?s.onClick(s.cardPayload):s.onSwipe(s.cardPayload))}}.bind(this))},collapsed:{yes:function(){BEM.blocks["zen-inserter"].pullOutAllBefore(this._zenRow)},"":function(){this._zenLib.loadAndRender()}}},_getMenuId:function(){return""},_showAlert:function(){this.hasMod("alert")||this.params.alert&&(this.domElem.append(b(pr,this.params.alert)),this.setMod("alert","yes"),home.stat.logPath("show",this.params.statRoot+".alert"))},destruct:function(){this.channel("i-reposition-event").un("reposition",this._updateScroll,this),this.__base.apply(this,arguments)},forceLoad:function(){this._grid.hasMod("collapsed","yes")||this._zenLib.loadAndRender({isForceLoad:!0})},_appendContent:function(){this._grid.hasMod("collapsed","yes")||this._zenLib.loadAndRender()},_onGridCollapse:function(){this.channel("i-reposition-event").un("reposition",this._updateScroll,this)},_onGridExpand:function(){this.channel("i-reposition-event").on("reposition",this._updateScroll,this);var t=this.__self.HEADER_HEIGHT_PX-this.__self.SCROLL_PX;this._updateScroll(null,BEM.DOM.win.scrollTop()-t)},_onHydratePlaceholder:function(t,e){this._rowIndexToPlaceholderMetaMap[e.rowIndex]=e,this._layoutNameToPlaceholderMetaMap[e.cardPayload]=e,BEM.DOM.init($(e.container)),BEM.blocks["zen-inserter"].discover($(e.container),e.cardPayload)},_updateScroll:function(t,e){var i=window.innerHeight;e-this.domElem.offset().top+i>this.__self.SCROLL_PX&&(t?this._appendContent():this.forceLoad())},_insertZenHeaderAtTop:function(t){document.querySelector(".infinity-zen").insertAdjacentHTML("afterbegin",b(hr,{isZenInsert:!1,params:t}))},_insertHeader:function(t,e){for(var i,n=0;!i&&n<t.length;n++)"Zen"===t[n].type&&(i=t[n]);var o=t.indexOf(i);if(-1!==o)return 0===o?this._insertZenHeaderAtTop(e):this._rowIndexToPlaceholderMetaMap[o-1]?this._rowIndexToPlaceholderMetaMap[o-1].container.insertAdjacentHTML("beforeend",b(hr,{isZenInsert:!0,params:e})):(home.error.logError({block:"infinity-zen",method:"_insertHeader",message:"infinity zen header hasn't been inserted"}),this._insertZenHeaderAtTop(e)),this._control&&(this._control.destruct(),this._control=null),this._createMenuChecked(),!0}},{SCROLL_PX:-200,HEADER_HEIGHT_PX:50,DEBOUNCE_ZEN_ROWS_UPDATED_TIMEOUT:1e3,live:!1}),i("mr38"),BEM.DOM.decl("media-infinity-footer",{onSetMod:{js:{inited:function(){this._$mediaGrid=$(".media-grid"),this._$content=$(".media-infinity-footer__content"),this._settings=this.findBlockInside(this._$content,"head-options2"),this.channel("i-reposition-event").on("reposition",this._updateVerticalScroll,this);var t=function(){this._updateVerticalScroll(null,BEM.DOM.win.scrollTop())}.bind(this),e=$(".zen-lib");if(e.length){var i=e.bem("zen-lib");i&&(i.on("loaded",t),i.on("error",t))}else t();this.bindToWin("scroll",this._updateHorizontalScroll),this.bindTo(this._$content,"focusin",this._onFocusIn),setTimeout(function(){this.setMod(this._$content,"animated","yes")}.bind(this),100),this.params.hiddenBlocksPromo&&(this.channel("media-service").on("remove",this._onBlockCollapse,this),this.bindToWin("pointerclick",this._onDocClick,this))}}},_updateHorizontalScroll:function(){var t=BEM.DOM.win.scrollLeft();this._prevScrollLeft!==t&&(this._prevScrollLeft=t,this._$content.css("margin-left",-t))},_updateVerticalScroll:function(t,e){if(!(this._promoShow&&Math.abs(e-this._promoShowScroll)<16||(this._settings&&this._settings.hasPopupVisible()&&(this._settings.hidePopup(),document.activeElement&&document.activeElement.blur()),$(":focus").closest(this._$content).length))){this._tooltip&&this._tooltip.delMod("shown");var i=this._$mediaGrid.offset().top,n=window.innerHeight,o=document.body.scrollHeight,s=e>i||o-e-n<50;this._toggleFooter(s)}},_onFocusIn:function(){this._toggleFooter(!0)},_toggleFooter:function(t){var e=$("html");t!==e.hasClass("document_media-infinity-footer_yes")&&(this.setMod(this._$content,"sticky","yes"),e.toggleClass("document_media-infinity-footer_yes",t),this.trigger("toggleFooter",t)),t||(this._promoShow=!1)},_onBlockCollapse:function(){this._promoFirstShow||(this._promoFirstShow=!0,this._toggleFooter(!0),this._promoShow=!0,this._promoShowScroll=BEM.DOM.win.scrollTop(),this.params.hiddenBlocksPromo.show_url&&((new Image).src=this.params.hiddenBlocksPromo.show_url),setTimeout(function(){var t=this.findElem(this._$content,"settings"),e=$(b(Sa,{mods:{theme:"cloud",autoclosable:"yes"},js:{to:["top-center"],mainOffset:17},content:Object(r.a)("foot.promo_tooltip")}));t.before(e),this.setMod(t,"highlight","yes"),home.stat.logPath("show","foot.hidden_blocks_promo");var i=this.findBlockOn(e,"tooltip");this._tooltip=i,i.setOwner(t).setMod("shown","yes").on("hide",(function(){this.delMod(t,"highlight"),setTimeout(function(){BEM.DOM.destruct(e),this._tooltip=null}.bind(this),300)}),this).on("click",(function(){home.stat.logPath("click","foot.hidden_blocks_promo"),BEM.blocks["hidden-blocks-popup"].show()}))}.bind(this),300))},_onDocClick:function(t){this._promoShow&&($(t.target).closest(this._$content).length||(this._promoShow=!1,this._updateVerticalScroll(null,BEM.DOM.win.scrollTop())))}}),BEM.DOM.decl("hidden-blocks-popup",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("modal");t.on("afterClose",(function(){home.stat.logPath("click","hidden_blocks_popup.cancel")})),this.findBlockInside("cancel","button").on("click",(function(){t.delMod("visible")}),this),this.findBlockInside("submit","button").on("click",(function(){var t=[],e=[];this.elem("item").toArray().forEach((function(i){var n=$(i),o=this.findBlockInside(n,"tumbler").hasMod("checked","yes"),s=n.data("layoutName");(o?e:t).push(s)}),this),home.stat.logPath("click","hidden_blocks_popup.save",{callback:function(){location.href=home.addQueryToUrl(home.getData("hidden-blocks-popup.changeUrl"),{fold:t.join(","),unfold:e.join(",")})}})}),this),BEM.blocks.tumbler.on(this.domElem,"change",(function(t,e){if(!this._updateInternalState){var i=t.target.domElem.closest("[data-layout-name]").data("layoutName");home.stat.logPath("click","hidden_blocks_popup.item."+i+"."+(e.checked?"show":"hide"))}}),this)}}},_updateHiddenState:function(t){home.getData("hidden-blocks-popup.blocks").forEach((function(e){e.layoutName in t||(t[e.layoutName]=e.isHidden)})),this._updateInternalState=!0,this.elem("item").toArray().forEach((function(e){var i=$(e),n=i.data("layoutName");this.findBlockInside(i,"tumbler").toggleMod("checked","yes",!t[n])}),this),this._updateInternalState=!1}},{show:function(){if(!this._popup){var t=$(b(hi,{content:b(Fa,home.getData("hidden-blocks-popup.blocks"),{}),mods:{autoclosable:"yes",theme:"normal","scrollbar-hider":"yes"}})).appendTo("body");BEM.DOM.init(t),this._popup=t.bem("modal"),this._instance=this._popup.findBlockInside("hidden-blocks-popup")}this._instance._updateHiddenState(this._hiddenMap),this._popup.setMod("visible","yes")},_init:function(){this._hiddenMap={},BEM.channel("media-service").on("remove",(function(t,e){this._hiddenMap[e.layoutName]=!0}),this)}}),$((function(){BEM.blocks["hidden-blocks-popup"]._init()})),i("UUB4"),i("P9tx"),i("OTBI"),i("kCSK"),BEM.DOM.decl("tooltip",{},{show:function(t,e){var i=$(b(Sa,e.props));t.before(i);var n=i.bem("tooltip");return n.setOwner(t).setMod("shown","yes").on("hide",(function(){setTimeout((function(){BEM.DOM.destruct(i)}),300)}),this),n}}),i("DkAV"),i("Wky5"),i("TU3U"),i("AzRQ"),BEM.DOM.decl({block:"kinopoisk",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-media-service"]},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this._mainList=this.findBlockInside("arrowed-list");t&&t.on("listOut",this._loadMoreFilms,this)}}},_getInitData:function(){return home.getData("kinopoisk.data.data",{})},_getPanelHTML:function(t,e){return b(_n,{films:e.films,title:e.title,hasStream:home.getData("kinopoisk.data.hasStream"),id:t,logShow:!1})},_loadData:function(t){var e={CountryAllowed:this.params.country,kp_group_ids:t},i=home.getData("kinopoisk.data.kpRankExp");return i&&(e.kp_rank_exp=i),$.ajax({url:home.addQueryToUrl("/portal/api/data/1/kinopoisk/",e),xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then((function(t){var e=t&&t.block&&t.block[0];return e&&e.data&&e.data.groups&&e.data.groups[0]||[]}))},_loadMoreFilms:function(){var t=this._selectedKey,e=this._$panel,i=this.findElem(e,"list"),n=this._data[this._defaultKey].films;this._mainList.un("listOut",this._loadMoreFilms,this),i.append(b(yn)),this._loadDataWrapped(t,{forceReload:!0}).then(function(){var o=this._filterLastFilms(n,this._data[t].films);this.findElem(i,"film-loader").remove(),i.append(b(gn,{films:o,title:this._data[t].title,hasStream:home.getData("kinopoisk.data.hasStream"),id:t,logShow:!1,startIndex:i.children().length})),this._onPanelChange(t,e),this.findBlockInside(e,"imageloader").updateItems()}.bind(this))["catch"](function(){this.findElem(i,"film-loader").remove()}.bind(this))},_filterLastFilms:function(t,e){var i={};return t.forEach((function(t){i[t.contentGroupUuid]=!0})),e.filter((function(t){return!(t.contentGroupUuid in i)}))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("film","pointerclick",(function(){window.defaultMetrikaCounter&&window.defaultMetrikaCounter.reachGoal("kp_films_click")})),this.liveBindKey("film","space enter",(function(t){home.stat.logPath("click",t.data.domElem.attr(home.stat.attr)),window.defaultMetrikaCounter&&window.defaultMetrikaCounter.reachGoal("kp_films_click")}))}}),i("h/Ey"),i("BeG3"),i("vci6"),i("wNS6"),i("ysUB"),i("En7l"),i("BNPM"),i("AIUQ"),i("RYVR"),i("4lOB"),BEM.DOM.decl({block:"games",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_getPanelHTML:function(t,e){return b(Cn,{items:e.games,title:e.title,id:t,logShow:!0})}}),BEM.DOM.decl({name:"insert-loader",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.channel("i-reposition-event").on("reposition",this._onScroll,this),this._onScroll(null,BEM.DOM.win.scrollTop()),home.stat.logPath("show",this._getStatName()+".loading"),this._initMenuEvents()}},state:function(t,e){home.stat.logPath("show",this._getStatName()+"."+e)}},_getStatName:function(){return this.__self.getName().replace(/-/g,"_")},_getDataUrl:function(){},_selectData:function(){},_checkData:function(){},_getHTML:function(){},_onScroll:function(t,e){var i=this.domElem.offset().top;e+BEM.DOM.win.height()>i-this.__self._initOffset&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this._loadBlockData())},_makeRequest:function(t){return $.ajax({url:t,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4})},_load:function(){var t=this._getDataUrl();return this._makeRequest(t).asPromise()},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var t=this.params.source||"morda_api",e=this.domElem.closest("[data-blockname]");return this._load().then(function(t){if(this._checkData(t))return t}.bind(this),function(e){"logic"===e.sourceType?home.error.logError({block:this.__self.getName(),sourceType:"logic",message:"_loadBlockData: "+e.message,source:t}):home.error.logError({block:this.__self.getName(),message:"_loadBlockData: ajax",source:t},e)}.bind(this)).then(function(t){if(!t)return Promise.reject();try{this._drawBlock(this._selectData(t))}catch(e){throw home.error.logError({block:this.__self.getName(),sourceType:"client",message:"Render error"},e),e}}.bind(this),function(e){throw home.error.logError({block:this.__self.getName(),sourceType:"backend",message:"Incorrect data",source:t},e),e}.bind(this))["catch"]((function(){BEM.blocks["zen-inserter"].hide(e)}))}},_drawBlock:function(t){BEM.blocks["i-block-renderer"].wrapRender({from:"insert-loader",layoutName:this._getStatName()},function(){var e,i=this.domElem.height(),n=this.domElem.closest("[data-blockname]").hasClass("media-grid__row_visible_yes");t=$.extend(t,{retryButtonTheme:this.params.retryButtonTheme}),e=BEM.DOM.replace(this.domElem,this._getHTML(t)),home.stat.logPath("tech",this._getStatName()+".loaded"),n&&home.stat.logDOMShow(e),setTimeout(function(){e&&Ha(this._getStatName(),"tech.insert_loader",i,e.height())}.bind(this),100)}.bind(this))},_onRetryClick:function(){this.setMod("state","loading"),this._loadBlockData()}},{_initOffset:300,live:function(){return this.liveBindTo("retry-button","click",(function(){return this._onRetryClick(),!1})),!1}}),BEM.DOM.decl({block:"games-loader",baseBlock:"insert-loader"},{_getDataUrl:function(){return this.params.url},_checkData:function(t){return t.tabs&&t.tabs.length},_selectData:function(t){return t},_getHTML:function(t){return b(xn,t)}}),BEM.DOM.decl({block:"autoru-inserts",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_getPanelHTML:function(t,e){return b(Ln,{items:e.content,title:e.title,id:t,logShow:t!==this._defaultKey})}}),BEM.DOM.decl({block:"autoru-inserts-loader",baseBlock:"insert-loader"},{_getDataUrl:function(){return this.params.url},_checkData:function(t){return t.tabs&&t.tabs.length},_selectData:function(t){return t},_getHTML:function(t){return b(Nn,t)}}),BEM.DOM.decl({block:"afisha-inserts",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-labels-preloader","mix-tabber-media-service"]},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._cinemas={}}}},_getKeys:function(){return this.elem("tab").length?this.__base.apply(this,arguments):["cinema"]},_isFilms:function(t){return 0===t.indexOf("cinema")},_loadData:function(t){var e={block:"afisha_inserts",content:"api_data_big",lang:this.params.locale,page_geo:this.params.geoId,event_type:t};return $.ajax({url:"/portal/api/data/1",xhrFields:{withCredentials:!0},dataType:"json",timeout:this.__self.GEOHELPER_TIMEOUT,data:e}).asPromise().then((function(e){return{events:e.block[0].data[t]}}))},_renderLoader:function(){var t;return t=b(Gn,{mix:"afisha-inserts__event media-service__item",innerMix:"media-service__shadow",imageMix:"media-service__image",stat:"",dummy:!0}),b(oo,{content:Array(6).join(t),js:{counter:"afisha_inserts",step:888}})},_getPanelHTML:function(t,e){return b(so,{events:e.events,key:t})}},{GEOHELPER_TIMEOUT:7e3}),BEM.DOM.decl(home.cls.full("rtb-inserts"),{onSetMod:{js:{inited:function(){this._renderCounter=0,this._cls=this._getCls();var t=window.home[this._cls]||home.getData(this._cls+".data");this._block=t.block,this._counter=this._block.replace("-","_"),this.params=t.params,this.channel("i-reposition-event").on("reposition",this._onScroll,this),this._onScroll(null,BEM.DOM.win.scrollTop())}}},_getCls:function(){var t;if(Object.keys(this.params).forEach((function(e){"object"==typeof this.params[e]&&(t=e)}),this),t)return t;Object(o.a)({block:"rtb-inserts",message:"Failed to get cls.",meta:{params:this.params}})},_getBanner:function(){var t={blockId:this.params.blockId,renderTo:this._cls,async:!0,onRender:this._onRender.bind(this),onError:this._handleError.bind(this),onHide:this._remove.bind(this)},e=this.params.nonce;e&&(t.cspNonce=e);var i=this.params.shouldGetAdvManagerFromZenLib?this._renderRsyaByZenlib(t)["catch"](function(){return this._renderRsyaByNetwork(t)}.bind(this)):this._renderRsyaByNetwork(t);Promise.race([i["catch"](function(){this._handleError("cannot load context: Error")}.bind(this)),(15e3,new Promise((function(t,e){setTimeout(e,15e3)})))])["catch"](function(){this._handleError("cannot load context: Timeout")}.bind(this))},_logRtbError:function(t,e){var i,n=e?String(e):"unknown",o=n.indexOf("Can not find element with selector");o>-1?(i=new Error("Can not find element with selector")).meta={selector:n.substr(o+"Can not find element with selector".length+1)}:i=new Error(n),home.error.logError({block:this._counter,message:t,sourceType:"network",meta:home.deepExtend({impId:this.params.blockId},i&&i.meta||{})},i)},_renderRsya:function(t,e){home.stat.logPath("tech",this._counter+".banner.rendering."+ ++this._renderCounter),t.render(e,this._noDataCallback.bind(this))},_renderRsyaByNetwork:function(t){return this._getAdvManagerByNetwork().then(function(e){this._renderRsya(e,t)}.bind(this))},_renderRsyaByZenlib:function(t){return this._advManagerByZenlibPromise.then(function(e){if("error"===e.state)throw e.error;this._renderRsya(e.value,t)}.bind(this))},_getAdvManagerByNetwork:function(){return new Promise(function(t,e){if(window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager)t(window.Ya.Context.AdvManager);else{var i=document.getElementsByTagName("script")[0],n=document.createElement("script");n.crossorigin="use-credentials",n.type="text/javascript",n.src=this.params.contextUrl,n.async=!0,n.onerror=function(t){BEM.channel("adb").trigger("download",{id:"desktop."+this._counter+".context"}),e(t)},i.parentNode.insertBefore(n,i),window.yandexContextAsyncCallbacks=window.yandexContextAsyncCallbacks||[],window.pcodever=this.params.pcodever,window.yandexContextAsyncCallbacks.push((function(){window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager&&t(window.Ya.Context.AdvManager),e(new Error("window.Ya.Context.AdvManager not found"))}))}}.bind(this))},_onScroll:function(t,e){var i=this.domElem.offset().top;e+BEM.DOM.win.height()>i-500&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this._getBanner())},_noDataCallback:function(){home.stat.logPath("tech",this._counter+".banner.no_data"),this._remove()},_advManagerByZenlibPromise:new Promise((function(t){var e=$(".zen-lib");if(!e.length)return t({state:"error",value:Error("zen-lib not found")});e.bem("zen-lib").on({advManagerReceived:function(e,i){t({state:"success",value:i})},advManagerReceiveFailed:function(e,i){t({state:"error",value:Error(i)})},error:function(e,i){t({state:"error",value:Error(i)})}})})),_onRender:function(){BEM.channel("adb").trigger("rendered",{id:"desktop."+this._block,elem:this.domElem[0]}),this.delMod(home.cls.part("dummy")),home.stat.logPath("tech",this._counter+".banner.rendered"),this._rendered||this.bindTo("click",(function(){home.stat.logPath("click",this._counter+".content")})),this._rendered=!0,this._triggerInitEvent()},_handleError:function(t){this._logRtbError("cannot render banner",new Error(t&&(t.code||t)||"unknown")),this._remove()},_remove:function(){this.domElem&&(home.stat.logPath("tech",this._counter+".banner.hide"),BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]")))},_triggerInitEvent:function(){this._eventTriggered||(this._eventTriggered=!0,BEM.channel("adb").trigger("rendered",{id:"v14.rtbInserts",elem:this.domElem[0]}))}});var za={},Wa={};function $a(t,e,i){return t.map((function(t){var e;return"div-solid-background"===t.type?e=Va:"div-gradient-background"===t.type?e=qa:"div-image-background"===t.type&&(e=Ka),i(e,t)})).reverse().join(",")+";"}function Va(t){var e=Wo(t.color);return"linear-gradient(to bottom,"+e+","+e+")"}function qa(t){return"linear-gradient(to bottom,"+Wo(t.start_color)+", "+Wo(t.end_color)+")"}function Ka(t){return'url("'+t.image_url+'")'}function Ga(t,e,i){var n=t.json,o="",s="divjson__clickable media-service__title-text",r=t.block,a=home.getData("media-grid.blocks"),c=i(tr,a&&a[r]&&a[r]||{});return c&&(o=i(H,{mix:"media-service__title-icon",attrs:{style:home.makeStyle({"background-image":"url("+c+")"})}}),s+=" media-service__title-text_icon_yes"),i(Uc,{block:t.block,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-title",content:i(rr,{titleMods:{mix:"divjson-title__header"},title:i(Oc,{block:t.block,action:n.action,stack:t.stack,mix:s,content:o+i(Rc,{text:n.text})})})})}function Za(t,e,i){var n=t.json;return i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-separator divjson-separator_size_"+(n.size||"xs").replace("_","-")+(n.has_delimiter?" divjson-separator_delimiter":""),style:{"border-color":Wo(n.delimiter_color||"#14000000"),"flex-grow":"match_parent"===n.size?n.weight||1:void 0}})}function Xa(t,e,i){var n=t.json;return i(Ja,{day:home.htmlFilter(n.date_day),month:home.htmlFilter(n.date_month)})}function Ja(t){return"<div class='divjson-date-element'>"+(E.a.oneElem("<div class='divjson-date-element__day'>"+E.a.oneElem(t.day)+"</div>")+E.a.oneElem("<div class='divjson-date-element__month'>"+E.a.oneElem(t.month)+"</div>"))+"</div>"}function Qa(t,e,i){var n=t.json;if(!n.image_url)return"";var o=t.stack.some((function(t){return"div-gallery-block"===t.type})),s={},r=Boolean(t.size);if(r){var a={xs:16,s:18,m:20,l:24,xl:36,xxl:40}[t.size||"m"];s.width=Vo((n.ratio||1)*a),s.height=Vo(a)}else s["padding-bottom"]=(100/(n.ratio||1)).toFixed(2)+"%";return s["background-image"]=o?void 0:'url("'+n.image_url+'")',i(H,{mix:home.getBEMClassname("divjson-image-element",{mix:[t.mix,o&&"imageloader__image"].filter(Boolean).join(" "),mods:{subtype:"block"===t.subtype||r?"centered":void 0,"full-width":r?void 0:"yes"}}),attrs:{"data-image":o?n.image_url:void 0,style:home.makeStyle(s)}})}function tc(t,e,i){var n=t.json,o="",s="",r="";return n.side_element&&("div-image-element"===n.side_element.element.type?r=qo(i,Qa,t,{json:n.side_element.element,mix:n.side_element.size?"divjson-universal__element-image_size_"+n.side_element.size:""}):"date_element"===n.side_element.element.type&&(r=i(Xa,{json:n.side_element.element}))),r&&(r=i(H,{mix:home.getBEMClassname("divjson-universal__element",{mods:{size:n.side_element.size}}),content:r}),"right"===n.side_element.position?s=r:o=r),i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-universal",{mods:{title:n.title?"yes":void 0,text:n.text?"yes":void 0}}),content:i(ec,{left:o,right:s,title:i(Rc,{mix:"divjson-universal__title",text:n.title,style:n.title_style||"title_m",maxLines:n.title_max_lines}),text:i(Rc,{mix:"divjson-universal__text",text:n.text,style:n.text_style||"text_s",maxLines:n.text_max_lines})})})}function ec(t){return E.a.oneElem(t.left)+E.a.oneElem("<div class='divjson-universal__main'>"+(E.a.oneElem(t.title)+E.a.oneElem(t.text))+"</div>")+E.a.oneElem(t.right)}function ic(t,e,i){return i(H,{mix:"divjson-image",content:qo(i,Qa,t,{json:t.json.image,subtype:"block"})})}function nc(t,e,i){for(var n=t.json,o=1,s=0;s<n.rows.length;++s)if("row_element"===n.rows[s].type){o=n.rows[s].cells.length;break}for(var r=n.columns||[];r.length<o;)r.push({});var a=r.some((function(t){return Boolean(t.weight)})),c=r.some((function(t){return!t.weight})),l=n.rows.map((function(e){var n;if("row_element"===e.type)n=e.cells.map((function(n,o){var s=r[o],a="",c="";n.text&&(a=i(Rc,{mix:"divjson-table__cell-text",style:n.text_style||"text_m",text:n.text})),n.image&&(c=i(H,{mix:"divjson-table__cell-image",content:qo(i,Qa,t,{json:n.image,size:n.text?"m":n.image_size||"m"})}));var l=[];return a&&l.push(a),c&&("right"===n.image_position?l.push(c):l.unshift(c)),i(sc,{mods:{left:s.left_padding||"xs",right:s.right_padding||"xs",top:e.top_padding||"zero",bottom:e.bottom_padding||"xxs",valign:n.vertical_alignment||"center",halign:n.horizontal_alignment||"left"},content:l.join("")})})).join("");else{var s=r[0],a=r[r.length-1];n=i(sc,{mods:{separator:"yes",left:s.left_padding||"xs",right:a.right_padding||"xs"},attrs:{colspan:o,style:home.makeStyle({"border-color":Wo(e.color||"#14000000")})},content:i(H,{mix:"divjson-table__cell-separator"})})}return i(rc,{cells:n})})).join(""),h=r.reduce((function(t,e){return t+(e.weight||0)}),0)||r.length,d=i(ac,{cols:r.map((function(t){return i(cc,{width:(100*(t.weight||0)/h).toFixed(2)+"%"})})).join("")});return i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:"i-bem "+home.getBEMClassname("divjson-table",{mods:{"full-width":a?"yes":void 0,fixed:c?void 0:"yes"}}),content:i(oc,{colgroup:d,rows:l}),js:{"divjson-table":{}}})}function oc(t){return"<div class='divjson-table__sizer'></div>"+E.a.oneElem("<table class='divjson-table__table'>"+(E.a.oneElem(t.colgroup)+E.a.oneElem(t.rows))+"</table>")}function sc(t){return"<td "+w()(Object.assign({"class":C("divjson-table__cell",t||{})},t.attrs))+">"+E.a.oneElem(t.content)+"</td>"}function rc(t){return"<tr>"+E.a.oneElem(t.cells)+"</tr>"}function ac(t){return"<colgroup>"+E.a.oneElem(t.cols)+"</colgroup>"}function cc(t){return"<col "+w()({width:t.width})+">"}function lc(t,e,i){var n=t.json;return i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-buttons",{mods:{alignment:n.alignment||"left",fullwidth:n.is_fullwidth?"yes":void 0}}),content:n.items.map((function(e){return qo(i,hc,t,{json:e})})).join("")})}function hc(t,e,i){var n=t.json;return i(Oc,{action:n.action,block:t.block,stack:t.stack,attrs:{style:home.makeStyle({"background-color":Wo(n.background_color||"#edf0f2")})},mix:home.getBEMClassname("divjson-buttons__button",{mods:{text:n.text?"yes":void 0,image:n.image?"yes":void 0}}),content:(n.image?i(H,{mix:"divjson-buttons__image",content:qo(i,Qa,t,{json:n.image})}):"")+(n.text?i(H,{mix:"divjson-buttons__text",content:$o(n.text)}):"")})}function dc(t,e,i){var n=t.json;return i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-footer",content:(n.image?i(H,{mix:"divjson-footer__image",content:qo(i,Qa,t,{json:n.image})}):"")+i(Rc,{mix:"divjson-footer__text",text:n.text,style:n.text_style||"button"})})}function uc(t,e,i){var n=t.json;return i(Uc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-traffic",{mods:{align:n.alignment||"left"}}),content:n.items.map((function(t){return i(mc,{scoreAttrs:{style:home.makeStyle({"border-color":Wo(t.color||"#ffedf0f2")})},score:t.score,text:$o(t.text)})})).join("")})}function mc(t){return"<div class='divjson-traffic__element'>"+(E.a.oneElem("<div "+w()(Object.assign({"class":"divjson-traffic__element-score"},t.scoreAttrs))+">"+E.a.oneElem(t.score)+"</div>")+E.a.oneElem("<div class='divjson-traffic__element-text'>"+E.a.oneElem(t.text)+"</div>"))+"</div>"}function pc(t,e,i){var n=t.json,o={},s={direction:n.direction||"vertical",valign:n.alignment_vertical||"top",halign:n.alignment_horizontal||"left",style:n.frame&&n.frame.style?n.frame&&n.frame.style:void 0};return n.width&&("numeric"===n.width.type?o.width=Vo(n.width.value):"predefined"===n.width.type&&"match_parent"===n.width.value?s.width="match-parent":"predefined"===n.width.type&&"wrap_content"===n.width.value&&(s.width="wrap-content")),n.height&&("numeric"===n.height.type?o.height=Vo(n.height.value):"predefined"===n.height.type&&"match_parent"===n.height.value&&(s.height="match-parent")),n.background&&n.background.length&&(o["background-image"]=i($a,n.background)),n.frame&&"border"===n.frame.style&&n.frame.color&&(o["border-color"]=Wo(n.frame.color)),i(Uc,{block:t.block,action:n.action,stack:t.stack,mix:home.getBEMClassname("divjson-container",{mix:i(fc,t),mods:s}),style:o,content:n.children.map((function(e){return qo(i,Dc,t,{json:e})})).join("")})}function fc(t){var e=t.json,i=[];return e.frame&&"shadow"===e.frame.style&&i.push("media-service__shadow"),e.frame&&e.frame.adaptive_bg&&i.push("divjson-container_adaptive-bg_yes"),i.join(" ")}function _c(t,e,i){var n=t.json,o=i(Ec),s=n.items.map((function(e,s){var r;return s===n.items.length-1?n.tail&&(r=o):r=n.padding_between_items&&n.padding_between_items.value||o,i(gc,{attrs:{style:home.makeStyle({"margin-right":r?Vo(r):void 0})},content:qo(i,pc,t,{json:e})})})).join("");if(n.tail){var r;r=n.tail.icon.image_url?i(vc,{image:n.tail.icon.image_url}):i(bc,{attrs:{style:home.makeStyle({"border-color":Wo(n.tail.icon.border_color||"#f2f2f2"),"background-color":Wo(n.tail.icon.fill_color||"#f2f2f2")})},svgAttrs:{fill:Wo(n.tail.icon.icon_color||"#808080")}}),s+=i(Oc,{defaultTag:"div",block:t.block,action:n.tail.action,stack:t.stack,mix:"divjson-gallery__item divjson-gallery__tail imageloader__column imageloader__card",content:r+i(Rc,{mix:"divjson-gallery__tail-text",text:n.tail.text||"",style:n.tail.text_style||"text_m"})})}return i(Uc,{block:t.block,action:n.action,stack:t.stack,mix:i(wc)+" "+home.getBEMClassname("divjson-gallery",{mods:{"padding-side":n.padding_modifier?n.padding_modifier.position||"left":void 0,"padding-size":n.padding_modifier&&n.padding_modifier.size?n.padding_modifier.size:void 0}}),js:i(kc,t),style:{"padding-top":n.padding_top?Vo(n.padding_top.value):void 0,"padding-bottom":n.padding_bottom?Vo(n.padding_bottom.value):void 0},content:i(yc,{items:s})})}function gc(t){return"<div "+w()(Object.assign({"class":"divjson-gallery__item imageloader__column imageloader__card"},t.attrs))+">"+E.a.oneElem(t.content)+"</div>"}function vc(t){return"<div "+w()({"class":"divjson-gallery__tail-icon divjson-gallery__tail-icon_image",style:"background-image:url(&quot;".concat(P(t.image),"&quot;);")})+"></div>"}function bc(t){return"<div "+w()(Object.assign({"class":"divjson-gallery__tail-icon divjson-gallery__tail-icon_arrow"},t.attrs))+">"+E.a.oneElem("<svg "+w()(Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},t.svgAttrs))+"><g fill-rule='evenodd'><path d='M4 13h12.17l-5.59 5.59L12 20l8-8-8-8-1.41 1.41L16.17 11H4z'/><path fill-opacity='.01' d='M24 24H0V0h24z'/></g></svg>")+"</div>"}function yc(t,e,i){return i(Di,{wrapMix:"imageloader__scroller media-service__wrap",listMix:"media-service__list divjson-gallery__list",content:i(H,{mix:"divjson-gallery__items-wrapper arrowed-list__items-wrapper",content:t.items})})}function wc(){return"media-service__list-wrapper arrowed-list arrowed-list_theme_media imageloader i-bem imageloader_different_yes"}function kc(t){return{imageloader:{},"arrowed-list":{counter:t.block}}}BEM.DOM.decl({block:home.cls.full("rtb-inserts"),modName:home.cls.part("type"),modVal:home.cls.part("native")},{_onScroll:function(t,e){var i=this.domElem;i||this.channel("i-reposition-event").un("reposition",this._onScroll,this),e+BEM.DOM.win.height()>i.offset().top-500&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this.params.shouldGetAdvManagerFromZenLib?this._nativeBundleByZen():this._nativeBundleByNetwork())},_nativeBundleByNetwork:function(){!function(t,e,i){var n=t.type,s=n,r=t.pcodever;r&&(window.pcodever=r),Wa[s]||za[s]?Wa[s]&&i&&i():(za[s]=!0,ti({native:"//an.yandex.ru/system/widget.js","new":"//yandex.ru/ads/system/context.js","default":"//an.yandex.ru/system/context.js"}[n],(function(){Wa[s]=!0,za[s]=!1,i&&i()}),(function(t){BEM.channel("adb").trigger("download",{id:"pcode."+n}),function(t){za[s]=!1,Object(o.a)({block:"pcodeLoader",message:"banner was hidden: cannot load pcode",sourceType:"network"},t)}(t),e&&e(t)})))}({type:"native"},this._remove.bind(this),this._pushImpToRender.bind(this))},_nativeBundleByZen:function(){var t=$(".zen-lib");if(t.length){var e=t.bem("zen-lib");e.nativeBundlePromise&&e.nativeBundlePromise.then(function(t){t?this._pushImpToRender():this._remove()}.bind(this))}},_onRender:function(){this.__base.apply(this,arguments),this.params.isTablet&&this.domElem.children().addClass("needsclick")},_pushImpToRender:function(){var t=this.params.additionalClasses;$("html").hasClass("document_dark_yes")&&t.push("dark"),window.yaads=window.yaads||[],window.yaads.push({id:this.params.blockId,render:"."+this._cls,success:this._onRender.bind(this),reject:this._handleError.bind(this),nonce:this.params.nonce,additionalClasses:t})}}),BEM.DOM.decl({name:"widgets-list",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.channel("widget").on("commit",this._onWidgetCommit,this),this._initWidgets(),this._bindEvents()}}},_bindEvents:function(){this.findBlockInside({block:"widget-control",modName:"footer",modVal:"yes"}).on("hide",(function(){this._collapse(function(){this._fireEvent("collapse")}.bind(this))}),this)},_initWidgets:function(){this.findBlocksInside("widget").forEach((function(t){t.bindTo("click",(function(){home.stat.logPath("click","widgets_list.fakeclick")}))}))},_onWidgetCommit:function(t,e){if("remove"===e.type){var i=e.widget.domElem.closest(".widgets-list__item");i.length&&(this.setMod(i,"hidden","yes"),i.onceAnimationEnd("animation",400,function(){BEM.DOM.destruct(i);var t=this.findBlockInside("arrowed-list");t&&t.onScroll(),this.findBlocksInside("widget").length||this._remove()}.bind(this)))}},_createMenu:function(){this.__base.apply(this,arguments),this._control.on("delete_all",(function(){window.confirm(Object(r.a)("widgetcontrol.confirm_delete_all"))&&this.findBlocksInside("widget").forEach((function(t){t.setMod("removed","yes")}))}),this)},_getMenuCustomItems:function(){return[{id:"delete_all",icon:"delete",text:Object(r.a)("widgetcontrol.delete_all")}]},_getMenuId:function(){return""}}),i("F8BX"),i("0EGh"),BEM.DOM.decl({block:"tutor",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_calcOverflow:function(t){Qe(t,2,"tutor")}});var Ec=F((function(){return 16}));function Mc(t,e,i){var n=t.json,o="divjson-tabs-"+home.rnd().substr(0,5),s=i(Tc,{id:o,json:n})||"";return i(Uc,{block:t.block,stack:t.stack,mix:"divjson-tabs i-bem "+i(xc,t),id:o,js:{"divjson-tabs":{uniqId:o,baseData:{block:t.block,stack:t.stack},data:Object.keys(n.items).slice(1).reduce((function(t,e){return t[e]=n.items[e].content,t}),{})}},content:s+i(Bc,{json:n,tabs:n.items.length>1?i(Ic,{content:n.items.map((function(e,n){var s=0===n,r=e.title.action;return i(ae,{href:r?r.url:void 0,mods:{selected:s?"yes":"no"},mix:home.getBEMClassname("divjson-tabs__tab",{mods:{selected:s?"yes":"no"}}),content:home.capitalize(e.title.text.toLowerCase()),attrs:{tabindex:s?"0":"-1","aria-selected":s?"true":"false","aria-controls":s?o+"_panel_"+n:void 0,"data-key":n,"data-stat-link":r?t.block+"."+r.log_id.replace(/\//g,".")+".link."+n:void 0,"data-stat-select":r?t.block+"."+r.log_id.replace(/\//g,".")+".select."+n:t.block+".tab.select."+n,id:o+"_tab_"+n}})})).join("")}):"",panels:i(Ct,{block:"divjson-tabs",id:o,key:"0",mix:i(Sc),attrs:{"aria-labelledby":o+"_tab_0"},content:qo(i,pc,t,{json:n.items[0].content})})})})}function xc(){return""}function Tc(){return""}function Cc(t,e,i){return t.json.items.forEach((function(t){t.title.action=null})),i(Mc,t)}function Sc(){return" media-service__panel"}function Bc(t){return E.a.oneElem(t.tabs)+E.a.oneElem("<div class='divjson-tabs__panels media-service__panels'>"+E.a.oneElem(t.panels)+"</div>")}function Ic(t){return"<div class='divjson-tabs__tabs'>"+E.a.oneElem(t.content)+"</div>"}function Pc(t,e,i){var n=t.json,o="divjson_"+home.rnd().substr(0,5),s="";t.id=o,n.background&&n.background.length&&i(Hc)&&(s="background-image:"+i($a,n.background));var r=i(Lc,{blocks:n.states[0].blocks,block:t.block}),a=n.states.map((function(t){return String(t.state_id)}));return a.length>1&&(r=i(H,{mix:"divjson__panels",content:i(Ct,{block:"divjson",id:o,key:a[0],content:r})})),i(Ac,{content:r,attrs:{style:s},js:{divjson:{keys:a,data:Object.keys(n.states).slice(1).reduce((function(t,e){return t[a[e]]={blocks:n.states[e].blocks},t}),{}),id:o,selectedKey:a[0],baseData:{block:t.block}}}})}function Dc(t,e,i){var n;if(n={"div-title-block":Ga,"div-separator-block":Za,"div-universal-block":tc,"div-image-block":ic,"div-table-block":nc,"div-buttons-block":lc,"div-footer-block":dc,"div-traffic-block":uc,"div-gallery-block":_c,"div-tabs-block":Cc,"div-container-block":pc}[t.json.type])return i(n,t)}function Oc(t,e,i){var n=t.action&&!t.stack.some((function(e,i){return i<t.stack.length-1&&e.hasAction}))&&t.action.url,o=n&&0===n.indexOf("div-action://set_state?state_id="),s=n&&!o?n:void 0,r=o&&n.slice("div-action://set_state?state_id=".length),a=s&&i(ht),c=home.deepExtend({href:s,"data-set-state":r||void 0,tabindex:r?"0":void 0},t.attrs||{});return a&&(c.target="_blank",c.rel="noopener"),i(Fc,{tag:s?"a":t.defaultTag||"div",stat:n&&t.action.log_id?e.stat.getAttr(t.block+"."+t.action.log_id.replace(/^([^(]+)\//g,"$1.")):"",attrs:c,mix:[t.mix||"",o&&"divjson__state-setter"].filter(Boolean).join(" "),content:t.content})}function jc(t,e,i){return i(Oc,{defaultTag:"div",action:t.action,block:t.block,stack:t.stack,attrs:{style:home.makeStyle(t.style),"data-bem":t.js?home.getBEMParams(t.js):void 0,id:t.id},mix:[t.mix,home.getBEMClassname("divjson__block",{mods:{"padding-side":t.padding_modifier?t.padding_modifier.position||"left":void 0,"padding-size":t.padding_modifier&&t.padding_modifier.size?t.padding_modifier.size:void 0}})].filter(Boolean).join(" "),content:t.content})}function Rc(t,e,i){if(t.text)return i(Nc,{mods:{style:(t.style||"").replace(/_/g,"-")},mix:[t.mix,t.maxLines&&"divjson__text_clamped_yes i-multiline-overflow"].filter(Boolean).join(" "),text:$o(t.text||""),attrs:{style:t.maxLines?home.makeStyle({"-webkit-line-clamp":t.maxLines,"max-height":({numbers_s:1.1,numbers_m:1.15,numbers_l:1,title_m:1.1,title_l:1.2,button:1.15,card_header:1.45}[t.style]||1.25)*t.maxLines+"em"}):void 0,"data-lines":t.maxLines}})}function Ac(t){return"<div "+w()(Object.assign({"class":"divjson i-bem"},t.attrs,{"data-bem":x(t.js||{})}))+">"+E.a.oneElem(t.content)+"</div>"}function Fc(t){return"<"+t.tag+' class="'+(t.mix||0===t.mix?t.mix:"")+'" '+N(t.attrs)+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+">"}function Nc(t){return"<div "+w()(Object.assign({"class":C("divjson__text",t||{})},t.attrs))+">"+E.a.oneElem(t.text)+"</div>"}function Lc(t,e,i){var n="",o="",s=[],r=!1;return t.blocks.forEach((function(e){"div-separator-block"===e.type?r&&s.push(e):"div-title-block"!==e.type||n?"div-footer-block"===e.type?o=qo(i,Dc,t,{json:e}):(r=!0,s.push(e)):n=qo(i,Dc,t,{json:e})})),i(zc,{header:n,headerAfter:o,content:s.map((function(e){return qo(i,Dc,t,{json:e})})).join("")})}function Uc(t,e,i){return t.stack.slice(0,t.stack.length-1).some((function(t){return"div-container-block"!==t.type&&"div-tabs-block"!==t.type}))||(t.mix=[t.mix,"divjson__block_toplevel_yes"].filter(Boolean).join(" ")),i(jc,t)}function Hc(){return!1}function zc(t){return E.a.oneElem("<div class='media-service__header'>"+(E.a.oneElem(t.header)+E.a.oneElem(t.headerAfter))+"</div>")+E.a.oneElem("<div class='media-service__content divjson__content'>"+E.a.oneElem(t.content)+"</div>")}BEM.DOM.decl({block:"divjson-block",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){BEM.blocks["i-intersection-observer-wrapper"].create((function(t,e){t.forEach((function(t){if(t.isIntersecting){var i=t.target;$(i).bem("divjson-block")._loadBlockData(),e.unobserve(i)}}))}),{threshold:0,rootMargin:"300px 100px"}).observe(this.domElem[0])}}},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var t=this.params.api;return $("html").hasClass("document_dark_yes")&&(t=A(t,{theme:"dark"})),$.ajax({url:t,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).asPromise().then(function(t){if(this._checkData(t))return t;throw new Error("Incorrect data")}.bind(this),(function(t){throw t.json&&t.json.errors&&home.error(t.json),t})).then(function(t){if(!t)return Promise.reject();this._onLoad(t)}.bind(this),function(t){throw home.error.logError({block:this.__self.getName(),method:"_loadBlockData",message:"Incorrect data"},t),t}.bind(this))["catch"](function(){BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]"))}.bind(this))}},_checkData:function(t){return"object"==typeof t&&Array.isArray(t.states)&&t.states.length>0},_onLoad:function(t){this._drawBlock(t)},_drawBlock:function(t){this._control=null,BEM.DOM.update(this.domElem,b(Pc,{json:t,block:this.params.layoutName})),this.domElem.toggleClass("media-service_tabs_yes",!!this.domElem.find(".divjson-tabs__tabs").length),this._createMenuChecked(),home.stat.logDOMShow(this.domElem),home.stat.logPath("tech","tech.div1"),this.params.showUrl&&BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],showedTime:0,urls:[this.params.showUrl],blockId:this.params.layoutName})}},{live:function(){return this.__base.apply(this,arguments),!1}}),BEM.DOM.declMix("mix-divjson",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._recalcOverflow()}}},_recalcOverflow:function(){this.domElem.find(".i-multiline-overflow").toArray().forEach((function(t){var e=$(t);Qe(e,e.data("lines"))}))},_selectTabChecked:function(t){this._keys.indexOf(t)>-1&&this._selectTab(t)},_getPanelHTML:function(t,e){for(var i in this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(e[i]=this.params.baseData[i]);return b(Lc,e)}},{live:function(){return this.liveBindTo("state-setter","click",(function(t){this._selectTabChecked(String(t.data.domElem.data("set-state")))})),!1}}),i("ePSr"),i("X48e"),i("qhR9"),BEM.DOM.declMix("mix-divjson-tabs",{_getPanelHTML:function(t,e){for(var i in e={json:e},this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(e[i]=this.params.baseData[i]);return b(pc,e)},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach((function(t){t.setMod("visible","yes")}))},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass(b(Sc)),t}}),i("pL+S"),BEM.DOM.decl({block:"divjson2-block",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.params.api&&BEM.blocks["i-intersection-observer-wrapper"].create((function(t,e){t.forEach((function(t){if(t.isIntersecting){var i=t.target;$(i).bem("divjson2-block")._loadBlockData(),e.unobserve(i)}}))}),{threshold:0,rootMargin:"300px 100px"}).observe(this.domElem[0])}}},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var t=this.params.api;if(t)return t=A(this.params.api,{dpr:window.devicePixelRatio||1}),$("html").hasClass("document_dark_yes")&&(t=A(t,{theme:"dark"})),$.ajax({url:t,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).asPromise().then(function(e){if(e&&e.error){var i=new Error("Server error: "+e.error),n=home.parseUrl(t);throw i.url=n.host+n.path,i.meta=home.deepExtend({reqid:e.reqid},e.additional||{}),i}var o=this._checkData(e);if(!o)return e;throw new Error("Incorrect data: "+o)}.bind(this),(function(t){throw t.json&&t.json.errors&&home.error(t.json),t})).then(function(t){try{this._onLoad(t)}catch(e){throw e&&e.message&&(e.message="Render error: "+String(e.message)),e}}.bind(this))["catch"](function(t){home.error.logError({block:this.__self.getName(),source:this.params.layoutName},t),BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]"))}.bind(this))}},_checkData:function(t){if(!t||"object"!=typeof t||!t.card||"object"!=typeof t.card)return'Missing "card" field';var e=b(Ms,{json:t});return"ok"!==e?e||"Unknown error":""},_onLoad:function(t){this._drawBlock(t)},_drawBlock:function(t){var e=this.domElem.height();this.domElem.removeClass("media-service_dummy_yes"),this._control=null,BEM.DOM.update(this.domElem,b(xs,{json:t,layoutName:this.params.layoutName,titleIcon:this.params.titleIcon}));var i=!!this.domElem.find(".media-service__tabs").length;this.domElem.toggleClass("media-service_tabs_yes media-service_inline-tabs_yes",i);var n=b(Hs,{json:t.card,templates:t.templates,context:{},layoutName:this.params.layoutName});if(n&&(n.json.background_color||n.context.background_color)){var o=n.json.background_color||n.context.background_color,s=this.domElem.closest(".media-grid__row");s.addClass("media-grid__row_bg_yes"),"1"!==o&&s.css("background",Wo(o))}this._createMenuChecked(),home.stat.logDOMShow(this.domElem),home.stat.logPath("tech","tech.div2"),this.params.showUrl&&BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],showedTime:0,urls:[this.params.showUrl],blockId:this.params.layoutName}),setTimeout(function(){this.domElem&&Ha(this.params.layoutName,"tech.divjson2",e,this.domElem.height())}.bind(this),100)}},{live:function(){return this.__base.apply(this,arguments),!1}}),BEM.DOM.declMix("mix-divjson2",{_selectTabChecked:function(t){this._keys.indexOf(t)>-1&&this._selectTab(t)},_getPanelHTML:function(t,e){var i={templates:this.getTemplates(),context:{}};for(var n in this.params.baseData)this.params.baseData.hasOwnProperty(n)&&(i[n]=this.params.baseData[n]);return b(Cs,Ko(i,{json:e},!0))},_setStates:function(t,e,i){if(t.forEach((function(t){var e=t.url;if(e){var i=home.parseUrl(e).query.state_id;if(i){var n=i.split("/"),o=n[0];if(this._selectTabChecked(o),3===n.length){var s=this.domElem.find('[data-div-id="'+n[1]+'"]');s.length?s.bem("divjson2-state").setState(n[2]):home.error.logError({block:"divjson2-block",source:this.params.baseData.layoutName,message:"Cannot find state block",meta:{divId:n[1]}})}}}t.log_url&&((new Image).src=t.log_url),home.stat.logPath("click",t.log_id)}),this),i){var n=$(e),o=n.closest(".divjson2-state");o.length&&o.bem("divjson2-state").moveFocusIfNeeded(n)}},getTemplates:function(){return this.params.templates}},{live:function(){return this.liveBindTo("state-setter","click",(function(t){this._setStates(t.data.domElem.data("set-state"),t.target,!1)})),this.liveBindTo("log-url","click",(function(t){var e=t.data.domElem.data("log-url");e&&((new Image).src=e)})),!1}}),i("MoMy"),BEM.DOM.decl("divjson2-text",{onSetMod:{js:{inited:function(){Qe(this.elem("range"),this.domElem.data("lines"))}}}}),BEM.DOM.decl({block:"divjson2-text",modName:"marquee",modVal:"yes"},{onSetMod:{js:{inited:function(){this._timeout=setTimeout(function(){var t=this._uniqId+"-frames",e=this.domElem.outerWidth(),i=this.domElem.prop("scrollWidth");if(!(i<=e)){var n=e-i,o=-n/30;this.domElem.before("<style>@keyframes "+t+"{0%{transform:translateX(0);}"+(.5/(o+.5)*100).toFixed(1)+"%{transform:translateX(0);}100%{transform:translateX("+Vo(n)+");}}</style>");var s=t+" "+(o+.5).toFixed(2)+"s -.5s "+(-1===this.params.marqueeRepeat?"infinite":2*this.params.marqueeRepeat)+" linear alternate";this.elem("inner").css({animation:s})}}.bind(this),this.params.marqueeDelay)}}},destruct:function(){clearTimeout(this._timeout),this.__base.apply(this,arguments)}}),i("CKPf"),BEM.DOM.declMix("mix-divjson2-tabs",{_getPanelHTML:function(t,e){var i={};for(var n in this.params.baseData)this.params.baseData.hasOwnProperty(n)&&(i[n]=this.params.baseData[n]);return i.templates=this.findBlockOutside("divjson2").getTemplates(),b(Cs,Ko(i,{json:e},!0))},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach((function(t){t.setMod("visible","yes")}))}}),i("kepD"),i("aL1Z"),BEM.DOM.decl({block:"divjson2-state",baseMix:["mix-tabber"]},{setState:function(t){this._keys.indexOf(t)>-1?this._selectTab(t):home.error.logError({block:"divjson2-block",source:this.params.baseData.layoutName,message:"Missing state",meta:{divId:this.params.divId,stateId:t}})},moveFocusIfNeeded:function(t){this._$panel&&t.closest(this.domElem).length&&(t.closest(this._$panel).length||this._$panel.find("a[href], [tabindex]").filter(":visible").eq(0).focus())},_getPanelHTML:function(t,e){var i={};for(var n in this.params.baseData)this.params.baseData.hasOwnProperty(n)&&(i[n]=this.params.baseData[n]);return i.templates=this.findBlockOutside("divjson2").getTemplates(),b(Cs,Ko(i,{json:e.div},!0))},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach((function(t){t.setMod("visible","yes")}))},_togglePanelsOnChange:function(){var t=this.elem("panels"),e=t[0].getBoundingClientRect();this.__base.apply(this,arguments);var i=t[0].getBoundingClientRect();(Math.abs(i.width-e.width)>1||Math.abs(i.height-e.height)>1)&&this._animateSize(e,i,{})},_animateSize:function(t,e,i){var n=this._style;n||(n=this._style=$("<style>").appendTo("head")[0]),this._counter=(this._counter||0)+1;var o=this.params.uniqId+"-"+this._counter;n.textContent="@keyframes "+o+"{0%{width:"+t.width+"px;height:"+t.height+"px}100%{width:"+e.width+"px;height:"+e.height+"px}}",this.elem("panels").css("animation",this._getCSSAnimation(o,i)).onceAnimationEnd("animation",0,function(){this.elem("panels").css("animation","")}.bind(this))},_markAnimation:function(t,e){this._animationFlags=this._animationFlags||{},e?(this._animationFlags[t]=!0,this.setMod("animation","yes")):(delete this._animationFlags[t],0===Object.keys(this._animationFlags).length&&this.delMod("animation"))},_toggleMountPanel:function(t,e,i){var n=this;if(i){e.parent().length||this.elem("panels").append(e);var o=this.params.data[t].animation_in;e.removeClass("divjson2-state__panel_hidden_yes").removeClass("divjson2-state__panel_no-place_yes"),o&&(this._markAnimation(t,!0),e.css("animation",this._getCSSAnimation(this._getAnimationName(o,"in"),o)).onceAnimationEnd("animation",0,(function(){e.css("animation",""),n._markAnimation(t,!1)})))}else{var s=this.params.data[t].animation_out||{name:"fade"};s?(this._markAnimation(t,!0),e.addClass("divjson2-state__panel_no-place_yes").css("animation",this._getCSSAnimation(this._getAnimationName(s,"out"),s)).onceAnimationEnd("animation",0,(function(){n._markAnimation(t,!1),e.css("animation",""),n._selectedKey!==t&&e.addClass("divjson2-state__panel_hidden_yes").removeClass("divjson2-state__panel_no-place_yes")}))):e.addClass("divjson2-state__panel_hidden_yes")}},_getAnimationName:function(t,e){return("translate"===t.name?"divjson2StateTranslate":"divjson2StateFade")+("in"===e?"In":"Out")},_getAnimationTiming:function(t){var e="ease-in-out",i={linear:"linear",ease:"ease",ease_in:"ease-in",ease_out:"ease-out"},n=t.interpolator;return n in i&&(e=i[n]),e},_getCSSAnimation:function(t,e){return[this._getAnimationTiming(e),1,t,((Number(e.duration)||300)/1e3).toFixed(2)+"s",((Number(e.start_delay)||0)/1e3).toFixed(2)+"s"].join(" ")}}),i("Aih1"),i("9UFm"),i("BK1X"),i("TW4b"),i("Ba8m"),i("sHJt"),i("ej2x"),i("5Wo9"),i("2LTt")},qVEr:function(t,e){BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",(function(t){this.hasMod("disabled")||this._onClick(t)})),this.liveBindTo("pointerover pointerout",(function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("mousedown",(function(t){t.preventDefault()})),this.__base()}})},qWmC:function(t,e){BEM.DOM.decl({block:"notifier",modName:"no-login",modVal:"yes"},{_fetchCounter:function(){this.params.iframeUrl&&this.params.iframeUrl.indexOf("no_login=1")>=0||this.__base.apply(this,arguments)},_getFakeNotificationIds:function(){return this.params.fakeIds||["0","1","2"]},_getYndxNotificationIds:function(t){try{var e=window.localStorage.getItem("yndx-notification"+(t?":"+t:""));return e?JSON.parse(e):[]}catch(i){return[]}}})},qhR9:function(t,e){BEM.DOM.decl("divjson-table",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._size=this._calcSize(),this.bindToWin("resize",this.throttle(this._onResize,300))}}},_onResize:function(){var t=this._calcSize();t!==this._size&&(this._size=t,this._autoSizeTable())},_calcSize:function(){var t=BEM.DOM.win.width();return t>=1900?1900:t>=1600?1600:0},destruct:function(){this.unbindFromWin("resize"),this.__base.apply(this,arguments)}})},qtrq:function(t,e){BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},(function(t){e.call(this,{items:t[1],metainfo:t[2]})}))}})},rOm1:function(t,e){var i;i=BEM.channel("i-reposition-event"),BEM.channel("i-scroll-event").on("scroll",(function(t,e){i.trigger("reposition",e)})),BEM.decl("i-reposition-event",{},{trigger:function(){return i.trigger("reposition",$(window).scrollTop()),this}})},rcUG:function(t,e){!function(t){var e=t(window),i=o(),n=s();function o(){return window.innerHeight|0+e.outerHeight()}function s(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=o(),r=s();if(n===r&&i===e)return!1;i=e,n=r}}(jQuery)},rfak:function(t,e){var i;i={logError:function(t,e){if("object"!=typeof t&&(t={message:t}),e){if(e.logged)return;e.logged=!0}this._rumLogError(t,e)},logAjaxError:function(t,e,i,n){this._rumLogAjaxError(t,e,i,n)},setProject:function(t){this._checkRumErrorCounter()&&Ya.Rum.updateErrors({project:t})},restoreDefaultProject:function(){if(this._checkRumErrorCounter()){for(var t,e=Ya.Rum.getVarsList(),i=0;i<e.length&&(t=e[i].split("="))&&"-project"!==t[0];)i++;"-project"===t[0]&&t[1]&&this.setProject(t[1])}},_rumLogError:function(t,e){this._checkRumErrorCounter()&&Ya.Rum.logError(this._prepareRumOptions(t,e),e)},_rumLogAjaxError:function(t,e,i,n){this._checkRumErrorCounter()&&(t.message||(t.message=t.method?t.method+" ajax":"AjaxError"),Ya.Rum.logAjaxError(this._prepareRumOptions(t),e,i,n))},_prepareRumOptions:function(t,e){var i={};return e=e||{},t.message&&(i.message=t.message),t.block&&(i.block=t.block),t.method&&(i.method=t.method),t.level&&(i.level=t.level),(t.sourceType||e.sourceType)&&(i.type=t.sourceType||e.sourceType),t.source&&(i.source=t.source),t.sourceMethod&&(i.sourceMethod=t.sourceMethod),t.coordinates_gp&&(i.coordinates_gp=t.coordinates_gp),(t.meta||e.meta)&&(i.additional=t.meta||e.meta),(t.url||e.url)&&(i.additional=i.additional||{},i.additional.url=t.url||e.url),i},_checkRumErrorCounter:function(){return!!window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError}},home.error=function(t,e){i.logError.bind(i)(t,e)},home.deepExtend(home.error,i)},ruje:function(t,e){var i;"undefined"!=typeof Widget&&void 0===Widget.Wrapper&&(i=jQuery,Widget.Wrapper=function(t){this._(t)},Widget.Wrapper.prototype={undef:function(t){return t},_:function(t){this.widget=t,this.widget.wrapper=this,Widget.Framework._wrappers[this.$$()]=t},$:function(t){return i("#"+this.$$(t))},$$:function(t){return Widget.Framework.params.wrapperPrefix+(t==this.undef()?"wrapper":t)+Widget.Framework.params.wrapperPostfix+this.widget.id},setTitle:function(t){this.$("title").html((""+t).replace(/</g,"&lt;"))},getWindowSize:function(){var t=window;if(void 0!==t.innerWidth)return{width:t.innerWidth,height:t.innerHeight};var e=document[i.support.boxModel?"documentElement":"body"];return{width:e.clientWidth,height:e.clientHeight}},_px:function(t){return(""+t).match("^[0-9]+$")&&(t+="px"),t},setIFrameHeight:function(t){this.$().css("height",""),this.$("iframe").css("height",this._px(t))},setIFrameWidth:function(t){this.$("iframe").css("width",this._px(t))},setIFrameSize:function(t,e){this.$("iframe").css("height",this._px(e)).css("width",this._px(t))},setPreferencesFormWidth:function(t){var e=this.getWindowSize().width;t=e/t<2?e/2:t,this.$("prefs").css("width",this._px(t))},setPreferencesFormHeight:function(t){var e=this.getWindowSize().height;t=e/t<2?e/2:t,this.$("prefs").css("height",this._px(t))},setPreferencesFormSize:function(t,e){this.setPreferencesFormWidth(t),this.setPreferencesFormHeight(e)},showPreferences:function(){Widget.Framework.params.showPreferencesHandler(this.widget)},hidePreferences:function(){Widget.Framework.params.hidePreferencesHandler(this.widget)},showEditForm:function(t){return Widget.Framework.showEditForm(this.widget.id,t)}})},rwjG:function(t,e){home.loadScript=function(t,e,i,n){var o=document.createElement("script");n&&(o.nonce=n),o.charset="utf-8",o.onload=e,o.onerror=i,o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}},sHJt:function(t,e){!function(){if(window.home&&home.getData&&home.getData("i-scroll-changes.data")){var t,e=home.getData("i-scroll-changes.data");e.scroll_slowdown_listener&&(t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!1},window.addEventListener("scroll",(function(){}),t)),e.scroll_slowdown_dom_calc&&function(){var t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},e=0;window.addEventListener("scroll",(function(){var t=$("[data-blockname]").toArray(),i=window.pageYOffset,n=$(window).height();t.forEach((function(t){var o=$(t),s=o.offset().top,r=o.height();s>=i&&s+r<=i+n&&++e>10&&(e=0)}))}),t)}(),e.scroll_speedup_hover&&function(){var t,e=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0};window.addEventListener("scroll",(function(){$("body").addClass("body_hover_none"),clearTimeout(t),t=setTimeout((function(){$("body").removeClass("body_hover_none")}),200)}),e)}()}}()},sRsx:function(t,e){BEM.DOM.decl("menu",{onSetMod:{focused:{yes:function(){if(this.__base.apply(this,arguments),this.hasMod("type","navigation"))return!1;this.elem("item","hovered","yes").length||(this.setMod(this.elem("item").eq(0),"hovered","yes"),this._scrollToItem(this.elem("item").eq(0))),this.bindToDoc("keydown",this._onKeydown).bindToDoc("keyup",this._onKeyup).bindToDoc("keypress",this._onKeypress)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("keydown keyup keypress").delMod(this.elem("item","hovered","yes"),"hovered")}}},hoverNext:function(t){for(var e,i,n=t?this.getItems().reverse():this.getItems(),o=0,s=!1;i=n[o];o++)if(!this.hasMod(i,"disabled"))if(this.hasMod(i,"hovered"))s=!0;else{if(s){e=i;break}e||(e=i)}e&&(this.setMod(e,"hovered","yes"),this._scrollToItem(e))},hoverText:function(t,e){for(var i,n=this.getItems(),o=n.length,s=this._normalizeText(t),r=e||0;r<o;){if(i=n[r],!this.hasMod(i,"disabled")&&0===this._normalizeText(i.text()).indexOf(s))return this.setMod(i,"hovered","yes"),void this._scrollToItem(i);++r===n.length&&(r=0,o=e)}},_normalizeText:function(t){return t.toLowerCase().replace(//,"")},reset:function(){this.__base.apply(this,arguments),this._dropSearchCache()},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_scrollToItem:function(t){var e=this.domElem.offset().top,i=t.offset().top,n=0;i<e?n=i-e:(n=i+t.outerHeight()-e-this.domElem.outerHeight())<0&&(n=0),this.domElem.scrollTop(this.domElem.scrollTop()+n)},_onKeydown:function(t,e){var i=BEM.blocks.keycodes,n=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||((i.is(n,"UP","DOWN")||!e&&n===i.SPACE)&&t.preventDefault(),i.is(n,"UP","DOWN")&&(this.hoverNext(i.is(n,"UP")),this._dropSearchCache()))},_onKeyup:function(t){var e=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||e.is(i,"ENTER","SPACE")&&this._onItemClick(this.elem("item","hovered","yes"),t,{source:"keyboard"})},_onKeypress:function(t){var e,i,n=Number(new Date),o=t.charCode,s=String.fromCharCode(o).toLowerCase(),r=s===this._lastChar&&1===this._searchTerm.length,a=this.getItems();o<=BEM.blocks.keycodes.SPACE||t.ctrlKey||t.altKey||t.metaKey?this._lastTime=n:(n-this._lastTime>this.SEARCH_TIMEOUT||r?this._searchTerm=s:this._searchTerm=(this._searchTerm||"")+s,this._lastChar=s,this._lastTime=n,e=this.elem("item","hovered","yes"),i=(i=$($.map(a,(function(t){return t.get()}))).index(e))>=0?i:0,r&&0===this._normalizeText(e.text()).indexOf(this._searchTerm)&&(i=i>=a.length-1?0:i+1),this.hoverText(this._searchTerm,i))},SEARCH_TIMEOUT:1500})},sYaB:function(t,e){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this._historyState=0,this._transitionendEvent=MBEM.transitionendEvent(),this._afterTransition=this._afterTransition.bind(this)},_onDeleteClick:function(t,e){MBEM.cls.add(e,"mini-suggest__item_hidden_yes"),e.addEventListener(this._transitionendEvent,this._afterTransition),setTimeout(function(){this._afterDelete(e)}.bind(this),350),MBEM.ajax(this.params.deleteUrl+MBEM.encodeUriComponent(e.getAttribute("data-text"))),this._historyState+=1},_afterDelete:function(t){var e=t.parentNode;e&&(e.removeChild(t),this._removeItem(t),0===e.childNodes.length&&this._update(!0))},_afterTransition:function(t){this._afterDelete(t.target)},_onPopupClick:function(t){var e=t.target;if(MBEM.cls.contains(e,"mini-suggest__delete")){var i=MBEM.closest(e,"mini-suggest__item_personal_yes");if(i)return void this._onDeleteClick(e,i)}this.__base.apply(this,arguments)},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return t.hs=this._historyState,t},_buildItem:function(t){var e=this.__base.apply(this,arguments);return"fulltext"===t[0]&&t[5]&&t[5].personal&&(e=this._personalExtend(e)),e},_personalExtend:function(t){return t.className+=" mini-suggest__item_personal_yes",t.attrs["data-personal"]=1,t.content.button="delete",t},_getItemEventProps:function(t){var e=this.__base.apply(this,arguments);return e.personal=Boolean(t.getAttribute("data-personal")),e}})},sZdo:function(t,e){home.pseudoReady((function(){var t=home&&home.getData&&home.getData("referers.data");if(t){var e=location.hash?location.hash.replace(/^#/,""):"",i=e&&e.match(/^[1-578]$/);i&&t.referer&&home.error.logError({block:"referers-check",sourceType:"clckerror",message:"clck error",url:t.referer,meta:{hash:i}})}}))},seaW:function(t,e){BEM.decl("i-message-locker",{},{blockOrder:["b-time-banner","b-hs-balloon","dist-popup","dist-overlay","themes-touch-promo","stream-promo-popup","themes-promo","media-zen-promo"]})},sqf1:function(t,e){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return"fulltext"!==t[0]&&"fact"!==t[0]||!t[5]||t[5].personal||"phone"===t[5].type||(e=this._addArrow(t,e)),e}})},sx9R:function(t,e){MBEM.decl("mini-suggest",{_getParams:function(t){return Object.keys(t).reduce((function(e,i){return""===t[i]||e.push(i+"="+("vars"===i?t[i]:encodeURIComponent(t[i])).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e}),[])},_getParamsList:function(){var t,e,i=this.__base.apply(this,arguments),n=window.home&&home.stat&&home.stat.getCustomPageParams(),o={};if(window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("153.1896"),window.home&&home.stat&&home.stat.logPath("click","search_go"),n){for(var s=0,r=(n=n.replace(/^\//,"").split("/")).length;s<r;s++)t=(e=n[s]).indexOf("="),o[e.substr(0,t)]=e.substr(t+1,e.length);var a=home.stat.getRoot(),c=home.getData?home.getData("timing.reqid"):"";return a&&(o.lid=a+".searchgo"),c&&(o.sid=c),i.concat(o)}return i}})},tIdE:function(t,e){!function(t){BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){var e,i;return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=(e=this._anchor,i="_"+this.__self.getName()+"-destructor",e.addClass("i-bem "+i).bem(i)),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(e){var i=this.__base.apply(this,arguments);if(void 0===this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor){var n=0,o=0,s=this._getFirstFixedParent(this._scope);if(s){var r=s.offset();n=r.left,o=r.top}i.left-=t(window).scrollLeft()-n,i.top-=t(window).scrollTop()-o}return t.extend(i,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(e){for(e=e[0];e;){if(1===e.nodeType&&"fixed"===t(e).css("position"))return t(e);e=e.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce((function(t,e){return t+Number(e.getMod("level"))}),t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup, .popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")}return this._parentPopup}}),BEM.DOM.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery)},tJai:function(t,e){!function(t,e){"use strict";t.Ya=t.Ya||{};var i=t.Ya.ycCookie=t.Ya.ycCookie||{};function n(){for(var t,i=e.cookie.split("; "),n=0;n<i.length;++n)if("yc"===(t=i[n].split("="))[0])return r(t.slice(1).join("="))||{};return{}}function o(t){var i,n,o=function(t){if(t&&"object"==typeof t){for(var e,i,n=[],o=0,s=Object.keys(t),r=s.length;o<r;o++)e=t[s[o]],i=[s[o],encodeURIComponent(e.value||e)],/^\d+$/.test(e.expires)&&i.unshift(e.expires),n.push(i.join("."));return n.join("#")}}(t),s=new Date,r=s.getTime();o?s.setTime(r+12096e5):s.setTime(r-487),i="expires="+s.toUTCString(),n="domain="+e.domain.replace(/^\S*yandex/,".yandex"),e.cookie="yc="+o+"; "+i+"; "+n+"; path=/"}function s(t){try{return decodeURIComponent(t)}catch(e){return t}}function r(t){if(!t||"string"!=typeof t||!t.length)return{};/%23\d{10}/.test(t)&&(t=s(t)),t=t.split("#");for(var e,i=Date.now()/1e3,n={},o=0,r=t.length;o<r;o++)2===(e=t[o].split(".")).length?n[e[0]]=s(e[1]):e.length>2&&(isNaN(e[0])?n[e[0]]=s(e.slice(1).join(".")):e[0]>i&&(n[e[1]]={value:s(e.slice(2).join(".")),expires:e[0]}));return n}i.get=function(t){var e,i,o,s=n(),r={};if(!s[t])return{};(e=s[t])&&e.value&&(e=e.value);for(var a=0,c=(i=e.split(",")).length;a<c;++a)r[(o=i[a].split(":"))[0]]=parseInt(o[1],10);return r},i.set=function(t,e){if(!t||!e||"object"!=typeof e)return this;var i,s,r,a=n(),c=[];for(i=0,s=(r=Object.keys(e)).length;i<s;i++)c.push(r[i]+":"+e[r[i]]);return c.length?(a[t]={value:c.join(","),expires:String(Math.floor(Date.now()/1e3+259200))},o(a),this):this},i.remove=function(t){if(!t)return this;var e=n();return delete e[t],o(e),this}}(window,document)},"tJo/":function(t,e){var i=function(t,e,i){var n,o=t,s=e,r=i||!1,a=!1;function c(t){return i?n=setTimeout(o,t):(n=setInterval(o,t),a=!0),n}function l(){a&&(r?clearTimeout(n):clearInterval(n),a=!1)}return{start:function(){return c(s)},restart:function(t){return l(),c(t)},stop:function(){l()}}};window.WTimersHandler=function(){var t={};function e(e,i){return e in t&&i in t[e]}return{add:function(n,o,s){"undefined"!==t[n]&&"object"==typeof t[n]||(t[n]={}),s=s||{};var r,a,c,l=new i(o.fn,864e5,o.runOnce),h=l.start();if(t[n][h]=l,"startTimerOn"in s){var d=(r=n,a=h,c=o.delay,function(){e(r,a)&&t[r][a].restart(c)}),u=s.startTimerOn;setTimeout(d,u)}else t[n][h].restart(o.delay);if("stopTimerOn"in s){var m=function(){var i=n,o=h;return function(){e(i,o)&&(t[i][o].stop(),delete t[i][o])}}(),p=s.stopTimerOn;setTimeout(m,p)}return h},remove:function(i,n){return!!e(i,n)&&(t[i][n].stop(),delete t[i][n],!0)}}}},tf2I:function(t,e){!function(t,e){if(!e.event.special.pointerclick){var i,n=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,o="touchAction"in document.documentElement.style,s=[],r=[],a=null,c=null,l=o?function(t){return function e(t){return!(!t||t===document.documentElement)&&("manipulation"===getComputedStyle(t)["touch-action"]||e(t.parentElement))}(t)}:function(){return!1};n?(i={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return u.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==e&&"pointerup"!==e||!l(t.target)))if("pointerdown"===e)c=t;else if("pointermove"===e&&c&&(c.target!==t.target||d(c,t)))c=null;else if("pointerleave"===e||"pointercancel"===e)c=null;else if("pointerup"===e){if(h(t),!c)return;if(!(t.timeStamp-c.timeStamp>250))return a||(a=setTimeout((function(){a=c=null}))),u.apply(this,arguments);c=null}}},["mousedown","click"].forEach((function(e){t.addEventListener(e,(function(t){!function(t){var e=t.clientX,i=t.clientY,n="_compat"+t.type;if(!t._sourcePoint){for(var o=0;o<s.length;o++){var a=s[o],c=a.target===t.target;if(!a[n]&&(c||!(Math.abs(e-a.clientX)>25||Math.abs(i-a.clientY)>25))&&(c||document.elementFromPoint(a.clientX,a.clientY)!==a.target)){t._sourcePoint=a,a[n]=t;break}}r.push(t),setTimeout(Array.prototype.shift.bind(r),900)}}(t),function(t){var e=function(t){for(var e=0;e<r.length;e++)if(r[e]===t)return r[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())}),!0)}))):i={click:function(t){return u.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(i)},teardown:function(){e(this).off(i)}}}function h(t){t.isPrimary&&(s.push(t),setTimeout(Array.prototype.shift.bind(s),900))}function d(t,e){return Math.abs(t.clientX-e.clientX)>10||Math.abs(t.clientY-e.clientY)>10}function u(t){var i,n=t.type;return t.button||(t.type="pointerclick",i=e.event.dispatch.apply(this,arguments),t.type=n),i}}(window,jQuery)},tijA:function(t,e){window.y5Url=function(){var t={UNDEF:"undefined"};t.Types={UNDEF:1,UNDEFINED:1,OBJECT:2,FUNCTION:4,NUMBER:8,STRING:16,BOOLEAN:32,DATE:1024,REGEXP:2048,ARRAY:4096,NULL:8192,EVENT:16384,NODE:32768,TYPES:{undefined:1,object:2,"function":4,number:8,string:16,boolean:32},type:function(t){var e=this.TYPES[typeof t];if(null===t)return this.NULL;if(e==this.OBJECT&&(t.nodeName||this.document(t)))return this.NODE;if(e==this.OBJECT||e==this.FUNCTION)switch(t.constructor){case Array:return this.ARRAY;case RegExp:return this.REGEXP;case Date:return this.DATE}return this.event(t)?this.EVENT:e},test:function(t,e){return!!(this.type(t)&e)},def:function(t){return typeof t!=e},undef:function(t){return typeof t==e},object:function(t){return"object"==typeof t},func:function(t){return"function"==typeof t},nativeFunc:function(t){return this.func(t)&&isNativeFunc.test(t.toString())},number:function(t){return"number"==typeof t},string:function(t){return"string"==typeof t},bool:function(t){return"boolean"==typeof t},nul:function(t){return null===t},array:function(t){return t instanceof Array},regexp:function(t){return t instanceof RegExp},date:function(t){return t instanceof Date},event:function(t){return t&&typeof t.type!=e&&typeof(t.stopPropagation||t.cancelBubble)!=e},element:function(t){return checkDomNode(t,Node.ELEMENT_NODE)},attribute:function(t){return checkDomNode(t,Node.ATTRIBUTE_NODE)},text:function(t){return checkDomNode(t,Node.TEXT_NODE)},document:function(t){return t&&typeof t.documentElement!=e||!1},comment:function(t){return checkDomNode(t,Node.COMMENT_NODE)},node:function(t){return t&&typeof t.nodeType!=e}};for(var e=t.UNDEF,i=t.Types,n=/^((((\w+):)\/\/)?(([\w\-\.]+\.\w+|localhost)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,o=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,s="E9F6F3EAE5EDE3F8F9E7F5FAF4FBE2E0EFF0EEEBE4E6FDFFF7F1ECE8F2FCE1FEB8C9D6D3CAC5CDC3D8D9C7D5DAD4DBC2C0CFD0CECBC4C6DDDFD7D1CCC8D2DCC1DEA8".match(/../g),r="%D0%B9%D1%86%D1%83%D0%BA%D0%B5%D0%BD%D0%B3%D1%88%D1%89%D0%B7%D1%85%D1%8A%D1%84%D1%8B%D0%B2%D0%B0%D0%BF%D1%80%D0%BE%D0%BB%D0%B4%D0%B6%D1%8D%D1%8F%D1%87%D1%81%D0%BC%D0%B8%D1%82%D1%8C%D0%B1%D1%8E%D1%91%D0%99%D0%A6%D0%A3%D0%9A%D0%95%D0%9D%D0%93%D0%A8%D0%A9%D0%97%D0%A5%D0%AA%D0%A4%D0%AB%D0%92%D0%90%D0%9F%D0%A0%D0%9E%D0%9B%D0%94%D0%96%D0%AD%D0%AF%D0%A7%D0%A1%D0%9C%D0%98%D0%A2%D0%AC%D0%91%D0%AE%D0%81".match(/.{6}/g),a={},c=encodeURIComponent,l=[".xml",".html",".xhtml",".jpg",".gif",".png",".css",".js",".xsl",".php",".py",".pl"],h=0,d=s.length,u=/%3B|%2C|%2F|%3F|%3A|%40|%26|%3D|%2B|%24/gi;h<d;h++)a[s[h]]=r[h];function m(t,e){return a[e]||t}function p(t){return t.replace(/%([A-Fa-f0-9]{2})/g,m)}function f(t){var e=t.replace(/\+/g,"%20");try{var i=decodeURIComponent(e);if(null==i)throw"malformed URI sequence";return i}catch(n){try{return decodeURIComponent(p(e))}catch(n){return unescape(e)}}}function _(t,e,n){i.undef(t[e])&&(t[e]=[]),i.array(n)?t[e]=t[e].concat(n):t[e].push(n)}function g(t,e){for(var i=t[e],n=i.length,o=new Array(n),s=c(e),r=0;r<n;r++)o[r]=s+"="+c(i[r]);return o}function v(t){for(var e,i,n,o={},s=t.replace(/\+/g,"%20").split("&"),r=0,a=s.length;r<a;r++)(i=(e=s[r].split("=")).shift())&&(n=e.length>1?e.join("="):e[0]||"",_(o,f(i),f(n)));return o}t.URL=function(t){var e=(t=i.def(t)?t.toString():window.location.href).match(n);if(e){if(this.Host=e[6]||"",this.Path=e[9]||"",e[6]){var o=e[6].substring(e[6].lastIndexOf("."));-1!=$.inArray(o,l)&&(this.Path=e[6],this.Host="")}this.Href=e[0],this.Proto=e[4]||"",this.Port=e[8]||0,this.Path=function(t){try{var e=decodeURI(t);if(null==e)throw"malformed URI sequence";return e}catch(i){try{return decodeURI(p(t))}catch(i){return unescape(t)}}}(this.Path),this.Query=v(e[11]||""),this.Hash=f(e[13]||"")}},t.URL.prototype={go:function(){window.location.href=this.toString()},toString:function(){var t="";if((this.Proto||this.Host)&&this.Host&&(t+=(this.Proto||"http")+"://"+this.Host,this.Port&&(t+=":"+this.Port)),this.Path){this.Host&&0!=this.Path.indexOf("/")&&(t+="/"),u.lastIndex=0;for(var e,i=0,n=[];e=u.exec(this.Path);)u.lastIndex>i&&e[0]&&(n.push(this.Path.slice(i,e.index)),n.push(e[0]),i=e.index+e[0].length);i!==this.Path.length&&n.push(this.Path.slice(i)),n[0]=encodeURI(n[0]);for(var o=[],s=0;s<n.length;s++)o[s]=s%2?n[s]:encodeURI(n[s]);t+=o.join("")}for(s=0;s<"".length;s++){var r="".charAt(s),a=encodeURIComponent(encodeURIComponent(r)),l=encodeURIComponent(encodeURIComponent(r.toUpperCase()));t.indexOf(a)>-1&&(t=t.replace(new RegExp(a,"g"),r)),t.indexOf(l)>-1&&(t=t.replace(new RegExp(l,"g"),r))}var h=this.query();return h&&(t+="?"+h),this.Hash&&(t+="#"+c(this.Hash)),t},clone:function(){return new t.URL(this.toString())},proto:function(){},host:function(){},port:function(){},path:function(){},hash:function(){},query:function(t){if(i.def(t))return this.clearQuery(),i.string(t)?this.Query=v(t):this.replaceParams(t),this;var e=[];for(var n in this.Query)e=e.concat(g(this.Query,n));return e.join("&")},queryKeys:function(){var t=[];for(var e in this.Query)t.push(e);return t.sort()},addParam:function(t,e){return _(this.Query,t,e),this},addParams:function(t){for(var e in t)_(this.Query,e,t[e]);return this},removeParams:function(t){for(var e=0,i=t.length;e<i;e++)delete this.Query[t[e]];return this},replaceParams:function(t){var e=[];for(var i in t)e.push(i);return this.removeParams(e),this.addParams(t),this},clearQuery:function(){return this.Query={},this},getParam:function(t){var e=this.Query[t];return e?e[0]:null},getParams:function(t){return this.Query[t]||[]}};var b=t.URL,y=b.prototype,w={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"};for(h in w)y[h]=function(t){return function(e){return i.def(e)?(this[t]=e,this):this[t]}}(w[h]);return y.get=y.toString,t.Url=function(t){return new b(t)},b.isValid=function(t){return o.test(t)},t.Url}()},u1mq:function(t,e){!function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(i){return(i=e.params=t.extend({id:"",login:e.isSessionValid()&&e.getCookie("yandex_login")||"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":i.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},i,e.params))["show-counters"]=Math.round(100*Math.random())<=i["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},i),i}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(i,n){i=i||document,n=n||".g-js",t(i).find(n).each((function(){var i=t(this),n=i.data("bem")||(this.onclick?this.onclick():{}),o=n.name||"",s=e.block[o];s&&!i.data(o)&&(s.call(i,n),i.data(o,!0).addClass(o+"_js_inited"))}))}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready((function(){e.blockInit()}))))}(jQuery,window.Lego)},u3Bn:function(t,e){BEM.decl("i-showed-counter",{},{setCounter:function(t){if(!t.elem&&!1!==t.useIntersection||!t.urls&&!t.callback&&!t.justRedirStat)return home.error.logError({block:"i-showed-counter",message:"Cannot send counters",meta:t,sourceType:"logic"}),!1;var e={elem:t.elem,callback:t.callback,urls:t.urls,blockId:t.blockId,useIntersection:void 0===t.useIntersection||t.useIntersection,showedTime:"number"!=typeof t.showedTime?2e3:t.showedTime,threshold:t.threshold||.5};return e.useIntersection&&(e.observer=BEM.blocks["i-intersection-observer-wrapper"].create(function(t){var i=t[t.length-1];e.inViewPort=i.intersectionRatio>=e.threshold,e.inViewPort?this._setSendTimer(e):this._removeSendTimer(e)}.bind(this),{threshold:e.threshold})),this._bindEvents(e),this._forceCounter.bind(this,e)},_forceCounter:function(t){this._removeSendTimer(t),this._onShowed(t)},_bindEvents:function(t){this.catchFromFrame(),t.removeSendTimer=this._removeSendTimer.bind(this,t),t.setSendTimer=this._setSendTimer.bind(this,t),t.observer?t.observer.observe(t.elem):BEM.blocks["i-visibilitychange"].waitForVisible((function(){t.setSendTimer(t)})),BEM.channel("sys").on({hidden:t.removeSendTimer,visible:t.setSendTimer}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,pages:this.bannerPages}})},_unBindEvents:function(t){t.observer&&t.observer.unobserve(t.elem),BEM.channel("sys").un({hidden:t.removeSendTimer,visible:t.setSendTimer})},_setSendTimer:function(t){!t.inViewPort&&t.observer||(this._removeSendTimer(t),t.sendTimer=setTimeout(this._onShowed.bind(this,t),t.showedTime))},_removeSendTimer:function(t){t.sendTimer&&(clearTimeout(t.sendTimer),t.sendTimer=null)},_onShowed:function(t){t.observer&&home.stat.logPath("tech",t.blockId+".showed"+this._getPagesPath()),t.urls&&t.urls.length&&(t.urls.forEach((function(t){(new Image).src=t})),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,pages:this.bannerPages}})),t.callback&&t.callback(),BEM.channel("i-showed-counter").trigger("sent",{blockId:t.blockId}),this._unBindEvents(t)},_logFunc:function(t){home&&home.logBanner&&home.logBanner.log&&home.logBanner.log(t)},catchFromFrame:function(){this.frameListener||(window.addEventListener("message",function(t){var e=t&&t.data&&t.data.isc;e&&this._logFunc(e)}.bind(this)),this.frameListener=!0)},_getPagesPath:function(){var t=this.bannerPages;return t?"."+t:""},bannerPages:home.getData("banner.pages")})},u9Bp:function(t,e){MBEM.throttle=function(t,e,i){var n,o,s,r=null,a=0;i||(i={});var c=function(){a=!1===i.leading?0:(new Date).getTime(),r=null,s=t.apply(n,o),r||(n=o=null)};return function(){var l=(new Date).getTime();a||!1!==i.leading||(a=l);var h=e-(l-a);return n=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(n,o),r||(n=o=null)):r||!1===i.trailing||(r=setTimeout(c,h)),s}}},uFzG:function(t,e){t.exports=function(t){if(!t)return"";var e,i,n="";for(e in t)t.hasOwnProperty(e)&&(i=t[e],/^_temp/.test(e)&&"string"==typeof i?n+=" "+i:(i||0===i)&&(!0===i?n+=" "+e.toLowerCase():(i=i.toString(),/"/.test(i)&&(i=i.replace(/"/g,"&quot;")),n+=" "+e.toLowerCase()+'="'+i+'"')));return n}},ufjy:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=Object.prototype.toString;function o(t,e){if(!e)return t;for(var i in e)if("__proto__"!==i&&e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)?(t[i]=Array.isArray(t[i])?t[i]:[],o(t[i],s)):"[object Date]"===n.call(s)||"object"!=typeof s||null===s?t[i]=s:(t[i]="[object Object]"===n.call(t[i])?t[i]:{},o(t[i],s))}return t}},uhQy:function(t,e){BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",(function(t){t.stopPropagation(),this.hide({source:"outside-click"})})),this.bindTo(t,"pointerdown",(function(){this._skipReturnFocus=!0}))),this.bindTo("pointerdown pointerclick",(function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)})),this.bindToDoc("pointerclick",(function(t){if(this._preventHideByClick)this._preventHideByClick=null;else if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}})),this.bindToDoc("pointerdown",(function(){this._skipReturnFocus=!0}))}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var i,n=this._childs.length;for(i=0;i<n;i++)if(this.containsDomElem.call({domElem:this._childs[i].domElem},t))return!0;return!1}})},uifs:function(t,e){window.BEM&&BEM.channel("i-bem").onFirst("start-init",(function(){Ya.Rum.getSetting("sendBeforeBemInited")&&Ya.Rum.sendTimeMark("2418")})).onFirst("init",(function(){Ya.Rum.sendTimeMark("2295")}))},"ut/M":function(t,e){BEM.DOM.decl("keyboard-loader",{onSetMod:{js:function(){var t=this;Lego.block["keyboard-loader"].call(this.domElem,this.params),$(window).on("keyboardOpened.lego",(function(){home.stat.logPath("click",t.params.statOpen),t.getVkbd().removeAttr("disabled")})).on("keyboardClosed.lego",(function(e){"lego"===e.namespace&&home.stat.logPath("click",t.params.statClose),t.getVkbd().attr("disabled","disabled")}))}},getVkbd:function(){return this._vkbd?this._vkbd:this._vkbd=$('<input type="hidden" name="vkbd" value="1"/>').appendTo(this.domElem)}}),function(t,e){e||(e=window.Lego={}),e.block||(e.block={}),e.block["keyboard-loader"]=function(i){var n=t(document.body),o=t(window),s=this,r=t(".b-topbar__popup.popup_behavior_snap"),a=r.length?r.bem("popup"):null;function c(i){t("body").removeClass("b-page_keyboard");var s=i?"addClass":"toggleClass",r=n.find(".keyboard-popup");if(r.length){if(n.find(".keyboard-popup__gap")[s]("keyboard-popup__gap_hidden_yes"),n.find(".keyboard-popup")[s]("keyboard-popup_hidden_yes").hasClass("keyboard-popup_hidden_yes")){o.trigger("keyboardClosed"),t(document).trigger("popupsClose.lego");var a=e.block.keyboard._lastFocusedIn;void 0!==a&&a.focus()}else o.trigger("keyboardOpened.lego");r.data("isHidden",!1)}}s.click((function(s){s.preventDefault(),a&&a._unbindFromResize();var r=(this.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1];n.find(".keyboard")[0]?(c(),a&&a._bindToResize()):home.bundles.load("keyboard").then((function(){e.block["keyboard-popup"]({lang:r,"for":i["for"]}),n.append('<div class="keyboard i-bem" data-bem=\'{&quot;keyboard&quot;: { &quot;lang&quot;:&quot;'+r+"&quot;}}'></div>"),BEM.DOM.init(t(".keyboard")),o.trigger("keyboardOpened.lego",{afterLoad:!0}),t(".keyboard").on("click",".keyboard__key",(function(){var e,i=t("*:focus").offset();i&&(e=i.top,t(".keyboard-popup").offset().top<e+30&&window.scrollTo(0,e-20))}))}))["catch"]((function(t){home.error.logError({block:"keyboard-loader",message:"_downloadResources: fail"},t)}))})),o.bind("keyboardOpen.lego",(function(){s.click()})).bind("keyboardClose.lego",c),i["for"]&&o.bind("keyboardOpened.lego",(function(e,n){!(n&&n.afterLoad&&i.autoLoad)&&t(i["for"]).focus()})),o.bind("keyboardLangChanged.lego keyboardSetLang.lego",(function(t,e){var i=s.find(".keyboard-loader__flag");i[0]&&("tt"===e&&(e="ru"),i.attr("src",i.attr("src").replace(/[a-z]+\.png$/,e+".png")))})),i.storeState=!1!==i.storeState,i.storeState&&o.bind("keyboardOpened.lego",(function(){u("keyboard_state","open");var e=h("keyboard_lang");e&&t(window).trigger("keyboardSetLang.lego",e)})).bind("keyboardClosed.lego",(function(){t("body").removeClass("b-page_keyboard"),u("keyboard_state","close")})).bind("keyboardLangChanged.lego",(function(t,e){u("keyboard_lang",e)}));var l="#kb"===window.location.hash;function h(t){return d()[t]}function d(){var e={};return t.each(window.name.split("&"),(function(){if(this.toString()){var t=this.split("=");e[t[0]]=t[1]}})),e}function u(e,i){var n=d(),o=[];n[e]=i,t.each(n,(function(t,e){o.push(t+"="+e)})),window.name=o.join("&")}(i.autoLoad||i.storeState&&"open"===h("keyboard_state")||l)&&s.click(),o.bind("keyboardOpened.lego",(function(){t("input:focus").focus(),t("body").addClass("b-page_keyboard")}))}}(jQuery,window.Lego)},ut9o:function(t,e){window.ya=window.ya||{},ya.history=window.history&&history.pushState?{navigate:function(t){(t=t||{}).url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){$(window).on("popstate",(function(e){t.call(this,e.originalEvent)}))}}:null},uy6q:function(t,e){MBEM.insertAfter=function(t,e){"function"==typeof e.insertAdjacentElement?e.insertAdjacentElement("afterend",t):e.parentNode.insertBefore(t,e.nextSibling)}},v2Tx:function(t,e){BEM.decl("i-embeddedauth",{addCallback:function(t){var e="cb"+Math.random();return this.callbacks||(this.callbacks={}),this.callbacks[e]=t,e},addQueryParam:function(t,e){var i=t.split("?"),n=i[1]?i[1].split("&"):[];return n.push(e),i[1]=n.join("&"),i.join("?")},bindCallback:function(){var t=this;window.mordaAuth={onResponse:function(e){if(e){for(var i=e.split("?")[1].split("&"),n={},o=0,s=i.length;o<s;o++){var r=i[o].split("=");n[r.shift()]=decodeURIComponent(r.join("="))}t.processResponse(n)}else t.processResponse()}}},submit:function(){this.getForm().trigger("submit")},setData:function(t,e){if(t=$.extend({},this.params.params||{},t),this.idkey&&(t.idkey=this.idkey),e){var i=this.addCallback(e);t.retpath=this.addQueryParam(t.retpath,"from="+i)}return this.getForm().html(this.stringifyParams(t)),this},setDomain:function(){var t=document.domain.match(/([^.]+(?:\.com?)?\.)?[^.]+$/)[0];try{document.domain=t}catch(e){}},stringifyParams:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=this.getInputHtml(i,t[i]));return e},getInputHtml:function(t,e){return'<input name="'+t+'" value="'+e+'"/>'},getForm:function(){if(this.form)return this.form;this.setDomain(),this.bindCallback();var t="embeddedauthframe"+parseInt(1e4*Math.random(),10);return this.form=$('<form style="display:none" target="'+t+'" method="'+(this.params.method||"post")+'" action="'+this.params.action+'"></form>'),this.frame=$('<iframe style="display:none" name="'+t+'"></iframe>'),$("body").append(this.form,this.frame),this.form},processResponse:function(t){var e=function(){};if(t)switch(t.from&&this.callbacks[t.from]&&(e=this.callbacks[t.from],this.callbacks[t.from]=!1),this.idkey=t.idkey,t.status){case"login-empty":case"password-empty":case"account-not-found":case"password-invalid":case"action-not-required":case"ok":case"uid-empty":case"sessionid-invalid":case"session-no-uid":case"yu-empty":case"yu-invalid":case"captcha-invalid":case"captcha-required":return e(t),void this.trigger("data-received",t);case"internal-exception":return this.idkey="",this._interr?(e(t),void this.trigger("data-received",t)):(this._interr=!0,t.from&&(this.callbacks[t.from]=e),void this.submit());default:t.url?window.location=t.url:(e(t),this.trigger("data-received",t))}else this.trigger("no-data")}})},vPEt:function(t,e){MBEM.encodeUriComponent=function(t){try{return encodeURIComponent(t)}catch(e){t=t.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,"").replace(/([^\ud800-\udbff]|^)[\udc00-\udfff]/g,(function(t){return t.slice(0,-1)}));try{return encodeURIComponent(t)}catch(i){throw new URIError("  : "+t)}}}},vRk5:function(t,e){BEM.DOM.declMix("mix-tabber-slide2",{_changeTab:function(t,e){var i=this._mapKeyToIndex(this._selectedKey),n=this._mapKeyToIndex(t);this._showSide=i<n?"right":"left",this._hideSide=i<n?"left":"right",this._hasAnimation=!(e&&!1===e.animate),this.domElem.toggleClass("mix-tabber-slide2_panel-animation_yes",this._hasAnimation),this.__base.apply(this,arguments)},_toggleMountPanel:function(t,e,i){if(this._panelMap=this._panelMap||{},this._panelMap[t]=i,i){e.parent().length||this.elem("panels").append(e),e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._showSide).addClass("mix-tabber-slide2__panel_hidden_yes").removeClass("mix-tabber-slide2__panel_no-place_yes");var n=function(){this._panelMap[t]===i&&e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").removeClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,(function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")}))}.bind(this);this._hasAnimation?setTimeout(n,100):n()}else e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._hideSide).addClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_no-place_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,(function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")}))},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass("mix-tabber-slide2__panel"),t}},{SLIDE_DURATION:250})},vci6:function(t,e){BEM.DOM.decl({block:"arrowed-list",modName:"theme",modVal:"media"},{getDefaultParams:function(){return{moveRatio:.75,duration:900}},_getItems:function(){var t=this.elem("items-wrapper");return t.length?t.children().toArray():this.elem("list").children().toArray()},_getContainerWidth:function(){return this.elem("content").outerWidth(!0)},moveLeft:function(){this.__base.apply(this,arguments),this.params.counter&&home.stat.logPath("click",this.params.counter+".swipe.left")},moveRight:function(){this.__base.apply(this,arguments),this.params.counter&&home.stat.logPath("click",this.params.counter+".swipe.right")},toggleArrows:function(){this.__base.apply(this,arguments),this.params.counter&&!this._scrollCounted&&this.hasMod("left","yes")&&(home.stat.logPath("scroll",this.params.counter+".scroll"),this._scrollCounted=!0)},animate:function(t,e){(e=e||{}).easing=e.easing||"easeOutQuint",this.__base(t,e)}})},vhCX:function(t,e){BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"geo"},{val:function(){return this.elem("reg").text()},enter:function(){},select:function(t){$(".input__geo").val(this.domElem.data("id"))}})},vy0I:function(t,e){MBEM.decl({block:"mini-suggest",modName:"request",modVal:"xhr"},{_request:function(t,e,i){this.params.abortPrevXhr&&this._abortPrevXhr&&this._abortPrevXhr(),this._abortPrevXhr=MBEM.ajax(this._prepareRequestUrl(t),{successCallback:e.bind(this,t),errorCallback:i,ctx:this,timeout:this.params.xhrTimeout}),this.trigger("request",{text:t})}})},"w//E":function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._prevRequestText=null,this._focused=!1,this._empty=!0,this._setElements(),this._syncVal(),this._bindHandlers(),setTimeout(function(){document.activeElement===this._input&&this._onInputFocus()}.bind(this),0)},_setElements:function(){this._input=this.domElem},_bindHandlers:function(){this.bindTo(this._input,"focus",MBEM.eventProxy("_onInputFocus",this)).bindTo(this._input,"blur deactivate",MBEM.eventProxy("_onInputBlur",this)).bindTo(this._input,"input",MBEM.eventProxy("_onInput",this)),this.on("item-click",MBEM.eventProxy("_onItemClick",this)),9===document.documentMode&&this.bindTo(document,"selectionchange",(function(){document.activeElement===this._input&&this._onInput()}))},_onInputFocus:function(){this._focused||this._openSuggest()},_openSuggest:function(){this._fixScrollTop(),this._update(),this._checkAndShowPopup(),this._focused=!0,this._startInput()},_startInput:function(){this._inputStarted||(this._inputStarted=!0,this.trigger("start-input"))},_onInputBlur:function(){this._focused&&this._closeSuggest()},_closeSuggest:function(){this._checkAndHidePopup(),this._focused=!1},_onInput:function(){this._input.value!==this._val&&(this._syncVal(),this._update(),this.trigger("input-change",{type:"user"}))},_checkAndShowPopup:function(){this._shouldShowPopup()&&this._showPopup()},_shouldShowPopup:function(){return!this._isShown&&!this._empty},_showPopup:function(){this._createPopup(),MBEM.cls.add(this.domElem,"mini-suggest_open"),this.trigger("popup-show",{empty:this._empty}),this._isShown=!0},_checkAndHidePopup:function(){this._isShown&&this._hidePopup()},_hidePopup:function(){MBEM.cls.remove(this.domElem,"mini-suggest_open"),this.trigger("popup-hide"),this._isShown=!1},_update:function(t){(t||this._prevRequestText!==this._val)&&(this._prevRequestText=this._val,!this.params.skipEmptyRequest||this._val?this._request(this._val,this._onResponse):this._renderItems([]))},_onResponse:function(t,e,i){var n=this._processResponse(e),o=t===this._prevRequestText;this.trigger("response",{data:e,items:n,url:i.url,duration:i.duration,relevant:o,text:t}),o&&this._renderItems(n)},_processResponse:function(t){return this.params.responseAdapter?this.params.responseAdapter(t):t},_renderItems:function(t){this._createPopup(),t.length?this._renderItemsFilled(t):this._renderItemsEmpty(),this._syncItems(t)},_renderItemsFilled:function(t){this._popupContent.innerHTML=this._getItemsHTML(t),this.trigger("popup-update",{items:t}),this._empty=!1,this._focused&&this._checkAndShowPopup()},_renderItemsEmpty:function(){this._popupContent.innerHTML="",this.trigger("popup-clear"),this._empty=!0,this._checkAndHidePopup()},_getItemsHTML:function(t){return t.reduce(this._renderItem.bind(this),"")},_renderItem:function(t,e,i){if(this.params.itemRenderer)return t+this.params.itemRenderer(e,i);var n=e[0];if(!this.__self.itemTypeIsSupported(n))return t;var o=this._buildItem(e,i),s=this._buildItemContent(e,o);return o.linkAttrs&&(s=this._wrapItemLink(s,o.linkAttrs)),t+(s?"<"+o.tag+' class="'+o.className+'"'+this.__self.toHtmlAttrsString(o.attrs)+">"+s+"</"+o.tag+">":"")},_buildItem:function(t,e){return{tag:"li",className:"mini-suggest__item mini-suggest__item_type_"+t[0],attrs:{"data-index":e,"data-type":t[0]},content:{}}},_wrapItemLink:function(t,e){return"<a"+this.__self.toHtmlAttrsString(e)+">"+t+"</a>"},_createPopup:function(){if(this._popup)return!1;var t=this._popup=document.createElement("div");t.className=this._buildPopupClassList();var e=this._popupContent=document.createElement("ul");return e.className="mini-suggest__popup-content",e.setAttribute("role","listbox"),t.appendChild(e),this._appendPopup(t),this._popup},_buildPopupClassList:function(){return"mini-suggest__popup mini-suggest__popup_svg_"+(this.__self.hasSvg()?"yes":"no")},_appendPopup:function(t){MBEM.insertAfter(t,this._input)},_onPopupClick:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");if(e){var i=e.getAttribute("data-text"),n=e.getAttribute("data-type");switch(n){case"tpah":this._handleTpahClick(t,e,i);break;case"fulltext":case"fact":this._changeText(i,"suggest-item",!1,(function(){this.trigger("item-click",this._getItemEventProps(e,n))}));break;case"nav":this._handleLinkItemClick(t,e,n,i)}}},_handleTpahClick:function(t,e,i){this._changeText(i+" ","tpah",!0,(function(){this.trigger("item-tpah",{itemIndex:0|e.getAttribute("data-index"),val:i})}))},_onItemClick:function(){this.params.resetOnSelect&&(this._renderItems([]),this._prevRequestText=null)},_syncVal:function(){this._setVal(this._input.value)},_syncItems:function(t){this._dataItems=t,this._items=MBEM.arrayFrom(this._popupContent.querySelectorAll(".mini-suggest__item"))},_removeItem:function(t){this._items.splice(this._items.indexOf(t),1)},_setVal:function(t){this._val=t,MBEM.cls.toggle(this.domElem,this.__self.className("","has-value","yes"),Boolean(this._val))},_setInputVal:function(t){this._input.value=t},_changeText:function(t,e,i,n){this._input.focus(),i=void 0===i||i,this._setInputVal(t),this._syncVal(),this._moveCaret(),i&&(this._update(),this.trigger("input-change",{type:e})),n&&n.call(this)},_getMainUrlParams:function(t){var e={svg:this.__self.hasSvg()?1:0,part:t,pos:this._getCaretPosition()};return this.params.getExtraUrlParams&&(e=MBEM.extend(e,this.params.getExtraUrlParams(t))),e},_getCaretPosition:function(){var t,e=this._val.length;return document.selection?((t=document.selection.createRange()).moveStart("character",-e),t.text.length):"number"==typeof this._input.selectionStart?this._input.selectionStart:e},_moveCaretToEnd:function(){var t=this._val.length;try{if(void 0!==this._input.createTextRange){var e=this._input.createTextRange();e.collapse(!1),e.select()}else"number"==typeof this._input.selectionStart&&(this._input.scrollLeft=999999,this._input.setSelectionRange(t,t))}catch(i){}},_moveCaretToStart:function(){try{this._input.scrollLeft=0,this._input.setSelectionRange(0,0)}catch(t){}},_moveCaret:function(){this._moveCaretToEnd()},_getItemEventProps:function(t,e,i,n){return{node:t,type:e,subtype:t.getAttribute("data-subtype"),byKeyboard:Boolean(n),itemIndex:0|t.getAttribute("data-index"),val:i||this._val}},_blur:function(){this._input.blur();try{document.activeElement&&document.activeElement.blur()}catch(t){MBEM.consoleError("No active element")}},_handleClick:function(){},_fixScrollTop:function(){window.pageYOffset<1&&(document.body.scrollTop=0)},_handleLinkItemClick:function(t,e,i,n){i&&(e=this._getItemEventProps(e,i,n)),this._touchClick(t)||this.trigger("item-click",e)},_touchClick:function(t,e){return!("touchend"!==t.type||!t.defaultPrevented||((e||t.target).click(),0))}},{hasSvg:function(){return-1!==document.documentElement.className.indexOf("svg_yes")},toHtmlAttrsString:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=" "+i+'="'+String(t[i]).replace(/"/g,"&quot;")+'"');return e},itemTypeIsSupported:function(t){return["fulltext","tpah","nav","fact"].indexOf(t)>-1},itemTypeIsNavigable:function(t){return"nav"===t},itemTypeIsSearchable:function(t){return["fulltext","fact"].indexOf(t)>-1}})},"w/5I":function(t,e){function i(t){return"boolean"!=typeof t&&null!=t?Array.isArray(t)?t.join(""):t:""}t.exports=function(t){return t.map(i).join("")},t.exports.oneElem=i},w2lv:function(t,e){
/**
 * @module inherit
 * @version 2.2.3
 * @author Filatov Dmitry <dfilatov@yandex-team.ru>
 * @description This module provides some syntax sugar for "class" declarations, constructors, mixins,
 *              "super" calls and static members.
 * License: https://github.com/dfilatov/inherit/blob/2.2.3/LICENSE.md
 */
!function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,i=function(){},n=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys,s=t.extend,r=Array.isArray,a=t.isFunction,c=!0,l={toString:""};for(var h in l)l.hasOwnProperty(h)&&(c=!1);var d=c?["toString","valueOf"]:null;function u(i,n,s){for(var r,l,h=function(t){var e=o(t);if(c)for(var i,n=0;i=d[n++];)t.hasOwnProperty(i)&&e.push(i);return e}(s),u=0,m=h.length;u<m;)"__self"!==(r=h[u++])&&(l=s[r],a(l)&&(!e||l.toString().indexOf(".__base")>-1)?n[r]=function(e,o){var s=function(){var t=this.__base;this.__base=s.__base;var e=o.apply(this,arguments);return this.__base=t,e};return s.__base=i[e]||("__constructor"===e?n.__self.__parent:t.noop),s}(r,l):n[r]=l)}function m(e,i){for(var n,o=1;n=e[o++];)i?a(n)?t.inheritSelf(i,n.prototype,n):t.inheritSelf(i,n):i=a(n)?t.inherit(e[0],n.prototype,n):t.inherit(e[0],n);return i||e[0]}t.inherit=function(){var t=arguments,e=r(t[0]),o=e||a(t[0]),c=o?e?m(t[0]):t[0]:i,l=t[o?1:0]||{},h=t[o?2:1],d=l.__constructor||o&&c.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return c.apply(this,arguments)}:function(){};if(!o)return d.prototype=l,d.prototype.__self=d.prototype.constructor=d,s(d,h);s(d,c),d.__parent=c;var p=c.prototype,f=d.prototype=n(p);return f.__self=f.constructor=d,l&&u(p,f,l),h&&u(c,d,h),d},t.inheritSelf=function(){var t=arguments,e=r(t[0]),i=e?m(t[0],t[0][0]):t[0],n=t[1],o=t[2],s=i.prototype;return n&&u(s,s,n),o&&u(i,i,o),i},t.inherit.self=t.inheritSelf}(jQuery)},"w9+T":function(t,e){$.fn.onceAnimationEnd=function(t,e,i){var n,o,s,r=this;function a(){clearTimeout(s),i=null,r.off(n)}"object"==typeof t&&(o=t.property,t=t.type),n="animation"===t?"webkitAnimationEnd animationend":"webkitTransitionEnd transitionend",this.on(n,(function(t){!r.is(t.target)||o&&o!==t.originalEvent.propertyName||i&&(i(r),a())})),e>0&&(s=setTimeout((function(){i&&(i(r),a())}),e+50))}},"wAF/":function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_appendPopup:function(){this.__base.apply(this,arguments);var t=document.createElement("div");t.className="mini-suggest__a11y-popup-container",t.setAttribute("aria-owns",this._suggestListId),MBEM.insertAfter(t,this._input)}})},wNS6:function(t,e){BEM.DOM.decl({block:"arrowed-list",modName:"list-out",modVal:"yes"},{onScroll:function(){this.__base.apply(this,arguments),this._checkEndOfList()},_checkEndOfList:function(){this.update();var t=this.elem("content").scrollLeft(),e=this._scrollWidth,i=this._containerWidth,n=this.params.listOutRatio*this._containerWidth;t<=n&&this.trigger("listOut","left"),t+i>e-n&&this.trigger("listOut","right")},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{listOutRatio:1})}})},wvCv:function(t,e){BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)}})},x8sk:function(t,e){$((function(){if(window.performance&&window.performance.getEntries){var t=home.getData("strm-check.data");if(t){var e=t.logErrors,i="https://strm.yandex.ru/probe/jobs?count="+Math.min(t.count,5)+"&size="+t.size,n=function(t){if(!o){o=!0;var e=[];try{for(var i=window.performance.getEntriesByType("resource"),n=0,s=i.length;n<s;n++)t[i[n].name]&&e.push(i[n])}catch(a){}if(e.length){var r=window.performance&&performance.timing&&performance.timing.navigationStart||"";$.ajax({type:"POST",dataType:"json",url:"https://strm.yandex.ru/perf?rum=1&perfnow="+ +new Date+"&navstart="+r,data:JSON.stringify(e)})}}},o=!1;setTimeout((function(){$.ajax({method:"get",dataType:"json",url:i,timeout:3e4}).then((function(t){t&&t.jobs&&function(t){for(var i=0,o=Math.min(t.length,5),s={},r=function(o){var r=t[o]+"&rnd="+home.rnd();i++,s[r]=!0,$.ajax({method:"get",url:r,timeout:3e4}).then((function(){--i||n(s)}),(function(i,n,s){/egress.strm.yandex.net|egress.yandex.net/.test(r)||e&&home.error.logAjaxError({block:"strm-check",level:"warn",message:"job file error",url:t[o],method:"runUrls",source:"strm"},i,n,s)}))},a=0;a<o;a++)r(a);setTimeout((function(){n(s)}),3e4)}(t.jobs)}),(function(t,n,o){e&&home.error.logAjaxError({block:"strm-check",message:"probe/jobs error",url:i,method:"getUrls",source:"strm"},t,n,o)}))}),1e3*t.timeout)}}}))},xbib:function(t,e){MBEM.decl("mini-suggest",{_bindHandlers:function(){if(this.__base.apply(this,arguments),"ResizeObserver"in window){var t=new ResizeObserver(this._repositionPopup.bind(this));t.observe(document.body)}},_repositionPopup:function(){if(this.__base.apply(this,arguments),this._popup){var t=this._input.getBoundingClientRect().width,e=MBEM.cls.contains(document.documentElement,"document_dark_yes");this._popup.style.width=e?t+2+"px":t+"px"}}})},xs0k:function(t,e){BEM.DOM.decl({block:"menu",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.elem("item").attr("id",(function(t,e){return e||$.identify()})),this._val=this.getVal()}},disabled:function(t,e){this.__base.apply(this,arguments),this.setMod(this.elem("item"),t,e)}},onElemSetMod:{item:{hovered:{yes:function(t){if(this.hasMod(t,"disabled"))return!1;this.delMod(this.elem("item","hovered","yes"),"hovered"),this.domElem.attr("aria-activedescendant",t.attr("id")),this.trigger("item-hover",{item:t})},"":function(){this.domElem.removeAttr("aria-activedescendant"),this.trigger("item-hover",{})}},checked:function(t,e,i){this.domElem.attr("aria-selected",Boolean(i))},disabled:{yes:function(){this.delMod("hovered"),this.domElem.attr("aria-disabled",!0)},"":function(){this.domElem.attr("aria-disabled",!1)}}}},_onChange:function(){var t=this._val,e=this.getVal();return t!==e&&(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this},getItems:function(t,e){return this.elem("item",t,e).get().map((function(t){return $(t)}))},setContent:function(t){return BEM.DOM.update(this.domElem,t),this.reset(),this},getVal:function(){},reset:function(){this.dropElemCache()},_onItemEnter:function(t,e){this.setMod(t,"hovered","yes")},_onItemLeave:function(t,e){this.delMod(t,"hovered")},_onItemFocusin:function(t,e){this.setMod(t,"hovered","yes")},_onFocusout:function(t){this.__base.apply(this,arguments),this.delMod(this.elem("item","hovered","yes"),"hovered")},_onItemClick:function(t,e,i){this.trigger("click",{item:t,source:i.source})}},{live:function(){return this.liveBindTo("item","pointerover pointerout",(function(t){var e=t.data.domElem;this.hasMod(e,"disabled","yes")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onItemEnter(e,t):this._onItemLeave(e,t))})).liveBindTo("item","pointerclick",(function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemClick(e,t,{source:"pointer"})})).liveBindTo("item","focusin",(function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemFocusin(e,t)})).liveBindTo("focusout",(function(t){this._onFocusout(t)})),this.__base()}})},"y+UF":function(t,e){BEM.DOM.decl({block:"dropdown2",modName:"switcher",modVal:"elem"},{getSwitcher:function(){return this._switcher||(this._switcher=this.findElem("switcher")),this._switcher}},{live:function(){return this.liveBindTo("switcher","click",(function(t){this._onSwitcherClick(t),t.preventDefault()})),this.liveBindKey("switcher","space enter",(function(t){var e=this.elem("switcher").prop("tagName").toLowerCase();"button"!==e&&("a"!==e&&t.which===BEM.blocks.keycodes.ENTER||t.which===BEM.blocks.keycodes.SPACE)&&(this._onSwitcherClick(t),t.preventDefault())})),this.__base()}})},"y/To":function(t,e){home.decline=function(t,e){return e&&e.length?0===t&&e[3]?e[3]:e[1]||e[2]?e[2]?((t%=100)>=20&&(t%=10),1===t?e[0]:t>1&&t<5?e[1]:e[2]):t>=0&&t<=1?e[0]:e[1]:e[0]:""}},yFtQ:function(t,e){home.rtrim=function(t){return"string"!=typeof t?t:t.replace(/(\s|&nbsp;|&ensp;|&emsp;|&thinsp;)+$/g,"")}},yUmL:function(t,e){MBEM.eventProxy=function(t,e){return function(){return e[t].apply(e,arguments)}}},ydIG:function(t,e){BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_initPopup:function(){this.__base.apply(this,arguments),this._popup.attachToScope(),this._popup.setAnchor(this.elem("box"))}})},ysUB:function(t,e){!function(){"use strict";var t={"":"a","":"b","":"v","":"g","":"d","":"e","":"e","":"j","":"z","":"i","":"y","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sch","":"","":"i","":"","":"e","":"u","":"ya"};home.transliterate=function(e){return e.replace(/[-]/gi,(function(e){var i=e.toLowerCase(),n=i!==e;return i in t&&(i=t[i],n&&(i=i.toUpperCase())),i}))}}()},zAsB:function(t,e){BEM.DOM.decl("news-popup",{onSetMod:{js:function(){var t=this;this.popup=this.findBlockOn(this.domElem,"popup"),this.$customTabLink=$(".news__custom-tab"),this.$tab=this.$customTabLink.closest(".news__tab-wrapper"),this.news=this.findBlockOn(this.$tab.closest(".news"),"news"),this.widget=this.news.findBlockOutside("widget"),this.turnReloadOff(),this.popup.on("show",(function(){home.stat.logDOMShow(t.popup.domElem)})),this.bindTo("add","click",this.add),this.bindTo("cancel","click",this.cancel),this.popup.on("hide",this.hideTab.bind(this)),this.show()}},show:function(){this.popup.setRelativeContainer(this.widget),this.popup.show(this.$customTabLink),this.channel("widget").on("showPreferences",this.hideOnOpenSettings,this),$(window).scrollTop(this.$tab.offset().top),this.elem("add").focus()},hide:function(){this.popup.hide()},add:function(){this.saveNewPattern(),this.saveWidgetSettings()},cancel:function(){this.hide()},hideTab:function(){var t=this.widget.getInstance();this.actualData||t._prefs.customCatId||this.news.hideCustomTab(),this.turnReloadOn()},hideOnOpenSettings:function(t,e){e.elem.instance===this.widget.getInstance()&&this.hide()},saveNewPattern:function(){var t=this.widget.findBlockOutside("widgets");t.params.settings&&t.params.settings.newpattern&&t.save()},saveWidgetSettings:function(){var t=this.widget.getInstance(),e=this.params.customId,i=t._prefs;i.customCatId=e,t.saveValues(i,this.afterSave.bind(this))},afterSave:function(t){"ok"===t.result&&((new Image).src=this.params.cookieUrl,this.actualData=!0),this.hide()},turnReloadOff:function(){this.widget.getInstance().pauseReload=!0},turnReloadOn:function(){var t=this.widget.getInstance();t.pauseReload=!1,!this.actualData&&t._prefs.customCatId?t.reload():Widget.Framework.addToReloadQueue(t,t.onload)}},{live:!1})},zDJ7:function(t,e){BEM.DOM.decl("navi",{onSetMod:{js:function(){this._items=this.elem("item"),this._downVisibleItemsCount=this.params.visibleItemsCount,this._upVisibleItemsCount=0,this._curVisibleItemsCount=this._downVisibleItemsCount,this._upStep=0,this._downStep=this._downVisibleItemsCount,this._firstItemIdx=-1,this._lastItemIdx=this._downVisibleItemsCount,this._topHeight=0,this._hideBottomItems(),this._updateContentHeight(),this._initBlockHeight(),this._updateShadowHeight(),this._bindEvents(),this.delMod(this._items,"disabled"),this.delMod(this.elem("tools"),"hidden"),this._updateSteps(),this.bindTo("container-wrapper","scroll",function(t){t.target.scrollTop&&(t.target.scrollTop=0,this._onClickDownward())}.bind(this))}},onElemSetMod:{upward:{disabled:{yes:function(t){t.attr("tabindex","-1"),this._tryDeleteNavigation()},"":function(t){t.attr("tabindex","0")}}},downward:{disabled:{yes:function(t){t.attr("tabindex","-1"),this._tryDeleteNavigation()},"":function(t){t.attr("tabindex","0")}}}},transitionDuration:500,_overrideItemHeight:function(t,e){t.data("current-height",e)},_getItemHeight:function(t){return t.data("current-height")||t.prop("offsetHeight")||t.data("max-height")||0},_bindEvents:function(){var t=this.params.options;t&&(t.closable&&this.channel("navi").on("closed",this._onItemClosed,this),t.resizable&&this.channel("navi").on("height-change",(function(t,e){e.domElem&&e.height&&this._overrideItemHeight(e.domElem.closest(".navi__item"),e.height),clearTimeout(this._updateHeightTimeout),this._updateHeightTimeout=setTimeout(function(){this._updateContentHeight(),this._updateShadowHeight({delay:0})}.bind(this),e.delay)}),this),BEM.DOM.win.on("resize",$.debounce(this._onResize.bind(this),150)))},_recalcCurrentTopHeight:function(){var t=0;return this._items.each(function(e,i){e<=this._firstItemIdx&&(t-=this._getItemHeight($(i)))}.bind(this)),t},_onResize:function(){this._topHeight=this._recalcCurrentTopHeight(),this._scroll(this._topHeight),this._update()},_initBlockHeight:function(){var t=this.elem("container-wrapper");this._maxContainerHeight=t.height(),this.setMod(t,"animation","yes")},_onItemClosed:function(t,e){var i=(e=e||{}).item,n=e.delay||400,o=i.closest(".navi__item");if(o.parent().length){if(this._minimizeShadow(),this.hasMod(o,"hide","yes")){if(o.index()<this._firstItemIdx+1){var s=o.height();this._removeItem(o),this.setMod(this.elem("container"),"animation","no"),this._topHeight+=s,this._scroll(this._topHeight),setTimeout(function(){this.delMod(this.elem("container"),"animation")}.bind(this),50)}else this._removeItem(o);return this._update(),void this._tryDeleteNavigation()}setTimeout(function(){if(this._removeItem(o),!this._items.length)return this.destruct();this._tryToFillContainer(),this._unhideContainerItems(),this._firstItemIdx===this._lastItemIdx-1&&this._onClickUpward()}.bind(this),n)}},_tryToFillContainer:function(){var t=0;this._lastItemIdx=this._items.length;for(var e=this._firstItemIdx+1;e<this._items.length;e++){var i=this._items[e];if((t+=this._getItemHeight($(i)))>this._maxContainerHeight){this._lastItemIdx=e;break}}this._curVisibleItemsCount=this._lastItemIdx-this._firstItemIdx-1,this._update(),this._updateMods({setElem:0===this._downStep&&this._directions.DOWNWARD,delElem:-1!==this._firstItemIdx&&this._directions.UPWARD,modName:"disabled"})},_update:function(){this._updateContentHeight(),this._updateSteps(),this._updateStack()},_removeItem:function(t){this._items.splice(t.index(),1),t.remove(),this.dropElemCache("item")},_hideItem:function(t){this.setMod(t,"hide","yes"),BEM.channel("navi").trigger("hide-item",{item:t})},_showItem:function(t){this.delMod(t,"hide"),BEM.channel("navi").trigger("show-item",{item:t})},_hideBottomItems:function(){clearTimeout(this.hideBottomItemsTimeout),this._items.each(function(t,e){if(t>this._lastItemIdx-1){var i=$(e);this._hideItem(i)}}.bind(this))},_unhideContainerItems:function(){this._items.each(function(t,e){var i=$(e);t>this._firstItemIdx&&t<this._lastItemIdx&&this._showItem(i)}.bind(this))},_onClickDownward:function(){if(!this.hasMod(this.elem("downward"),"disabled","yes")){this.channel("navi").trigger("scroll",{direction:this._directions.DOWNWARD});var t=this._items,e=this._downStep;t.each(function(t,i){if(t>this._firstItemIdx&&t<=this._firstItemIdx+e){var n=$(i);this._topHeight-=this._getItemHeight($(i)),this._hideItem(n)}}.bind(this)),this._firstItemIdx+=e,this._lastItemIdx=Math.min(this._firstItemIdx+this._downVisibleItemsCount+1,t.length),this._curVisibleItemsCount=this._downVisibleItemsCount,this._hideBottomItems(),this._unhideContainerItems(),this._update(),this._updateMods({setElem:0===this._downStep&&this._directions.DOWNWARD,delElem:-1!==this._firstItemIdx&&this._directions.UPWARD,modName:"disabled"}),this._scroll(this._topHeight)}},_onClickUpward:function(){if(!this.hasMod(this.elem("upward"),"disabled","yes")){this.channel("navi").trigger("scroll",{direction:this._directions.UPWARD});var t=this._items,e=this._upStep;this._firstItemIdx=Math.max(-1,this._firstItemIdx-e),this._lastItemIdx=Math.min(this._firstItemIdx+this._upVisibleItemsCount+1,t.length),t.each(function(t,e){0!==this._topHeight&&t>this._firstItemIdx&&t<this._lastItemIdx&&(this._topHeight+=this._getItemHeight($(e)),this._showItem($(e)))}.bind(this)),this._curVisibleItemsCount=this._upVisibleItemsCount,this._unhideContainerItems(),this._hideBottomItems(),this._update();var i=this._lastItemIdx!==this._items.length;this._updateMods({setElem:0===this._upStep&&this._directions.UPWARD,delElem:i&&this._directions.DOWNWARD,modName:"disabled"}),this._scroll(this._topHeight)}},_scroll:function(t){t=Math.min(t,0),this.elem("container").css("transform","translateY("+t+"px)")},_scrollToEnd:function(){for(;this._lastItemIdx<this._items.length;)this._onClickDownward()},_scrollToTop:function(){for(;this._firstItemIdx>-1;)this._onClickUpward()},_tryDeleteNavigation:function(){-1===this._firstItemIdx&&this._curVisibleItemsCount>=this._items.length&&(this.elem("navigation").remove(),this.dropElemCache("navigation"))},_updateSteps:function(){this._calculateDownwardSteps(),this._calculateUpwardSteps()},_calculateDownwardSteps:function(){this._downStep=0;var t,e,i=0,n=this._items,o=n.length,s=0,r=1,a=this._lastItemIdx,c=o,l=this._curVisibleItemsCount;for(t=a;t*r<c;t+=r){e=n[t];var h=i+this._getItemHeight($(e));if(h>this._maxContainerHeight&&r<0)break;h>this._maxContainerHeight&&r>0?(r=-1,t=a,c=0):(t===n.length-1&&(r=-1,t=a,this._downStep++,l++,c=0),r<0&&l--,s++,i=h,this._downStep+=Math.max(r,0))}0!==this._downStep&&(this._downStep=l,this._downVisibleItemsCount=s)},_calculateUpwardSteps:function(){this._upStep=0;for(var t=this._items,e=t.length,i=this._firstItemIdx,n=1,o=0,s=-1,r=0,a=i;a*s<n;a+=s){var c=t[a],l=o+this._getItemHeight($(c));if(l>this._maxContainerHeight)break;l>this._maxContainerHeight&&s<0?(s=1,a=i,n=e):(0===a&&(s=1,a=i,this._upStep++,n=e),r++,o=l,this._upStep-=Math.min(s,0))}0!==this._upStep&&(this._upVisibleItemsCount=r)},_updateStack:function(){var t=this._items.length-this._lastItemIdx;this.elem("more-count").text(t),this.toggleMod(this.elem("status"),"hide","yes","",0===t),t&&(this.delMod(this.elem("shadow"),"hidden"),this.setMod(this.elem("shadow"),"count",t>1?"many":"one")),this._updateShadowHeight()},_updateMods:function(t){var e=(t=t||{}).setElem,i=t.delElem,n=t.modName,o=t.modVal||"yes";e&&this.setMod(this.elem(e),n,o),i&&this.hasMod(this.elem(i),n,o)&&this.delMod(this.elem(i),n)},_updateContentHeight:function(){for(var t=0,e=this._firstItemIdx+1;e<this._lastItemIdx;e++)t+=this._getItemHeight(this._items.eq(e));this._setContainerHeight(t)},_setContainerHeight:function(t){this.elem("container-wrapper").css("height",t)},_updateShadowHeight:function(t){var e=(t=t||{delay:300}).delay;if(0!==this._items.length){var i=this._items[this._lastItemIdx-1],n=this.elem("shadow-item"),o=this._getItemHeight($(i));setTimeout((function(){n.css("height",o-10)}),e),0===this._downStep&&this.setMod(this.elem("shadow"),"hidden","yes")}},_minimizeShadow:function(){this._lastItemIdx!==this._items.length&&this.elem("shadow-item").css("height","8px")},_directions:{UPWARD:"upward",DOWNWARD:"downward"}},{live:function(){this.liveBindTo("downward status","pointerclick",(function(){this._onClickDownward()})),this.liveBindTo("upward","pointerclick",(function(){this._onClickUpward()})),this.liveBindKey("downward","space enter",(function(t){t.preventDefault(),this._onClickDownward()})),this.liveBindKey("upward","space enter",(function(t){t.preventDefault(),this._onClickUpward()})),this.liveBindTo("item","focusin",(function(t){var e=t.data.domElem.closest(".navi__item").index();e===this._firstItemIdx?this._onClickUpward():e===this._items.length-1?this._scrollToEnd():0===e&&this._scrollToTop()}))}})},zO5c:function(t,e){BEM.DOM.decl({block:"search2",modName:"type",modVal:"2021"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=this.findBlockInside("input");this.toggleMod("empty","yes",!t.val()),t.on("change",(function(){this.toggleMod("empty","yes",!t.val())}),this),t.on("_ahead-visible_*",(function(t,e){this.toggleMod("ahead-visible","yes","yes"===e.modVal)}),this);var e=!1;t.on("focus blur",(function(t){"blur"===t.type&&(e=!0),e&&this.toggleMod("manual-focus","yes","focus"===t.type)}),this),t.domElem.on("click",function(){e=!0,this.setMod("manual-focus","yes")}.bind(this))}}})},zb7N:function(t,e){!function(){var t=home.getData("i-prefetch-stat.data");if(t){var e=!1;home.localStorage.getItem("home:lastPrerenderShowIdLogged")===t.showId&&(e=!0),e||i()||document.addEventListener("visibilitychange",(function n(){i()&&document.removeEventListener("visibilitychange",n)}))}function i(){if("visible"===document.visibilityState)return e||(e=!0,home.localStorage.setItem("home:lastPrerenderShowIdLogged",t.showId),$.ajax({url:"/instant/stlog?msid="+t.showId+"&rnd="+Date.now()+"&from="+t.from,method:"POST",data:"r="+t.root+"&b="+[["search",Object.keys(t.params).map((function(e){return e+"="+encodeURIComponent(t.params[e])})).join(":")].join(":"),"ROOT:k="+t.k].concat(t.shows||[]).join("#"),xhrFields:{withCredentials:!0}})),!0}}()},zcHH:function(t,e){home.shuffle=function(t){for(var e=0,i=t.length;e<i;++e){var n=Math.floor((i-e)*Math.random()),o=t[e];t[e]=t[e+n],t[e+n]=o}return t}},zgJY:function(t,e){!function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery)}}),function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var e={},i=[],n=!1,o="undefined"!=typeof console&&"function"==typeof console.log;function s(t,e){if(n&&o){var i="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,i)}}function r(){this._lang="",this._prj="lego",this._keyset="",this._key=""}r.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){var n;return e&&function(t){t&&i.push(t)}(this._keyset),this._keyset="string"==typeof(n=t)?n:n.block+(n.elem?"__"+n.elem:"")+(n.modName?"_"+n.modName+"_"+n.modVal:""),this},key:function(t){return this._key=t,this},decl:function(t){var i=function(t){var e={};return t.split("__").forEach((function(t,i){var n=[i?"elem":"block","mod","val"];t.split("_").forEach((function(t,i){e[n[i]]=t}))})),e}(this._keyset),n="i-tanker"===i.block?"tanker":this._prj,o=i.elem||this._keyset,s=this._key;(o=(n=i18n[n]||(i18n[n]={}))[o]||(n[o]={}))[s]="function"==typeof t?t:function(){return t};var r=e[this._lang]||(e[this._lang]={});(r[this._keyset]||(r[this._keyset]={}))[s]=t},val:function(t,i){var n=e[this._lang]&&e[this._lang][this._keyset];if(!n)return s("[I18N_NO_KEYSET] %s",this),"";var o=typeof(n=n[this._key]);return"undefined"===o?(s("[I18N_NO_VALUE] %s",this),""):"string"===o?n:n.call(i||this,t)},_cache:function(){return e}};var a=function(t,e,i){return a.keyset(t).key(e,i)};a._proto=new r,a.project=function(t){return this._proto.project(t),this},a.keyset=function(t){return this._proto.keyset(t,!0),this},a.key=function(t,e){var n,o,s=this._proto;return s.lang(this._lang).key(t),n=s.val(e,a),(o=i.length&&i.pop())&&s.keyset(o,!1),n},a.decl=function(t,e,i){var n,o=this._proto;for(n in i&&i.lang&&o.lang(i.lang),o.keyset(t),e)e.hasOwnProperty(n)&&o.key(n).decl(e[n]);return this},a.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},a.debug=function(t){n=!!t},a.lang("ru"),t.I18N=a}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("b-keyboard-popup",{close:""},{lang:"ru"}),BEM.I18N.decl("notifier",{"new-notifications":function(t){return" : "+t.count},"no-new-notifications":"  ",notifier:" "},{lang:"ru"}),BEM.I18N.decl("popup",{add:"",cancel:"",revert:"",apply:""},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"","search-input-label":"","search-service-label":"  ","search-web-label":"  "},{lang:"ru"}),BEM.I18N.decl("tumbler",{off:"",on:""},{lang:"ru"}),BEM.I18N.lang("ru"));if(window.Ya&&Ya.Rum&&Ya.Rum.timeEnd){Ya.Rum.timeEnd("2095");}});